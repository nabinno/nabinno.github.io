{"componentChunkName":"component---src-templates-post-tsx","path":"/posts/55","result":{"data":{"esaPost":{"number":55,"relative_category":"blog/backend","fields":{"title":"PositiveSSLã‚’Herokuã«é©ç”¨ã™ã‚‹","excerpt":"> PROBLEMPROBLEM \n\n- Herokuã®SSLã®æœŸé™ãŒããŸã€‚   > SOLUTIONSOLUTION \n\n- ã¨ã„ã†ã‚ã‘ã§ã€ã„ã¤ã‚‚ã¤ã‹ã£ã¦ã„ã‚‹SSLè²©å£²ä»£ç†åº—ã€ŒNameCheapç¤¾ã®SSLs.comã€ã§PositiveSSLï¼ˆé‹ç”¨Comodoç¤¾ï¼‰ã‚’Herokuã«é©ç”¨ã™ã‚‹ã“ã¨ã«ã€‚   > HOWTOHOWTO \n\n1. è¨¼æ˜æ›¸ã‚’è³¼å…¥ã™ã‚‹ ã¾ã‚ã€SSLè²©å£²ä»£ç†åº—ã§ã‚ã‚Œã°ã©ã“ã§ã‚‚ã„ã„ã‚“ã§ã™ãŒ \n2. ã¾ã‚ã€SSLè²©å£²ä»£ç†åº—ã§ã‚ã‚Œã°ã©ã“ã§ã‚‚ã„ã„ã‚“ã§ã™ãŒ\n3. ç§˜å¯†éµã¨ç½²åãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ã¤ãã‚‹ ç§˜å¯†éµ openssl genrsa -des3 -out server.orig.key 2048 ç§˜å¯†éµãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãªã—openssl rsa -in server.orig.key -out server.key ç½²åãƒªã‚¯ã‚¨ã‚¹ãƒˆ openssl req -new -key server.key -out server.csr \n4. ç§˜å¯†éµ openssl genrsa -des3 -out server.orig.key 2048 \n5. ç§˜å¯†éµãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãªã—openssl rsa -in server.orig.key -out server.key \n6. ç½²åãƒªã‚¯ã‚¨ã‚¹ãƒˆ openssl req -new -key server.key -out server.csr \n7. è¨¼æ˜æ›¸ç™ºè¡Œã‚’ç”³è«‹ã™ã‚‹ SSLè²©å£²ä»£ç†åº—ã‚ˆã‚Šç½²åãƒªã‚¯ã‚¨ã‚¹ãƒˆserver.csrã¨é–¢é€£æƒ…å ±ã‚’é€ä¿¡ã™ã‚‹ \n8. SSLè²©å£²ä»£ç†åº—ã‚ˆã‚Šç½²åãƒªã‚¯ã‚¨ã‚¹ãƒˆserver.csrã¨é–¢é€£æƒ…å ±ã‚’é€ä¿¡ã™ã‚‹\n9. ãƒ‰ãƒ¡ã‚¤ãƒ³ä¿æŒã®è¨¼æ˜ã‚’ã™ã‚‹ PositiveSSLã®é‹ç”¨ä¼šç¤¾Comodoã«ãŸã„ã—ãƒ‰ãƒ¡ã‚¤ãƒ³ä¿æŒã®è¨¼æ˜ã‚’ã™ã‚‹ è¨¼æ˜æ–¹æ³•ã¯ãƒ¡ãƒ¼ãƒ«ã‚’å—ä¿¡ã™ã‚‹ã€ã‚ã‚‹ã„ã¯ã€Webã‚µã‚¤ãƒˆã«ãƒ—ãƒ¬ãƒ¼ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’è¨­ç½®ã™ã‚‹ã‹ã®2æŠ \n10. PositiveSSLã®é‹ç”¨ä¼šç¤¾Comodoã«ãŸã„ã—ãƒ‰ãƒ¡ã‚¤ãƒ³ä¿æŒã®è¨¼æ˜ã‚’ã™ã‚‹\n11. è¨¼æ˜æ–¹æ³•ã¯ãƒ¡ãƒ¼ãƒ«ã‚’å—ä¿¡ã™ã‚‹ã€ã‚ã‚‹ã„ã¯ã€Webã‚µã‚¤ãƒˆã«ãƒ—ãƒ¬ãƒ¼ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’è¨­ç½®ã™ã‚‹ã‹ã®2æŠ\n12. Herokuç”¨ã®è¨¼æ˜æ›¸ã‚’ã¤ãã‚‹ è¨¼æ˜ã‚¿ã‚¹ã‚¯ã‚’ã“ãªã—ã—ã°ã‚‰ãã™ã‚‹ã¨ã€Comodoç¤¾ã‚ˆã‚Šè¤‡æ•°ã®è¨¼æ˜æ›¸ãŒãŠãã‚‰ã‚Œã¦ãã‚‹ Herokuç”¨ã«è¨¼æ˜æ›¸ã‚’ã¤ãã‚‹ cat www_example_com.crt COMODORSADomainValidationSecureServerCA.crt COMODORSAAddTrustCA.crt AddTrustExternalCARoot.crt > server.crt \n13. è¨¼æ˜ã‚¿ã‚¹ã‚¯ã‚’ã“ãªã—ã—ã°ã‚‰ãã™ã‚‹ã¨ã€Comodoç¤¾ã‚ˆã‚Šè¤‡æ•°ã®è¨¼æ˜æ›¸ãŒãŠãã‚‰ã‚Œã¦ãã‚‹\n14. Herokuç”¨ã«è¨¼æ˜æ›¸ã‚’ã¤ãã‚‹ cat www_example_com.crt COMODORSADomainValidationSecureServerCA.crt COMODORSAAddTrustCA.crt AddTrustExternalCARoot.crt > server.crt \n15. Herokuã«è¨¼æ˜æ›¸ã‚’é©ç”¨ã™ã‚‹ æ–°è¦ã§é©ç”¨ã™ã‚‹å ´åˆ heroku addons:add ssl:endpoint heroku certs:add server.crt server.key æ›´æ–°ã™ã‚‹å ´åˆ heroku certs:update server.crt server.key \n16. æ–°è¦ã§é©ç”¨ã™ã‚‹å ´åˆ heroku addons:add ssl:endpoint heroku certs:add server.crt server.key \n17. heroku addons:add ssl:endpoint\n18. heroku certs:add server.crt server.key\n19. æ›´æ–°ã™ã‚‹å ´åˆ heroku certs:update server.crt server.key \n20. heroku certs:update server.crt server.key","thumbnail":"https://img.esa.io/uploads/production/attachments/16651/2021/01/11/97367/5fcde784-4a5e-40b2-8da2-4ea9d5abc177.png"},"wip":false,"body_md":"<img width=\"1920\" alt=\"thumbnail\" src=\"https://img.esa.io/uploads/production/attachments/16651/2021/01/11/97367/5fcde784-4a5e-40b2-8da2-4ea9d5abc177.png\">\r\n\r\n# PROBLEM\r\n- Herokuã®SSLã®æœŸé™ãŒããŸã€‚\r\n\r\n# SOLUTION\r\n- ã¨ã„ã†ã‚ã‘ã§ã€ã„ã¤ã‚‚ã¤ã‹ã£ã¦ã„ã‚‹SSLè²©å£²ä»£ç†åº—ã€ŒNameCheapç¤¾ã®SSLs.comã€ã§PositiveSSLï¼ˆé‹ç”¨Comodoç¤¾ï¼‰ã‚’Herokuã«é©ç”¨ã™ã‚‹ã“ã¨ã«ã€‚\r\n\r\n## HOWTO\r\n1. è¨¼æ˜æ›¸ã‚’è³¼å…¥ã™ã‚‹\r\n    - ã¾ã‚ã€SSLè²©å£²ä»£ç†åº—ã§ã‚ã‚Œã°ã©ã“ã§ã‚‚ã„ã„ã‚“ã§ã™ãŒ\r\n2. ç§˜å¯†éµã¨ç½²åãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ã¤ãã‚‹\r\n    - ç§˜å¯†éµ `openssl genrsa -des3 -out server.orig.key 2048`\r\n    - ç§˜å¯†éµãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãªã—`openssl rsa -in server.orig.key -out server.key`\r\n    - ç½²åãƒªã‚¯ã‚¨ã‚¹ãƒˆ `openssl req -new -key server.key -out server.csr`\r\n3. è¨¼æ˜æ›¸ç™ºè¡Œã‚’ç”³è«‹ã™ã‚‹\r\n    - SSLè²©å£²ä»£ç†åº—ã‚ˆã‚Šç½²åãƒªã‚¯ã‚¨ã‚¹ãƒˆ`server.csr`ã¨é–¢é€£æƒ…å ±ã‚’é€ä¿¡ã™ã‚‹\r\n4. ãƒ‰ãƒ¡ã‚¤ãƒ³ä¿æŒã®è¨¼æ˜ã‚’ã™ã‚‹\r\n    - PositiveSSLã®é‹ç”¨ä¼šç¤¾Comodoã«ãŸã„ã—ãƒ‰ãƒ¡ã‚¤ãƒ³ä¿æŒã®è¨¼æ˜ã‚’ã™ã‚‹\r\n    - è¨¼æ˜æ–¹æ³•ã¯ãƒ¡ãƒ¼ãƒ«ã‚’å—ä¿¡ã™ã‚‹ã€ã‚ã‚‹ã„ã¯ã€Webã‚µã‚¤ãƒˆã«ãƒ—ãƒ¬ãƒ¼ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’è¨­ç½®ã™ã‚‹ã‹ã®2æŠ\r\n5. Herokuç”¨ã®è¨¼æ˜æ›¸ã‚’ã¤ãã‚‹\r\n    - è¨¼æ˜ã‚¿ã‚¹ã‚¯ã‚’ã“ãªã—ã—ã°ã‚‰ãã™ã‚‹ã¨ã€Comodoç¤¾ã‚ˆã‚Šè¤‡æ•°ã®è¨¼æ˜æ›¸ãŒãŠãã‚‰ã‚Œã¦ãã‚‹\r\n    - Herokuç”¨ã«è¨¼æ˜æ›¸ã‚’ã¤ãã‚‹ `cat www_example_com.crt COMODORSADomainValidationSecureServerCA.crt COMODORSAAddTrustCA.crt AddTrustExternalCARoot.crt > server.crt`\r\n6. Herokuã«è¨¼æ˜æ›¸ã‚’é©ç”¨ã™ã‚‹\r\n    - æ–°è¦ã§é©ç”¨ã™ã‚‹å ´åˆ\r\n        - `heroku addons:add ssl:endpoint`\r\n        - `heroku certs:add server.crt server.key`\r\n    - æ›´æ–°ã™ã‚‹å ´åˆ\r\n        - `heroku certs:update server.crt server.key`\r\n\r\n","body_html":"<a href=\"https://img.esa.io/uploads/production/attachments/16651/2021/01/11/97367/5fcde784-4a5e-40b2-8da2-4ea9d5abc177.png\" target=\"_blank\" rel=\"noopener noreferrer\"><img width=\"1920\" alt=\"thumbnail\" src=\"https://img.esa.io/uploads/production/attachments/16651/2021/01/11/97367/5fcde784-4a5e-40b2-8da2-4ea9d5abc177.png\"></a>\n<h1 data-sourcepos=\"3:1-3:9\" id=\"1-0-0\" name=\"1-0-0\">\n<a class=\"anchor\" id=\"PROBLEM\" name=\"PROBLEM\" href=\"#PROBLEM\" data-position=\"1-0-0\"><i class=\"fa fa-link\"></i><span class=\"hidden\" data-text=\"PROBLEM\"> &gt; PROBLEM</span></a>PROBLEM</h1>\n<ul data-sourcepos=\"4:1-5:0\">\n<li data-sourcepos=\"4:1-5:0\">Herokuã®SSLã®æœŸé™ãŒããŸã€‚</li>\n</ul>\n<h1 data-sourcepos=\"6:1-6:10\" id=\"2-0-0\" name=\"2-0-0\">\n<a class=\"anchor\" id=\"SOLUTION\" name=\"SOLUTION\" href=\"#SOLUTION\" data-position=\"2-0-0\"><i class=\"fa fa-link\"></i><span class=\"hidden\" data-text=\"SOLUTION\"> &gt; SOLUTION</span></a>SOLUTION</h1>\n<ul data-sourcepos=\"7:1-8:0\">\n<li data-sourcepos=\"7:1-8:0\">ã¨ã„ã†ã‚ã‘ã§ã€ã„ã¤ã‚‚ã¤ã‹ã£ã¦ã„ã‚‹SSLè²©å£²ä»£ç†åº—ã€ŒNameCheapç¤¾ã®SSLs.comã€ã§PositiveSSLï¼ˆé‹ç”¨Comodoç¤¾ï¼‰ã‚’Herokuã«é©ç”¨ã™ã‚‹ã“ã¨ã«ã€‚</li>\n</ul>\n<h2 data-sourcepos=\"9:1-9:8\" id=\"2-1-0\" name=\"2-1-0\">\n<a class=\"anchor\" id=\"HOWTO\" name=\"HOWTO\" href=\"#HOWTO\" data-position=\"2-1-0\"><i class=\"fa fa-link\"></i><span class=\"hidden\" data-text=\"HOWTO\"> &gt; HOWTO</span></a>HOWTO</h2>\n<ol data-sourcepos=\"10:1-30:0\">\n<li data-sourcepos=\"10:1-11:75\">è¨¼æ˜æ›¸ã‚’è³¼å…¥ã™ã‚‹\n<ul data-sourcepos=\"11:5-11:75\">\n<li data-sourcepos=\"11:5-11:75\">ã¾ã‚ã€SSLè²©å£²ä»£ç†åº—ã§ã‚ã‚Œã°ã©ã“ã§ã‚‚ã„ã„ã‚“ã§ã™ãŒ</li>\n</ul>\n</li>\n<li data-sourcepos=\"12:1-15:78\">ç§˜å¯†éµã¨ç½²åãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ã¤ãã‚‹\n<ul data-sourcepos=\"13:5-15:78\">\n<li data-sourcepos=\"13:5-13:64\">ç§˜å¯†éµ <code>openssl genrsa -des3 -out server.orig.key 2048</code>\n</li>\n<li data-sourcepos=\"14:5-14:85\">ç§˜å¯†éµãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãªã—<code>openssl rsa -in server.orig.key -out server.key</code>\n</li>\n<li data-sourcepos=\"15:5-15:78\">ç½²åãƒªã‚¯ã‚¨ã‚¹ãƒˆ <code>openssl req -new -key server.key -out server.csr</code>\n</li>\n</ul>\n</li>\n<li data-sourcepos=\"16:1-17:93\">è¨¼æ˜æ›¸ç™ºè¡Œã‚’ç”³è«‹ã™ã‚‹\n<ul data-sourcepos=\"17:5-17:93\">\n<li data-sourcepos=\"17:5-17:93\">SSLè²©å£²ä»£ç†åº—ã‚ˆã‚Šç½²åãƒªã‚¯ã‚¨ã‚¹ãƒˆ<code>server.csr</code>ã¨é–¢é€£æƒ…å ±ã‚’é€ä¿¡ã™ã‚‹</li>\n</ul>\n</li>\n<li data-sourcepos=\"18:1-20:127\">ãƒ‰ãƒ¡ã‚¤ãƒ³ä¿æŒã®è¨¼æ˜ã‚’ã™ã‚‹\n<ul data-sourcepos=\"19:5-20:127\">\n<li data-sourcepos=\"19:5-19:86\">PositiveSSLã®é‹ç”¨ä¼šç¤¾Comodoã«ãŸã„ã—ãƒ‰ãƒ¡ã‚¤ãƒ³ä¿æŒã®è¨¼æ˜ã‚’ã™ã‚‹</li>\n<li data-sourcepos=\"20:5-20:127\">è¨¼æ˜æ–¹æ³•ã¯ãƒ¡ãƒ¼ãƒ«ã‚’å—ä¿¡ã™ã‚‹ã€ã‚ã‚‹ã„ã¯ã€Webã‚µã‚¤ãƒˆã«ãƒ—ãƒ¬ãƒ¼ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’è¨­ç½®ã™ã‚‹ã‹ã®2æŠ</li>\n</ul>\n</li>\n<li data-sourcepos=\"21:1-23:173\">Herokuç”¨ã®è¨¼æ˜æ›¸ã‚’ã¤ãã‚‹\n<ul data-sourcepos=\"22:5-23:173\">\n<li data-sourcepos=\"22:5-22:114\">è¨¼æ˜ã‚¿ã‚¹ã‚¯ã‚’ã“ãªã—ã—ã°ã‚‰ãã™ã‚‹ã¨ã€Comodoç¤¾ã‚ˆã‚Šè¤‡æ•°ã®è¨¼æ˜æ›¸ãŒãŠãã‚‰ã‚Œã¦ãã‚‹</li>\n<li data-sourcepos=\"23:5-23:173\">Herokuç”¨ã«è¨¼æ˜æ›¸ã‚’ã¤ãã‚‹ <code>cat www_example_com.crt COMODORSADomainValidationSecureServerCA.crt COMODORSAAddTrustCA.crt AddTrustExternalCARoot.crt &gt; server.crt</code>\n</li>\n</ul>\n</li>\n<li data-sourcepos=\"24:1-30:0\">Herokuã«è¨¼æ˜æ›¸ã‚’é©ç”¨ã™ã‚‹\n<ul data-sourcepos=\"25:5-30:0\">\n<li data-sourcepos=\"25:5-27:50\">æ–°è¦ã§é©ç”¨ã™ã‚‹å ´åˆ\n<ul data-sourcepos=\"26:9-27:50\">\n<li data-sourcepos=\"26:9-26:42\"><code>heroku addons:add ssl:endpoint</code></li>\n<li data-sourcepos=\"27:9-27:50\"><code>heroku certs:add server.crt server.key</code></li>\n</ul>\n</li>\n<li data-sourcepos=\"28:5-30:0\">æ›´æ–°ã™ã‚‹å ´åˆ\n<ul data-sourcepos=\"29:9-30:0\">\n<li data-sourcepos=\"29:9-30:0\"><code>heroku certs:update server.crt server.key</code></li>\n</ul>\n</li>\n</ul>\n</li>\n</ol>\n","tags":[],"updated_at":"2021-01-11T12:50:52+09:00","childPublishedDate":{"published_on":"2017-04-23T00:00:00.000Z"},"updated_by":{"name":"ãªã³ã®ğŸ‘·","screen_name":"nabinno","icon":"https://img.esa.io/uploads/production/members/94286/icon/thumb_m_ef5f024307008aa399b91f87fa5f64e8.jpg"}},"relatedPosts":{"edges":[{"node":{"number":67,"relative_category":"blog/frontend","fields":{"title":"esaã‚’Headless CMSã¨ã—ã¦ä½¿ã†","excerpt":"æœ€è¿‘ä»•äº‹ã®åŒåƒšã‹ã‚‰Headless CMS ã¨ã„ã†è¨€è‘‰ã‚’èã„ã¦ã„ã¦ã€Œè‡ªåˆ†ã«ã¯é–¢ä¿‚ãªã„ãªã€ã¨è·é›¢ã‚’å–ã£ã¦ã„ãŸã®ã§ã™ãŒã€ãªãœã‹å›ã‚Šå›ã£ã¦è‡ªåˆ†ã‹ã‚‰Headless CMSã‚’ä½œã‚‹ã“ã¨ã«ãªã‚Šã¾ã—ãŸã€‚ä¸–ã®ä¸­ä½•ãŒèµ·ãã‚‹ã‹åˆ†ã‹ã‚‰ãªã„ã§ã™ã­ã€‚   > PROBLEMPROBLEM \n\n- ãƒ–ãƒ­ã‚°ã‚’æ™®æ®µæ›¸ã‹ãªã„äººãªã®ã ãŒã€ã‚ˆãå‘ã‘ã«æƒ…å ±ç™ºä¿¡ã™ã‚‹å¿…è¦ãŒå‡ºã¦ããŸ ã¨ã¯è¨€ã£ã¦ã‚‚ã€ä»Šã¾ã§Markdownã‚’Jekyllã§ç®¡ç†ã—ã¦ã„ãŸã®ã§ç”»åƒã‚’è²¼ã‚Šä»˜ã‘ã‚‹ã®ãŒæ‰‹é–“ã§ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å¤§ããä¸‹ãŒã£ã¦ã„ãŸ ã•ã‚‰ã«PlantUMLã‚’å‡ºåŠ›ã™ã‚‹ã®ã‚‚æ‰‹é–“ã€è©¦è¡ŒéŒ¯èª¤ã—ãŸæœ«ã«ã„ãšã‚Œã‚‚ä»˜ã‘ç„¼ãåˆƒã§esaã®æ“ä½œæ„Ÿã«å‹ã¦ã‚‹ã‚‚ã®ã¯ãªã‹ã£ãŸ \n- ã¨ã¯è¨€ã£ã¦ã‚‚ã€ä»Šã¾ã§Markdownã‚’Jekyllã§ç®¡ç†ã—ã¦ã„ãŸã®ã§ç”»åƒã‚’è²¼ã‚Šä»˜ã‘ã‚‹ã®ãŒæ‰‹é–“ã§ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å¤§ããä¸‹ãŒã£ã¦ã„ãŸ ã•ã‚‰ã«PlantUMLã‚’å‡ºåŠ›ã™ã‚‹ã®ã‚‚æ‰‹é–“ã€è©¦è¡ŒéŒ¯èª¤ã—ãŸæœ«ã«ã„ãšã‚Œã‚‚ä»˜ã‘ç„¼ãåˆƒã§esaã®æ“ä½œæ„Ÿã«å‹ã¦ã‚‹ã‚‚ã®ã¯ãªã‹ã£ãŸ \n- ã•ã‚‰ã«PlantUMLã‚’å‡ºåŠ›ã™ã‚‹ã®ã‚‚æ‰‹é–“ã€è©¦è¡ŒéŒ¯èª¤ã—ãŸæœ«ã«ã„ãšã‚Œã‚‚ä»˜ã‘ç„¼ãåˆƒã§esaã®æ“ä½œæ„Ÿã«å‹ã¦ã‚‹ã‚‚ã®ã¯ãªã‹ã£ãŸ   > SOLUTIONSOLUTION \n\nã¨ã„ã†ã‚ã‘ã§ã€esaã‚’Headless CMSã¨ã—ã¦ä½¿ã†ã“ã¨ã«ã—ã¾ã—ãŸã€‚ \n\nã‚„ã£ã¦ã‚‹ã“ã¨ã¯æ˜”ã®MovableTypeãã®ã‚‚ã®ã§æ‡ã‹ã—ã‹ã£ãŸã§ã™ã€‚ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’åˆ¥ã‚·ã‚¹ãƒ†ãƒ ã§ç®¡ç†ã—ãƒ“ãƒ«ãƒ‰ã‚µãƒ¼ãƒãƒ¼ã«å½“è©²ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’æµã—è¾¼ã¿ãƒªãƒ“ãƒ«ãƒ‰ã€æœ€å¾Œã«ãƒ›ã‚¹ãƒˆã‚µãƒ¼ãƒãƒ¼ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã¨ã„ã†ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã€‚ä»Šã¯JAMStackã®æ–‡è„ˆã§èªã‚‰ã‚Œã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚ \n\nã“ã®Headless CMSãŒæ˜”ã¨é•ã†ã®ã¯ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ä½œæˆã«é›†ä¸­ã§ãã‚‹ã“ã¨ã€‚CIå‘¨ã‚ŠãŒç™ºé”ã—ãŸã®ã§ä¸€åº¦ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’çµ„ã¿ç«‹ã¦ã‚Œã°å¾Œã¯è‡ªå‹•ã§ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ç”Ÿæˆã§ãã¾ã™ã€‚   > ã‚„ã‚Šæ–¹ã‚„ã‚Šæ–¹ \n\n- esa.io ã§ã‚†ã‚‹ãµã‚æƒ…å ±å…±æœ‰ - Middleman Blog ã¸ã® Export ã‚µãƒ³ãƒ—ãƒ«ä»˜ã #esa_io - Qiita\n- æŠ€è¡“ãƒ–ãƒ­ã‚°ã‚’æ”¯ãˆã‚‹æŠ€è¡“ï¼ˆGatsby + esaioï¼‰ - mottox2 blog\n- Next.jsã¨esaã‚’ä½¿ã£ãŸå€‹äººã‚µã‚¤ãƒˆæ§‹ç¯‰ | corocn.dev \n\nãã‚Œã»ã©æ™‚é–“ã‚’ã‹ã‘ã‚‰ã‚Œãªã‹ã£ãŸã®ã§ã€ä¸Šè¨˜3è¨˜äº‹ã®ä¸­ã§æ‰‹è»½ã•ã‚’è€ƒæ…®ã—mottox2ã•ã‚“ã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’æ‹å€Ÿã—ã¾ã—ãŸã€‚ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚ \n\n- ä½œã£ãŸãƒ¬ãƒã‚¸ãƒˆãƒªï¼šnabinno/nabinno.github.io: On Blahfe - Nab's Github Pages    > ã‚·ãƒ¼ã‚¯ã‚¨ãƒ³ã‚¹å›³ã‚·ãƒ¼ã‚¯ã‚¨ãƒ³ã‚¹å›³ \n\nç§ãŒæ‰‹ã‚’å…¥ã‚ŒãŸã®ã¯ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å‰Šã‚ŠGatsby Blog Starterã«å¯„ã›ãŸã®ã¨ã€ãƒ‡ãƒ—ãƒ­ã‚¤æ–¹æ³•ã‚’ä½¿ã„æ…£ã‚ŒãŸCircleCIã«å¤‰ãˆãŸãã‚‰ã„ã§ã™ã€‚ \n\nGitHub Pagesã«ã¯Vercelã®ã‚ˆã†ãªä¾¿åˆ©ãªWebhookãŒãªã„ã®ã§ã€esaã§å®Ÿè£…ã•ã‚ŒãŸGitHub Webhooké€£æºã‚’ä½¿ã„ãã‚Œã‚’ãƒˆãƒªã‚¬ãƒ¼ã«CircleCIã‚¸ãƒ§ãƒ–ã‚’èµ°ã‚‰ã›ã¦ã„ã¾ã™ã€‚ \n\n   > CircleCIã‚¸ãƒ§ãƒ–CircleCIã‚¸ãƒ§ãƒ– \n\nã¾ãŸã€CircleCIã‚¸ãƒ§ãƒ–ã¯ä½•ã®å¤‰å“²ã‚‚ãªã„ã‚‚ã®ã§ã€NodeJSã‚’å©ã„ã¦Gitãƒ—ãƒƒã‚·ãƒ¥ã—ã¦ã„ã‚‹ãã‚‰ã„ã§ã™ã€‚å…ˆã»ã©ã®GitHub Webhookã¨ä¼¼ãŸæ„Ÿã˜ã®æ³¥è‡­ã„ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã¯ [skip ci] ã‚³ãƒ¡ãƒ³ãƒˆã®è¿½åŠ ãŒã‚ã‚Šã¾ã™ã€‚å½“è©²ã‚³ãƒ¡ãƒ³ãƒˆã‚’å…¥ã‚Œãªã„ã¨ã‚¸ãƒ§ãƒ–ãŒå†å¸°çš„ã«èµ°ã‚Šç¶šã‘ã‚‹ã®ã§å‡ºå£ã§æ˜ç¤ºã—ã¦ã‚ã‚Šã¾ã™ã€‚   yml \n\nversion: 2.1 jobs: build_deploy: docker: - image: circleci/node:12.4 steps: - checkout - run: name: Install NPM command: npm install - run: name: Build command: npm run clean && npm run build - add_ssh_keys: fingerprints: - \"{foo}\" - deploy: name: Deploy command: | git config --global user.email \"nab+circleci@blahfe.com\" git config --global user.name \"nabinno+circleci\" git add . git commit -m \"[skip ci]Run npm run clean && npm run build.\" git push origin master workflows: build_deploy: jobs: - build_deploy: filters: branches: only: master     > WRAPUPWRAPUP \n\nã¨ã¾ã‚å¤§ã—ãŸä½œæ¥­å†…å®¹ã§ã¯ãªã„ã®ã§ã™ãŒã€ä¹…ã—ã¶ã‚Šã«æ˜”æ‡ã‹ã—ã®MovableTypeã®ãƒªãƒ“ãƒ«ãƒ‰ã‚’æ€ã„å‡ºã—ã¤ã¤ã€å‰¯ç”£ç‰©ã¨ã—ã¦å…¨ãç¸é ã‹ã£ãŸNetlifyã¨Vercelã®ä½ç½®ã¥ã‘ã‚’è–„ã‚‰ã¨æ„Ÿã˜å–ã‚Œã¾ã—ãŸã€‚"},"name":"[2021-01-18]esaã‚’Headless CMSã¨ã—ã¦ä½¿ã†","tags":["gatsby","esa","headless-cms","cms"],"childPublishedDate":{"published_on":"2021-01-18T00:00:00.000Z","published_on_unix":1610928000}}},{"node":{"number":64,"relative_category":"blog/backend","fields":{"title":"WSL2æ™‚ä»£ã®Dockeré–‹ç™ºã‚¹ã‚¿ã‚¤ãƒ«","excerpt":"> PROBLEMPROBLEM \n\n- ã‚ãŸã‚‰ã—ãã§ãŸWSL2ã«ã‚ˆã£ã¦ä»¥å‰æ›¸ã„ãŸè¨˜äº‹ã‹ã‚‰ã ã„ã¶çŠ¶æ³ãŒå¤‰ã‚ã£ãŸ ä¸»ãªå¤‰æ›´ç‚¹ WSLã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãŒ2ç¨®é¡ã«ãªã‚Šã€WSLã¯ãã®2ã¤ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’ç®¡ç†ã™ã‚‹æ©Ÿèƒ½ã«å¤‰ã‚ã£ãŸ WSL1 Windows Subsystem for Linuxä¸Šã®Linux (LXCore/Lxss) WSL2 è»½é‡Hyper-Vä¸Šã®Linux (Linux Kernel) /procã‚„/sysãªã©ã®ç‰¹æ®Šãƒ•ã‚¡ã‚¤ãƒ«ã‚‚ãµãã‚ãŸå…±æœ‰ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã€Œ9Pã€ãŒå®Ÿè£…ã•ã‚ŒãŸ Win32å´ã®9Pã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ 9prdr.sys WSLå´ã®9Pã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ /init \n- ä¸»ãªå¤‰æ›´ç‚¹ WSLã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãŒ2ç¨®é¡ã«ãªã‚Šã€WSLã¯ãã®2ã¤ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’ç®¡ç†ã™ã‚‹æ©Ÿèƒ½ã«å¤‰ã‚ã£ãŸ WSL1 Windows Subsystem for Linuxä¸Šã®Linux (LXCore/Lxss) WSL2 è»½é‡Hyper-Vä¸Šã®Linux (Linux Kernel) /procã‚„/sysãªã©ã®ç‰¹æ®Šãƒ•ã‚¡ã‚¤ãƒ«ã‚‚ãµãã‚ãŸå…±æœ‰ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã€Œ9Pã€ãŒå®Ÿè£…ã•ã‚ŒãŸ Win32å´ã®9Pã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ 9prdr.sys WSLå´ã®9Pã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ /init \n- WSLã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãŒ2ç¨®é¡ã«ãªã‚Šã€WSLã¯ãã®2ã¤ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’ç®¡ç†ã™ã‚‹æ©Ÿèƒ½ã«å¤‰ã‚ã£ãŸ WSL1 Windows Subsystem for Linuxä¸Šã®Linux (LXCore/Lxss) WSL2 è»½é‡Hyper-Vä¸Šã®Linux (Linux Kernel) \n- WSL1 Windows Subsystem for Linuxä¸Šã®Linux (LXCore/Lxss)\n- WSL2 è»½é‡Hyper-Vä¸Šã®Linux (Linux Kernel)\n- /procã‚„/sysãªã©ã®ç‰¹æ®Šãƒ•ã‚¡ã‚¤ãƒ«ã‚‚ãµãã‚ãŸå…±æœ‰ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã€Œ9Pã€ãŒå®Ÿè£…ã•ã‚ŒãŸ Win32å´ã®9Pã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ 9prdr.sys WSLå´ã®9Pã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ /init \n- Win32å´ã®9Pã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ 9prdr.sys \n- WSLå´ã®9Pã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ /init    > SOLUTIONSOLUTION \n\nã¨ã„ã†ã‚ã‘ã§ã€å‰è¨˜äº‹ã§æ²ã’ã¦ã„ãŸç›®æ¨™ã€ŒWSLã§Dockerã‚’ã¤ã‹ã£ãŸWebã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³é–‹ç™ºãŒã§ãã‚‹ã‹ã©ã†ã‹ã€ã«ã¤ã„ã¦å†ç¢ºèªã—ã¾ã™ã€‚   > å¯¾è±¡ç’°å¢ƒå¯¾è±¡ç’°å¢ƒ \n\n- Windows 10 Pro Version 1903 OS Build 18922.1000 Windows Terminal (Preview) Version 0.2.1715.0 WSL2 Ubuntu Version 1804.2019.5210 (Linux 4.19.43-microsoft-standard) Docker version 19.03.0-rc3, build 27fcb77 WSL1 Ubuntu 18.04 LTS Version 1804.2019.522.0 (Linux 4.4.0-18922-Microsoft) \n- Windows Terminal (Preview) Version 0.2.1715.0\n- WSL2 Ubuntu Version 1804.2019.5210 (Linux 4.19.43-microsoft-standard) Docker version 19.03.0-rc3, build 27fcb77 \n- Ubuntu Version 1804.2019.5210 (Linux 4.19.43-microsoft-standard)\n- Docker version 19.03.0-rc3, build 27fcb77\n- WSL1 Ubuntu 18.04 LTS Version 1804.2019.522.0 (Linux 4.4.0-18922-Microsoft) \n- Ubuntu 18.04 LTS Version 1804.2019.522.0 (Linux 4.4.0-18922-Microsoft)   > Windowsã®é–‹ç™ºç’°å¢ƒã‚’æ§‹ç¯‰ã™ã‚‹Windowsã®é–‹ç™ºç’°å¢ƒã‚’æ§‹ç¯‰ã™ã‚‹ \n\nã¾ãšã€Windowsã®é–‹ç™ºç’°å¢ƒã®æ§‹ç¯‰ã§ã™ãŒã€æ—¢çŸ¥ã®æƒ…å ±ã‚’ãµã¾ãˆã¤ã¤TIPSã‚’é †æ¬¡ç´¹ä»‹ã—ã¾ã™ã€‚   > WSLã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«WSLã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« \n\n- WSL2ã‚’ä½¿ã£ã¦ã¿ã‚‹ (InsiderPreview) \n\nWSLã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç®¡ç†ã¯ä¸‹è¨˜2ã¤ã‚’æŠ¼ã•ãˆã¦ãŠã‘ã°å•é¡Œãªã„ã§ã—ã‚‡ã†ã€‚ \n\n1. asdf/anyenv ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã‚’ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã”ã¨ã«ã‚ã‘ã¦ä½¿ã„ãŸã„å ´åˆã¯ã“ã¡ã‚‰ã‚’ã¤ã‹ã„ã¾ã—ã‚‡ã† é–¢æ•°è¨€èªç•Œéšˆã§ã¯asdfãŒä¸»æµã«ãªã£ã¦ãã¦ã‚‹ã‚ˆã†ã§ã™ã€‚ \n2. ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã‚’ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã”ã¨ã«ã‚ã‘ã¦ä½¿ã„ãŸã„å ´åˆã¯ã“ã¡ã‚‰ã‚’ã¤ã‹ã„ã¾ã—ã‚‡ã†\n3. é–¢æ•°è¨€èªç•Œéšˆã§ã¯asdfãŒä¸»æµã«ãªã£ã¦ãã¦ã‚‹ã‚ˆã†ã§ã™ã€‚\n4. nix Haskellã®ã‚ˆã†ã«asdf/anyenvã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ããªã„ã€ã‚ã‚‹ã„ã¯ã€æ‰±ã‚ã‚Œã„ãªã„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¯nixã‚’ã¤ã‹ã„ã¾ã—ã‚‡ã† ã¾ãŸã€aptã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒå¤ã™ãã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚‚nixãŒæœ€é©ã§ã™ \n5. Haskellã®ã‚ˆã†ã«asdf/anyenvã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ããªã„ã€ã‚ã‚‹ã„ã¯ã€æ‰±ã‚ã‚Œã„ãªã„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¯nixã‚’ã¤ã‹ã„ã¾ã—ã‚‡ã†\n6. ã¾ãŸã€aptã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒå¤ã™ãã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚‚nixãŒæœ€é©ã§ã™   > ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« \n\nWSLttyã¯WSL2ã«å¯¾å¿œã—ã¦ãŠã‚‰ãšConEmuã¯æç”»ãŒããšã‚Œã‚„ã™ã„ãŸã‚ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‹Windows TerminalãŒé¸æŠè‚¢ã¨ãªã‚Šã¾ã™ã€‚ \n\nWindows Terminalã¨ConEmuã¨ã®æ¯”è¼ƒ    - Windows Terminal ConEmu     é€éå¯¾è±¡ backgroundImage ConEmuè‡ªä½“   ã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒ‰åˆ¶ç´„ Alt+ShiftãŒåŠ¹ã‹ãªã„ ç‰¹ã«ãªã—   WSL2ã®æç”» ç‰¹ã«ãªã— ããšã‚Œã‚‹   ç®¡ç†è€…æ¨©é™ã§å®Ÿè¡Œ åˆå›ã®ã¿ ã‚¿ã‚¹ã‚¯å®Ÿè¡Œã”ã¨      > Dockerã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«Dockerã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« \n\nWSL1ã§ã¯Dockerãƒ‡ãƒ¼ãƒ¢ãƒ³ãŒã¤ã‹ãˆãªã„ã®ã§WSL2ã§Dockerã‚’ã¤ã‹ã†ã‚ˆã†ã«ã—ã¾ã—ã‚‡ã†ã€‚Docker CEã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚ \n\nã©ã†ã—ã¦ã‚‚WSL1ã§ã¨ã„ã†ã“ã¨ã§ã‚ã‚Œã°ã€Win32 (WSL1ã‹ã‚‰ã¿ã‚‹ã¨drvfs) å´ã§Docker For Windowsã‚’ç”¨æ„ã—ã¾ã™ã€‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¯Dockerã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒšãƒ¼ã‚¸ã‹ã‚‰æ‰‹é †é€šã‚ŠãŠã“ãªã„ã¾ã™ã€‚\n æ§‹æˆç­‰ã¯å‰å›ã®è¨˜äº‹ã‚’å‚ç…§ãã ã•ã„ã€‚   > ã•ã¦ã€WSL2ã‹ã‚‰Dockerã¯ã©ã®ç¨‹åº¦ã¤ã‹ãˆã‚‹ã®ã‹ã•ã¦ã€WSL2ã‹ã‚‰Dockerã¯ã©ã®ç¨‹åº¦ã¤ã‹ãˆã‚‹ã®ã‹ \n\nWSL2ã¯è»½é‡Hyper-Vä¸Šã«Linuxã‚³ãƒ³ãƒ†ãƒŠã‚’å‹•ã‹ã—ã¦ã„ã‚‹ã®ã§ã€åŸºæœ¬Hyper-Vã¨åŒæ§˜ã«Dockerã‚’ã¤ã‹ã†ã“ã¨ãŒã§ãã¾ã™ã€‚ \n\nãŸã ã—ã€WSL1ã¨é•ã„localhostã«WSL2ãŒãƒã‚¤ãƒ³ãƒ‰ã§ãã¾ã›ã‚“ (2019-07-27è¿½è¨˜: Build Version 18945ã§è§£æ±ºã—ã¾ã—ãŸ )ã€‚\n ã¾ãŸã€WSL1ã¨åŒæ§˜ã«Win32ãƒ»WSLé–“ã§ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿æ›¸ãã«ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®å·®ãŒå¤§ããå‡ºã¦ã„ã¾ã™ã€‚ \n\nã²ã¨ã¤ãšã¤è§£æ±ºæ–¹æ³•ã‚’è¦‹ã¦ã„ãã¾ã—ã‚‡ã†ã€‚   > 1. WSL1ã¨é•ã„localhostã«WSL2ãŒãƒã‚¤ãƒ³ãƒ‰ã§ãã¾ã›ã‚“1. WSL1ã¨é•ã„localhostã«WSL2ãŒãƒã‚¤ãƒ³ãƒ‰ã§ãã¾ã›ã‚“ \n\nWSL2ãŒã¤ã‹ã£ã¦ã„ã‚‹Virtual Switchã¯internal onlyã®ãŸã‚ã€Win32å´ã‹ã‚‰localhostã‚’ã¤ã‹ã£ã¦WSL2ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã“ã¨ãŒã§ãã¾ã›ã‚“ã€‚ç¾åœ¨å¯¾å¿œä¸­ã®ã‚ˆã†ã§ã™ (2019-07-27è¿½è¨˜: Build Version 18945ã§è§£æ±ºã—ã¾ã—ãŸ )ã€‚ \n\nå¯¾å‡¦æ–¹æ³•ã¯2ã¤ã‚ã‚Šã¾ã™ã€‚ \n\na. WSL1ã‚’ã¤ã‹ã† \n\nã“ã‚ŒãŒä¸€ç•ªæ¥½ã§ã™ãŒã€WSL1ã¯æ¬¡é …ã§ã‚ã’ã‚‹ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ä¸Šã®æ¬ ç‚¹ãŒã‚ã‚‹ã®ã§ã€Webç³»ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºã«ãŠã‘ã‚‹ãƒ©ã‚¤ãƒ–ãƒªãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°æ©Ÿèƒ½ã‚’ã¤ã‹ã†ã‚±ãƒ¼ã‚¹ã«é™å®šã™ã‚‹ã¨ã„ã„ã§ã—ã‚‡ã†ã€‚ \n\nb. Hostsãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã¤ã‹ã† \n\nWin32ã®Hostsãƒ•ã‚¡ã‚¤ãƒ«ã§WSL2ã®eth0ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã®IPã‚¢ãƒ‰ãƒ¬ã‚¹ã«é©å½“ãªãƒ›ã‚¹ãƒˆåã‚’å‰²ã‚Šå½“ã¦ã¾ã™ï¼ˆãƒãƒ¼ãƒˆã”ã¨ã«ãƒ›ã‚¹ãƒˆã‚’æŒ¯ã‚Šåˆ†ã‘ãŸã„å ´åˆã¯WSL2å´ã«Proxyã‚’ç”¨æ„ã™ã‚‹ã¨ã„ã„ã§ã—ã‚‡ã†ï¼‰ã€‚   shell \n\n# C:\\Windows\\System32\\drivers\\etc\\hosts 172.17.72.217 dashboard.local.me   \n\nWSL2ã®IPã‚¢ãƒ‰ãƒ¬ã‚¹ã¯ã‚³ãƒ³ãƒ†ãƒŠã‚’ç«‹ã¡ä¸Šã’ã‚‹ã”ã¨ã«å¤‰ã‚ã‚‹ã®ã§ã€ä¸‹è¨˜ã®ã‚ˆã†ãªã‚³ãƒãƒ³ãƒ‰ãƒ¬ãƒƒãƒˆã‚’Win32å´ã®PowerShell $PROFILEã«ç”¨æ„ã—ã¦ãŠãã¨ã„ã„ã§ã—ã‚‡ã†ã€‚WSL2ã ã‘ã§å®Œçµã—ãŸã„æ–¹ã¯ã‚·ã‚§ãƒ«ä¸Šã‹ã‚‰ powershell.exe -Command 'Sync-HostsToWslIp' ã¨æ‰“ã¤ã ã‘ã§ã™ã€‚   powershell \n\n# $PROFILE function Sync-HostsToWslIp { $hosts = \"$env:SystemRoot\\System32\\drivers\\etc\\hosts\"; $pattern = \"\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\"; $wslip = bash.exe -c \"ifconfig eth0 | grep 'inet '\"; if ($wslip -match $pattern) { $wslip = $matches[0]; } else { echo \"The Script Exited, the ip address of WSL 2 cannot be found\"; exit; } cat $hosts | %{ $_ -match $pattern } $rc = cat $hosts | %{ $_ -replace $matches[0], $wslip } $rc | Out-File $hosts; }     > 2. WSL1ã¨åŒæ§˜ã«Win32ãƒ»WSLé–“ã§ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿æ›¸ãã«ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®å·®ãŒå¤§ããå‡ºã¦ã„ã¾ã™2. WSL1ã¨åŒæ§˜ã«Win32ãƒ»WSLé–“ã§ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿æ›¸ãã«ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®å·®ãŒå¤§ããå‡ºã¦ã„ã¾ã™ \n\nã„ã‚ã‚“ãªæ–¹ãŒãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ã‚’å…¬é–‹ã—ã¦ã‚‹ã®ã§ãã‚Œã‚’å‚è€ƒã«ã™ã‚‹ã¨ã„ã„ã§ã—ã‚‡ã†ã€‚ \n\nCf. \n\n- Pythonã§ãƒ•ã‚¡ã‚¤ãƒ«æ“ä½œã®ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯\n- ddã€git cloneã®ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ \n\nã‚ãŸã—ã¯ git status -sb ã‚’ã‚ˆãã¤ã‹ã†ã®ã§ã€ãã®ã‚³ãƒãƒ³ãƒ‰ã§ç°¡å˜ãªãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ã¨ã‚Šã¾ã—ãŸã€‚   shell \n\n# WSLx $ cd ~/nabinno.github.io $ \\time -f %e git status -sb # Win32/WSLx $ cd ~/nabinno.github.io $ \\time -f %e powershell.exe -Command 'git status -sb' # Win32 PS> cd ~/nabinno.github.io PS> (Measure-Command { git status -sb }).TotalMilliseconds / 1000 | %{ [math]::Round($_, 2) }      Subject WSL Win32     WSL1 0.47 0.09   WSL2 0.00 0.61   Win32/WSL1 2.66 1.91   Win32/WSL2 2.81 1.79   Win32 0.51 0.12      > Dockerä»¥å¤–ã§WSLã®èª²é¡Œã¯ãªã„ã®ã‹Dockerä»¥å¤–ã§WSLã®èª²é¡Œã¯ãªã„ã®ã‹   > ãƒ‡ãƒã‚¤ã‚¹ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ãƒ‡ãƒã‚¤ã‚¹ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ \n\nä»¥å‰ã‹ã‚‰è¦æœ›ãŒã‚ã£ãŸã‚‚ã®ã ã¨ã€Œãƒ‡ãƒã‚¤ã‚¹ã‚¢ã‚¯ã‚»ã‚¹ãŒã§ããªã„ã€ä»¶ãŒã‚ã‚Šã¾ã™ã€‚ \n\n9På°å…¥å‰ã ã¨ã“ã‚Œã¯Elixirã®IoTãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯Nervesã®ã‚ˆã†ã«ã€WSL Utilitiesã§WSLãƒ‘ã‚¹ã‚’Win32ãƒ‘ã‚¹ã«å¤‰æ›ã—ã¦ã‹ã‚‰Win32ã«ã‚ã‚‹ãƒ‡ãƒã‚¤ã‚¹é–¢é€£ãƒ„ãƒ¼ãƒ«ã‚’ã¤ã‹ã†ã®ãŒç°¡å˜ãªè§£æ±ºç­–ã§ã—ãŸã€‚   sh \n\n$ fwup.exe -a -i $(wslpath -w -a _build/rpi0_dev/nerves/images/hello_nerves.fw) -t complete -d $(fwup.exe -D | sed 's/,.*//')   \n\nãŸã ã—9Pã‚’å°å…¥ã—ãŸWindows 10 Version 1903ä»¥é™ã¯ã€WSL1ã‚‚WSL2ã‚‚ã¨ã‚‚ã«WSLãƒ‘ã‚¹ã‚’å¤‰æ›ã›ãšã«Win32ã«ã‚ã‚‹ãƒ‡ãƒã‚¤ã‚¹é–¢é€£ãƒ„ãƒ¼ãƒ«ã‚’ã¤ã‹ã†ã“ã¨ãŒã§ãã¾ã™ã€‚   sh \n\n$ fwup.exe -a -i _build/rpi0_dev/nerves/images/hello_nerves.fw -t complete -d $(fwup.exe -D | sed 's/,.*//')     > WRAPUPWRAPUP \n\nã‚ãŸã—ã®è¦³æ¸¬ç¯„å›²ã§ã¯èª²é¡Œã¯ã»ã¼å•é¡Œãªã„çŠ¶æ…‹ã«ãªã£ã¦ã„ã¾ã—ãŸã€‚ \n\nãŠã™ã™ã‚é–‹ç™ºç’°å¢ƒã¯ä¸‹è¨˜ã®ã¨ãŠã‚Š    item content     IDE WSLxä¸Šã®ã‚¨ãƒ‡ã‚£ã‚¿   Webãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™º WSL1   Dockeré–¢é€£é–‹ç™º WSL2   dotfiles WSLxã€Win32ã‚’å…±æœ‰ç®¡ç†    \n\nWin32å´ã®IDEã‚’ã¤ã‹ã£ã¦ã„ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ä¸Šã®ä¸æº€ãŒã¾ã ã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€WSLã§Dockerã‚’ã¤ã‹ã£ãŸWebã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³é–‹ç™ºã¯ååˆ†ã§ãã‚‹ã€ã¨è¨€ãˆãã†ã§ã™ã€‚ã¤ã¾ã‚Šã€Linuxãƒ»macOSãƒ»Windowsã«ã‚ˆã‚‹Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³é–‹ç™ºã¯ååˆ†å…±æœ‰ã§ãã‚‹ã€ã¨ã€‚ \n\nã„ã„æ™‚ä»£ã«ãªã‚Šã¾ã—ãŸã€‚"},"name":"[2019-07-06]WSL2æ™‚ä»£ã®Dockeré–‹ç™ºã‚¹ã‚¿ã‚¤ãƒ«","tags":["wsl","wsl2","ubuntu"],"childPublishedDate":{"published_on":"2019-07-06T00:00:00.000Z","published_on_unix":1562371200}}},{"node":{"number":61,"relative_category":"blog/health","fields":{"title":"Elixirã¨Raspberry Piã§PM2.5ãªã©ã®ç’°å¢ƒãƒ‡ãƒ¼ã‚¿ã‚’å®šç‚¹è¦³å¯Ÿã—ã€ç›®ãƒ»å–‰ã®ç—›ã¿ã«å‚™ãˆã‚‹","excerpt":"> PROBLEMPROBLEM \n\n- ä»¥å‰ã‹ã‚‰ã‚ªãƒ•ã‚£ã‚¹ã«è¡Œãã¨ç›®ã‚„å–‰ãŒç—›ããªã‚‹ã“ã¨ãŒã‚ã£ãŸã®ã§ã€è‡ªåˆ†ã®ä½“èª¿ãªã®ã‹ç’°å¢ƒãªã®ã‹åŸå› ã‚’åˆ‡ã‚Šåˆ†ã‘ã‚‹ãŸã‚ã«æ±šæŸ“è¨ˆæ¸¬å™¨ã€ŒDienmern DM106Aã€ã‚’è³¼å…¥ ãŸã ã€DM106Aã®è¨ˆæ¸¬ã¯ãã®æ™‚ãã®æ™‚ã®ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆãªã®ã§å‚¾å‘ã‚’èª­ã¿è§£ãã¥ã‚‰ã„ã€ã¾ãŸã€éƒ½åº¦å®Ÿæ–½ã™ã‚‹æ‰‹é–“ãŒã‹ã‹ã‚‹ \n- ãŸã ã€DM106Aã®è¨ˆæ¸¬ã¯ãã®æ™‚ãã®æ™‚ã®ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆãªã®ã§å‚¾å‘ã‚’èª­ã¿è§£ãã¥ã‚‰ã„ã€ã¾ãŸã€éƒ½åº¦å®Ÿæ–½ã™ã‚‹æ‰‹é–“ãŒã‹ã‹ã‚‹   > SOLUTIONSOLUTION \n\nã¨ã„ã†ã‚ã‘ã§ã€DM106Aã®ã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’Raspberry Piã§å®šæœŸå–å¾—ã™ã‚‹ã“ã¨ã«ã—ãŸã€‚è¨­ç½®æ–¹æ³•ã®è©³ç´°ã¯GitHubãƒ¬ãƒã‚¸ãƒˆãƒªã‚’å‚ç…§ã€‚ä¸‹è¨˜ã¯å®Ÿè£…æ¦‚è¦ã€‚   > é›»å­éƒ¨å“ã®æ§‹æˆé›»å­éƒ¨å“ã®æ§‹æˆ    item description     Raspberry Pi 3 Model B+    Aosong DHT11 æ°—æ¸©ãƒ»æ¹¿åº¦ã‚»ãƒ³ã‚µãƒ¼ã€GPIO   Nova SDS021 PM2.5ãƒ»PM10ã‚»ãƒ³ã‚µãƒ¼ã€UART   ams CCS811 TVOCãƒ»CO2eã‚»ãƒ³ã‚µãƒ¼ã€I2C    \n\né›»å­å·¥ä½œã¯ç´ äººã‚†ãˆã©ã®ã‚»ãƒ³ã‚µãƒ¼ã‚’è²·ãˆã°ã„ã„ã‹ã‚ã‹ã‚‰ãªã‹ã£ãŸã®ã§DM106Aã‚’åˆ†è§£ã—ã¦å„ã‚»ãƒ³ã‚µãƒ¼ã®å‹ç•ªã‚’ã—ã‚‰ã¹ãŸã€‚DHT011ã€SDS021ã¯DM106Aã¨ãŠãªã˜ã‚»ãƒ³ã‚µãƒ¼ã€HCHOã‚»ãƒ³ã‚µãƒ¼ã¯ä¿¡é ¼æ€§ãŒã‚ã‚Šæ‰‹ã”ã‚ãªã®ãŒã†ã¾ãè¦‹ã¤ã‘ã‚‰ã‚Œãªã‹ã£ãŸã€‚TVOCã‚»ãƒ³ã‚µãƒ¼ã¯AdafruitãŒæ¨ã—ã¦ã„ã‚‹CCS811ã‚’æ¡ç”¨ã—ãŸã€‚   > ã‚³ãƒ¼ãƒ‰ã®æ§‹æˆã‚³ãƒ¼ãƒ‰ã®æ§‹æˆ    item description     AirElixir.Application ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ç®¡ç†   AirElixir.GoogleSpreadsheets ã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿è¨˜éŒ²   AirElixirSensor.Publisher ã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿ç™ºè¡Œãƒ»é€ä¿¡   AirElixirSensor.Subscriber ã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿è³¼èª­ãƒ»å—ä¿¡    \n\nåŸºæœ¬æ§‹æˆã¯GrovePiã‚’å‚è€ƒã«ã—ãŸã€‚ç™ºè¡Œå‡¦ç†ã¯Elixirã§ã†ã¾ãã„ã‹ãªã„ã‚±ãƒ¼ã‚¹ãŒã‚ã£ãŸã®ã§ã¾ãšã¯Python/ErlPortã§ãŠã“ãªã£ãŸã€‚å¾Œã€…Elixirã«ç§»è¡Œã§ãã‚‹ã‚ˆã†ã«ãƒã‚¯ãƒ­ã«ã—ã¦ã‚ã‚‹ã€‚   > 5æ—¥ã»ã©ç¨¼åƒã—ã¦ã‚ã‹ã£ãŸã“ã¨ãƒ»è¦‹ç«‹ã¦ã€ä»Šå¾Œã®èª²é¡Œ5æ—¥ã»ã©ç¨¼åƒã—ã¦ã‚ã‹ã£ãŸã“ã¨ãƒ»è¦‹ç«‹ã¦ã€ä»Šå¾Œã®èª²é¡Œ  \n\n- ã‚ªãƒ•ã‚£ã‚¹ã®ç©ºæ°—æ¸…æµ„æ©Ÿã€ŒHitachi EP-LVG110ã€ã¯PMã‚’ãã¡ã‚“ã¨ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã—ã¦ã„ãŸ ãŸã ã—ã€ç©ºæ°—æ¸…æµ„æ©Ÿã¯TVOCã«ã¯åŠ¹æœãŒãªãã€ã“ã‚Œã¯Troiaæ°ã‚„åŠ è—¤æ°ãƒ»è‹…éƒ¨æ°ã®è€ƒå¯Ÿã§ã‚‚è¨€åŠã•ã‚Œã¦ã„ã‚‹ \n- ãŸã ã—ã€ç©ºæ°—æ¸…æµ„æ©Ÿã¯TVOCã«ã¯åŠ¹æœãŒãªãã€ã“ã‚Œã¯Troiaæ°ã‚„åŠ è—¤æ°ãƒ»è‹…éƒ¨æ°ã®è€ƒå¯Ÿã§ã‚‚è¨€åŠã•ã‚Œã¦ã„ã‚‹\n- äººã®å…¥ã‚ŠãŒå¤šã„æ™‚é–“å¸¯ã«ç©ºæ°—ï¼ˆTVOCã‚„CO2eï¼‰ãŒã‚ˆã”ã‚Œã‚‹ äººãŒã€Œå‡ºã‚‹ã€ã¨ãã‚ˆã‚Šã‚‚ã€Œå…¥ã‚‹ã€éš›ã«æ¿ƒåº¦ãŒã‚ãŒã‚‹ã®ã¯ã€å¤–ã®VOCãŒæœãªã©ã«ä»˜ç€ã—ã¦ã„ã‚‹ãŸã‚ã¨æ¨å¯Ÿ \n- äººãŒã€Œå‡ºã‚‹ã€ã¨ãã‚ˆã‚Šã‚‚ã€Œå…¥ã‚‹ã€éš›ã«æ¿ƒåº¦ãŒã‚ãŒã‚‹ã®ã¯ã€å¤–ã®VOCãŒæœãªã©ã«ä»˜ç€ã—ã¦ã„ã‚‹ãŸã‚ã¨æ¨å¯Ÿ\n- TVOCã‚„CO2eã¯PMã®ã†ã”ãã«é€£å‹•ã—ã¦ã„ã‚‹ï¼ˆã‹ã‚‚ï¼‰ ãƒãƒ£ãƒ¼ãƒˆä¸Šã¯EP-LVG110ãŒPMé™¤å»ã—ã¦ã„ã‚‹ãŸã‚ã‚ã‹ã‚‰ãªã„ãŒã€æ—¥æœ¬æ°—è±¡å”ä¼šã®PM2.5åˆ†å¸ƒäºˆæ¸¬ã«ç…§ã‚‰ã—ã¦ã¿ã‚‹ã¨PMæ¿ƒåº¦ãŒé«˜ã„æ—¥ã«TVOCæ¿ƒåº¦ãŒã‚ãŒã£ã¦ã„ãŸ TODO: PMãŒVOCã‚’é‹ã‚“ã§ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã®ã§ã€IQAirãªã©ã®APIã‹ã‚‰å‘¨è¾ºç’°å¢ƒã®PMãƒ‡ãƒ¼ã‚¿ã‚‚å–å¾—ã—ãŸã„ã¨ã“ã‚ \n- ãƒãƒ£ãƒ¼ãƒˆä¸Šã¯EP-LVG110ãŒPMé™¤å»ã—ã¦ã„ã‚‹ãŸã‚ã‚ã‹ã‚‰ãªã„ãŒã€æ—¥æœ¬æ°—è±¡å”ä¼šã®PM2.5åˆ†å¸ƒäºˆæ¸¬ã«ç…§ã‚‰ã—ã¦ã¿ã‚‹ã¨PMæ¿ƒåº¦ãŒé«˜ã„æ—¥ã«TVOCæ¿ƒåº¦ãŒã‚ãŒã£ã¦ã„ãŸ TODO: PMãŒVOCã‚’é‹ã‚“ã§ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã®ã§ã€IQAirãªã©ã®APIã‹ã‚‰å‘¨è¾ºç’°å¢ƒã®PMãƒ‡ãƒ¼ã‚¿ã‚‚å–å¾—ã—ãŸã„ã¨ã“ã‚ \n- TODO: PMãŒVOCã‚’é‹ã‚“ã§ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã®ã§ã€IQAirãªã©ã®APIã‹ã‚‰å‘¨è¾ºç’°å¢ƒã®PMãƒ‡ãƒ¼ã‚¿ã‚‚å–å¾—ã—ãŸã„ã¨ã“ã‚\n- TVOCã®å¤‰å‹•ãŒå¤§ãã™ãã‚‹ ãƒãƒ¼ãƒªãƒ³ã‚°ãƒ»å‡ºåŠ›ã‚’20åˆ†ã”ã¨ã‹ã‚‰ãƒãƒ¼ãƒªãƒ³ã‚°3ç§’ã”ã¨ãƒ»å‡ºåŠ›20åˆ†ã”ã¨ã«å¤‰æ›´ã—ãŸã€å‡ºåŠ›ãƒ‡ãƒ¼ã‚¿ã¯20åˆ†ã®å¹³å‡ \n- ãƒãƒ¼ãƒªãƒ³ã‚°ãƒ»å‡ºåŠ›ã‚’20åˆ†ã”ã¨ã‹ã‚‰ãƒãƒ¼ãƒªãƒ³ã‚°3ç§’ã”ã¨ãƒ»å‡ºåŠ›20åˆ†ã”ã¨ã«å¤‰æ›´ã—ãŸã€å‡ºåŠ›ãƒ‡ãƒ¼ã‚¿ã¯20åˆ†ã®å¹³å‡\n- TVOCã®ã‚¹ãƒ‘ã‚¤ã‚¯ã‚’æŠ‘ãˆãŸã„ TODO: ãƒ•ã‚¡ã‚¤ãƒˆãƒ¬ãƒ¡ãƒ‡ã‚£ã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ã«ã‚ˆã‚‹åŠ¹æœã‚’è¦‹ã¦ã„ããŸã„ã¨ã“ã‚ \n- TODO: ãƒ•ã‚¡ã‚¤ãƒˆãƒ¬ãƒ¡ãƒ‡ã‚£ã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ã«ã‚ˆã‚‹åŠ¹æœã‚’è¦‹ã¦ã„ããŸã„ã¨ã“ã‚   > WRAPUPWRAPUP \n\nElixirã¯å¥åº·ç®¡ç†ã«å‘ã„ã¦ã„ã‚‹ã€‚   txt \n\nã€Œãªã‚“ã‹ä½“èª¿ãŒã™ãã‚Œãªã„ãªã‚...ã€ ã€ŒElixirã¡ã‚‡ã†ã ã„!ã€   \n\nã¨ã„ã†æ„Ÿã˜ã€‚"},"name":"[2018-12-22]Elixirã¨Raspberry Piã§PM2.5ãªã©ã®ç’°å¢ƒãƒ‡ãƒ¼ã‚¿ã‚’å®šç‚¹è¦³å¯Ÿã—ã€ç›®ãƒ»å–‰ã®ç—›ã¿ã«å‚™ãˆã‚‹","tags":["elixir","raspberry-pi","particulates","physiology"],"childPublishedDate":{"published_on":"2018-12-22T00:00:00.000Z","published_on_unix":1545436800}}}]}},"pageContext":{"number":55}},"staticQueryHashes":[]}