{"componentChunkName":"component---src-templates-post-tsx","path":"/posts/55","result":{"data":{"esaPost":{"number":55,"relative_category":"blog/backend","fields":{"title":"PositiveSSLã‚’Herokuã«é©ç”¨ã™ã‚‹","excerpt":"> PROBLEMPROBLEM \n\n- Herokuã®SSLã®æœŸé™ãŒããŸã€‚   > SOLUTIONSOLUTION \n\n- ã¨ã„ã†ã‚ã‘ã§ã€ã„ã¤ã‚‚ã¤ã‹ã£ã¦ã„ã‚‹SSLè²©å£²ä»£ç†åº—ã€ŒNameCheapç¤¾ã®SSLs.comã€ã§PositiveSSLï¼ˆé‹ç”¨Comodoç¤¾ï¼‰ã‚’Herokuã«é©ç”¨ã™ã‚‹ã“ã¨ã«ã€‚   > HOWTOHOWTO \n\n1. è¨¼æ˜æ›¸ã‚’è³¼å…¥ã™ã‚‹ ã¾ã‚ã€SSLè²©å£²ä»£ç†åº—ã§ã‚ã‚Œã°ã©ã“ã§ã‚‚ã„ã„ã‚“ã§ã™ãŒ \n2. ã¾ã‚ã€SSLè²©å£²ä»£ç†åº—ã§ã‚ã‚Œã°ã©ã“ã§ã‚‚ã„ã„ã‚“ã§ã™ãŒ\n3. ç§˜å¯†éµã¨ç½²åãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ã¤ãã‚‹ ç§˜å¯†éµ openssl genrsa -des3 -out server.orig.key 2048 ç§˜å¯†éµãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãªã—openssl rsa -in server.orig.key -out server.key ç½²åãƒªã‚¯ã‚¨ã‚¹ãƒˆ openssl req -new -key server.key -out server.csr \n4. ç§˜å¯†éµ openssl genrsa -des3 -out server.orig.key 2048 \n5. ç§˜å¯†éµãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãªã—openssl rsa -in server.orig.key -out server.key \n6. ç½²åãƒªã‚¯ã‚¨ã‚¹ãƒˆ openssl req -new -key server.key -out server.csr \n7. è¨¼æ˜æ›¸ç™ºè¡Œã‚’ç”³è«‹ã™ã‚‹ SSLè²©å£²ä»£ç†åº—ã‚ˆã‚Šç½²åãƒªã‚¯ã‚¨ã‚¹ãƒˆserver.csrã¨é–¢é€£æƒ…å ±ã‚’é€ä¿¡ã™ã‚‹ \n8. SSLè²©å£²ä»£ç†åº—ã‚ˆã‚Šç½²åãƒªã‚¯ã‚¨ã‚¹ãƒˆserver.csrã¨é–¢é€£æƒ…å ±ã‚’é€ä¿¡ã™ã‚‹\n9. ãƒ‰ãƒ¡ã‚¤ãƒ³ä¿æŒã®è¨¼æ˜ã‚’ã™ã‚‹ PositiveSSLã®é‹ç”¨ä¼šç¤¾Comodoã«ãŸã„ã—ãƒ‰ãƒ¡ã‚¤ãƒ³ä¿æŒã®è¨¼æ˜ã‚’ã™ã‚‹ è¨¼æ˜æ–¹æ³•ã¯ãƒ¡ãƒ¼ãƒ«ã‚’å—ä¿¡ã™ã‚‹ã€ã‚ã‚‹ã„ã¯ã€Webã‚µã‚¤ãƒˆã«ãƒ—ãƒ¬ãƒ¼ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’è¨­ç½®ã™ã‚‹ã‹ã®2æŠ \n10. PositiveSSLã®é‹ç”¨ä¼šç¤¾Comodoã«ãŸã„ã—ãƒ‰ãƒ¡ã‚¤ãƒ³ä¿æŒã®è¨¼æ˜ã‚’ã™ã‚‹\n11. è¨¼æ˜æ–¹æ³•ã¯ãƒ¡ãƒ¼ãƒ«ã‚’å—ä¿¡ã™ã‚‹ã€ã‚ã‚‹ã„ã¯ã€Webã‚µã‚¤ãƒˆã«ãƒ—ãƒ¬ãƒ¼ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’è¨­ç½®ã™ã‚‹ã‹ã®2æŠ\n12. Herokuç”¨ã®è¨¼æ˜æ›¸ã‚’ã¤ãã‚‹ è¨¼æ˜ã‚¿ã‚¹ã‚¯ã‚’ã“ãªã—ã—ã°ã‚‰ãã™ã‚‹ã¨ã€Comodoç¤¾ã‚ˆã‚Šè¤‡æ•°ã®è¨¼æ˜æ›¸ãŒãŠãã‚‰ã‚Œã¦ãã‚‹ Herokuç”¨ã«è¨¼æ˜æ›¸ã‚’ã¤ãã‚‹ cat www_example_com.crt COMODORSADomainValidationSecureServerCA.crt COMODORSAAddTrustCA.crt AddTrustExternalCARoot.crt > server.crt \n13. è¨¼æ˜ã‚¿ã‚¹ã‚¯ã‚’ã“ãªã—ã—ã°ã‚‰ãã™ã‚‹ã¨ã€Comodoç¤¾ã‚ˆã‚Šè¤‡æ•°ã®è¨¼æ˜æ›¸ãŒãŠãã‚‰ã‚Œã¦ãã‚‹\n14. Herokuç”¨ã«è¨¼æ˜æ›¸ã‚’ã¤ãã‚‹ cat www_example_com.crt COMODORSADomainValidationSecureServerCA.crt COMODORSAAddTrustCA.crt AddTrustExternalCARoot.crt > server.crt \n15. Herokuã«è¨¼æ˜æ›¸ã‚’é©ç”¨ã™ã‚‹ æ–°è¦ã§é©ç”¨ã™ã‚‹å ´åˆ heroku addons:add ssl:endpoint heroku certs:add server.crt server.key æ›´æ–°ã™ã‚‹å ´åˆ heroku certs:update server.crt server.key \n16. æ–°è¦ã§é©ç”¨ã™ã‚‹å ´åˆ heroku addons:add ssl:endpoint heroku certs:add server.crt server.key \n17. heroku addons:add ssl:endpoint\n18. heroku certs:add server.crt server.key\n19. æ›´æ–°ã™ã‚‹å ´åˆ heroku certs:update server.crt server.key \n20. heroku certs:update server.crt server.key","thumbnail":"https://img.esa.io/uploads/production/attachments/16651/2021/01/11/97367/5fcde784-4a5e-40b2-8da2-4ea9d5abc177.png"},"wip":false,"body_md":"<img width=\"1920\" alt=\"thumbnail\" src=\"https://img.esa.io/uploads/production/attachments/16651/2021/01/11/97367/5fcde784-4a5e-40b2-8da2-4ea9d5abc177.png\">\r\n\r\n# PROBLEM\r\n- Herokuã®SSLã®æœŸé™ãŒããŸã€‚\r\n\r\n# SOLUTION\r\n- ã¨ã„ã†ã‚ã‘ã§ã€ã„ã¤ã‚‚ã¤ã‹ã£ã¦ã„ã‚‹SSLè²©å£²ä»£ç†åº—ã€ŒNameCheapç¤¾ã®SSLs.comã€ã§PositiveSSLï¼ˆé‹ç”¨Comodoç¤¾ï¼‰ã‚’Herokuã«é©ç”¨ã™ã‚‹ã“ã¨ã«ã€‚\r\n\r\n## HOWTO\r\n1. è¨¼æ˜æ›¸ã‚’è³¼å…¥ã™ã‚‹\r\n    - ã¾ã‚ã€SSLè²©å£²ä»£ç†åº—ã§ã‚ã‚Œã°ã©ã“ã§ã‚‚ã„ã„ã‚“ã§ã™ãŒ\r\n2. ç§˜å¯†éµã¨ç½²åãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ã¤ãã‚‹\r\n    - ç§˜å¯†éµ `openssl genrsa -des3 -out server.orig.key 2048`\r\n    - ç§˜å¯†éµãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãªã—`openssl rsa -in server.orig.key -out server.key`\r\n    - ç½²åãƒªã‚¯ã‚¨ã‚¹ãƒˆ `openssl req -new -key server.key -out server.csr`\r\n3. è¨¼æ˜æ›¸ç™ºè¡Œã‚’ç”³è«‹ã™ã‚‹\r\n    - SSLè²©å£²ä»£ç†åº—ã‚ˆã‚Šç½²åãƒªã‚¯ã‚¨ã‚¹ãƒˆ`server.csr`ã¨é–¢é€£æƒ…å ±ã‚’é€ä¿¡ã™ã‚‹\r\n4. ãƒ‰ãƒ¡ã‚¤ãƒ³ä¿æŒã®è¨¼æ˜ã‚’ã™ã‚‹\r\n    - PositiveSSLã®é‹ç”¨ä¼šç¤¾Comodoã«ãŸã„ã—ãƒ‰ãƒ¡ã‚¤ãƒ³ä¿æŒã®è¨¼æ˜ã‚’ã™ã‚‹\r\n    - è¨¼æ˜æ–¹æ³•ã¯ãƒ¡ãƒ¼ãƒ«ã‚’å—ä¿¡ã™ã‚‹ã€ã‚ã‚‹ã„ã¯ã€Webã‚µã‚¤ãƒˆã«ãƒ—ãƒ¬ãƒ¼ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’è¨­ç½®ã™ã‚‹ã‹ã®2æŠ\r\n5. Herokuç”¨ã®è¨¼æ˜æ›¸ã‚’ã¤ãã‚‹\r\n    - è¨¼æ˜ã‚¿ã‚¹ã‚¯ã‚’ã“ãªã—ã—ã°ã‚‰ãã™ã‚‹ã¨ã€Comodoç¤¾ã‚ˆã‚Šè¤‡æ•°ã®è¨¼æ˜æ›¸ãŒãŠãã‚‰ã‚Œã¦ãã‚‹\r\n    - Herokuç”¨ã«è¨¼æ˜æ›¸ã‚’ã¤ãã‚‹ `cat www_example_com.crt COMODORSADomainValidationSecureServerCA.crt COMODORSAAddTrustCA.crt AddTrustExternalCARoot.crt > server.crt`\r\n6. Herokuã«è¨¼æ˜æ›¸ã‚’é©ç”¨ã™ã‚‹\r\n    - æ–°è¦ã§é©ç”¨ã™ã‚‹å ´åˆ\r\n        - `heroku addons:add ssl:endpoint`\r\n        - `heroku certs:add server.crt server.key`\r\n    - æ›´æ–°ã™ã‚‹å ´åˆ\r\n        - `heroku certs:update server.crt server.key`\r\n\r\n","body_html":"<a href=\"https://img.esa.io/uploads/production/attachments/16651/2021/01/11/97367/5fcde784-4a5e-40b2-8da2-4ea9d5abc177.png\" target=\"_blank\" rel=\"noopener noreferrer\"><img width=\"1920\" alt=\"thumbnail\" src=\"https://img.esa.io/uploads/production/attachments/16651/2021/01/11/97367/5fcde784-4a5e-40b2-8da2-4ea9d5abc177.png\"></a>\n<h1 data-sourcepos=\"3:1-3:9\" id=\"1-0-0\" name=\"1-0-0\">\n<a class=\"anchor\" id=\"PROBLEM\" name=\"PROBLEM\" href=\"#PROBLEM\" data-position=\"1-0-0\"><i class=\"fa fa-link\"></i><span class=\"hidden\" data-text=\"PROBLEM\"> &gt; PROBLEM</span></a>PROBLEM</h1>\n<ul data-sourcepos=\"4:1-5:0\">\n<li data-sourcepos=\"4:1-5:0\">Herokuã®SSLã®æœŸé™ãŒããŸã€‚</li>\n</ul>\n<h1 data-sourcepos=\"6:1-6:10\" id=\"2-0-0\" name=\"2-0-0\">\n<a class=\"anchor\" id=\"SOLUTION\" name=\"SOLUTION\" href=\"#SOLUTION\" data-position=\"2-0-0\"><i class=\"fa fa-link\"></i><span class=\"hidden\" data-text=\"SOLUTION\"> &gt; SOLUTION</span></a>SOLUTION</h1>\n<ul data-sourcepos=\"7:1-8:0\">\n<li data-sourcepos=\"7:1-8:0\">ã¨ã„ã†ã‚ã‘ã§ã€ã„ã¤ã‚‚ã¤ã‹ã£ã¦ã„ã‚‹SSLè²©å£²ä»£ç†åº—ã€ŒNameCheapç¤¾ã®SSLs.comã€ã§PositiveSSLï¼ˆé‹ç”¨Comodoç¤¾ï¼‰ã‚’Herokuã«é©ç”¨ã™ã‚‹ã“ã¨ã«ã€‚</li>\n</ul>\n<h2 data-sourcepos=\"9:1-9:8\" id=\"2-1-0\" name=\"2-1-0\">\n<a class=\"anchor\" id=\"HOWTO\" name=\"HOWTO\" href=\"#HOWTO\" data-position=\"2-1-0\"><i class=\"fa fa-link\"></i><span class=\"hidden\" data-text=\"HOWTO\"> &gt; HOWTO</span></a>HOWTO</h2>\n<ol data-sourcepos=\"10:1-30:0\">\n<li data-sourcepos=\"10:1-11:75\">è¨¼æ˜æ›¸ã‚’è³¼å…¥ã™ã‚‹\n<ul data-sourcepos=\"11:5-11:75\">\n<li data-sourcepos=\"11:5-11:75\">ã¾ã‚ã€SSLè²©å£²ä»£ç†åº—ã§ã‚ã‚Œã°ã©ã“ã§ã‚‚ã„ã„ã‚“ã§ã™ãŒ</li>\n</ul>\n</li>\n<li data-sourcepos=\"12:1-15:78\">ç§˜å¯†éµã¨ç½²åãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ã¤ãã‚‹\n<ul data-sourcepos=\"13:5-15:78\">\n<li data-sourcepos=\"13:5-13:64\">ç§˜å¯†éµ <code>openssl genrsa -des3 -out server.orig.key 2048</code>\n</li>\n<li data-sourcepos=\"14:5-14:85\">ç§˜å¯†éµãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãªã—<code>openssl rsa -in server.orig.key -out server.key</code>\n</li>\n<li data-sourcepos=\"15:5-15:78\">ç½²åãƒªã‚¯ã‚¨ã‚¹ãƒˆ <code>openssl req -new -key server.key -out server.csr</code>\n</li>\n</ul>\n</li>\n<li data-sourcepos=\"16:1-17:93\">è¨¼æ˜æ›¸ç™ºè¡Œã‚’ç”³è«‹ã™ã‚‹\n<ul data-sourcepos=\"17:5-17:93\">\n<li data-sourcepos=\"17:5-17:93\">SSLè²©å£²ä»£ç†åº—ã‚ˆã‚Šç½²åãƒªã‚¯ã‚¨ã‚¹ãƒˆ<code>server.csr</code>ã¨é–¢é€£æƒ…å ±ã‚’é€ä¿¡ã™ã‚‹</li>\n</ul>\n</li>\n<li data-sourcepos=\"18:1-20:127\">ãƒ‰ãƒ¡ã‚¤ãƒ³ä¿æŒã®è¨¼æ˜ã‚’ã™ã‚‹\n<ul data-sourcepos=\"19:5-20:127\">\n<li data-sourcepos=\"19:5-19:86\">PositiveSSLã®é‹ç”¨ä¼šç¤¾Comodoã«ãŸã„ã—ãƒ‰ãƒ¡ã‚¤ãƒ³ä¿æŒã®è¨¼æ˜ã‚’ã™ã‚‹</li>\n<li data-sourcepos=\"20:5-20:127\">è¨¼æ˜æ–¹æ³•ã¯ãƒ¡ãƒ¼ãƒ«ã‚’å—ä¿¡ã™ã‚‹ã€ã‚ã‚‹ã„ã¯ã€Webã‚µã‚¤ãƒˆã«ãƒ—ãƒ¬ãƒ¼ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’è¨­ç½®ã™ã‚‹ã‹ã®2æŠ</li>\n</ul>\n</li>\n<li data-sourcepos=\"21:1-23:173\">Herokuç”¨ã®è¨¼æ˜æ›¸ã‚’ã¤ãã‚‹\n<ul data-sourcepos=\"22:5-23:173\">\n<li data-sourcepos=\"22:5-22:114\">è¨¼æ˜ã‚¿ã‚¹ã‚¯ã‚’ã“ãªã—ã—ã°ã‚‰ãã™ã‚‹ã¨ã€Comodoç¤¾ã‚ˆã‚Šè¤‡æ•°ã®è¨¼æ˜æ›¸ãŒãŠãã‚‰ã‚Œã¦ãã‚‹</li>\n<li data-sourcepos=\"23:5-23:173\">Herokuç”¨ã«è¨¼æ˜æ›¸ã‚’ã¤ãã‚‹ <code>cat www_example_com.crt COMODORSADomainValidationSecureServerCA.crt COMODORSAAddTrustCA.crt AddTrustExternalCARoot.crt &gt; server.crt</code>\n</li>\n</ul>\n</li>\n<li data-sourcepos=\"24:1-30:0\">Herokuã«è¨¼æ˜æ›¸ã‚’é©ç”¨ã™ã‚‹\n<ul data-sourcepos=\"25:5-30:0\">\n<li data-sourcepos=\"25:5-27:50\">æ–°è¦ã§é©ç”¨ã™ã‚‹å ´åˆ\n<ul data-sourcepos=\"26:9-27:50\">\n<li data-sourcepos=\"26:9-26:42\"><code>heroku addons:add ssl:endpoint</code></li>\n<li data-sourcepos=\"27:9-27:50\"><code>heroku certs:add server.crt server.key</code></li>\n</ul>\n</li>\n<li data-sourcepos=\"28:5-30:0\">æ›´æ–°ã™ã‚‹å ´åˆ\n<ul data-sourcepos=\"29:9-30:0\">\n<li data-sourcepos=\"29:9-30:0\"><code>heroku certs:update server.crt server.key</code></li>\n</ul>\n</li>\n</ul>\n</li>\n</ol>\n","tags":[],"updated_at":"2021-01-11T12:50:52+09:00","childPublishedDate":{"published_on":"2017-04-23T00:00:00.000Z"},"updated_by":{"name":"ãªã³ã®ğŸ‘·","screen_name":"nabinno","icon":"https://img.esa.io/uploads/production/members/94286/icon/thumb_m_ef5f024307008aa399b91f87fa5f64e8.jpg"}},"relatedPosts":{"edges":[{"node":{"number":67,"relative_category":"blog/backend","fields":{"title":"esaã‚’Headless CMSã¨ã—ã¦ä½¿ã†","excerpt":"// WIP"},"name":"[2021-01-18]esaã‚’Headless CMSã¨ã—ã¦ä½¿ã†","tags":[],"childPublishedDate":{"published_on":"2021-01-18T00:00:00.000Z","published_on_unix":1610928000}}},{"node":{"number":61,"relative_category":"blog/health","fields":{"title":"Elixirã¨Raspberry Piã§PM2.5ãªã©ã®ç’°å¢ƒãƒ‡ãƒ¼ã‚¿ã‚’å®šç‚¹è¦³å¯Ÿã—ã€ç›®ãƒ»å–‰ã®ç—›ã¿ã«å‚™ãˆã‚‹","excerpt":"> PROBLEMPROBLEM \n\n- ä»¥å‰ã‹ã‚‰ã‚ªãƒ•ã‚£ã‚¹ã«è¡Œãã¨ç›®ã‚„å–‰ãŒç—›ããªã‚‹ã“ã¨ãŒã‚ã£ãŸã®ã§ã€è‡ªåˆ†ã®ä½“èª¿ãªã®ã‹ç’°å¢ƒãªã®ã‹åŸå› ã‚’åˆ‡ã‚Šåˆ†ã‘ã‚‹ãŸã‚ã«æ±šæŸ“è¨ˆæ¸¬å™¨ã€ŒDienmern DM106Aã€ã‚’è³¼å…¥ ãŸã ã€DM106Aã®è¨ˆæ¸¬ã¯ãã®æ™‚ãã®æ™‚ã®ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆãªã®ã§å‚¾å‘ã‚’èª­ã¿è§£ãã¥ã‚‰ã„ã€ã¾ãŸã€éƒ½åº¦å®Ÿæ–½ã™ã‚‹æ‰‹é–“ãŒã‹ã‹ã‚‹ \n- ãŸã ã€DM106Aã®è¨ˆæ¸¬ã¯ãã®æ™‚ãã®æ™‚ã®ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆãªã®ã§å‚¾å‘ã‚’èª­ã¿è§£ãã¥ã‚‰ã„ã€ã¾ãŸã€éƒ½åº¦å®Ÿæ–½ã™ã‚‹æ‰‹é–“ãŒã‹ã‹ã‚‹   > SOLUTIONSOLUTION \n\nã¨ã„ã†ã‚ã‘ã§ã€DM106Aã®ã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’Raspberry Piã§å®šæœŸå–å¾—ã™ã‚‹ã“ã¨ã«ã—ãŸã€‚è¨­ç½®æ–¹æ³•ã®è©³ç´°ã¯GitHubãƒ¬ãƒã‚¸ãƒˆãƒªã‚’å‚ç…§ã€‚ä¸‹è¨˜ã¯å®Ÿè£…æ¦‚è¦ã€‚   > é›»å­éƒ¨å“ã®æ§‹æˆé›»å­éƒ¨å“ã®æ§‹æˆ    item description     Raspberry Pi 3 Model B+    Aosong DHT11 æ°—æ¸©ãƒ»æ¹¿åº¦ã‚»ãƒ³ã‚µãƒ¼ã€GPIO   Nova SDS021 PM2.5ãƒ»PM10ã‚»ãƒ³ã‚µãƒ¼ã€UART   ams CCS811 TVOCãƒ»CO2eã‚»ãƒ³ã‚µãƒ¼ã€I2C    \n\né›»å­å·¥ä½œã¯ç´ äººã‚†ãˆã©ã®ã‚»ãƒ³ã‚µãƒ¼ã‚’è²·ãˆã°ã„ã„ã‹ã‚ã‹ã‚‰ãªã‹ã£ãŸã®ã§DM106Aã‚’åˆ†è§£ã—ã¦å„ã‚»ãƒ³ã‚µãƒ¼ã®å‹ç•ªã‚’ã—ã‚‰ã¹ãŸã€‚DHT011ã€SDS021ã¯DM106Aã¨ãŠãªã˜ã‚»ãƒ³ã‚µãƒ¼ã€HCHOã‚»ãƒ³ã‚µãƒ¼ã¯ä¿¡é ¼æ€§ãŒã‚ã‚Šæ‰‹ã”ã‚ãªã®ãŒã†ã¾ãè¦‹ã¤ã‘ã‚‰ã‚Œãªã‹ã£ãŸã€‚TVOCã‚»ãƒ³ã‚µãƒ¼ã¯AdafruitãŒæ¨ã—ã¦ã„ã‚‹CCS811ã‚’æ¡ç”¨ã—ãŸã€‚   > ã‚³ãƒ¼ãƒ‰ã®æ§‹æˆã‚³ãƒ¼ãƒ‰ã®æ§‹æˆ    item description     AirElixir.Application ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ç®¡ç†   AirElixir.GoogleSpreadsheets ã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿è¨˜éŒ²   AirElixirSensor.Publisher ã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿ç™ºè¡Œãƒ»é€ä¿¡   AirElixirSensor.Subscriber ã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿è³¼èª­ãƒ»å—ä¿¡    \n\nåŸºæœ¬æ§‹æˆã¯GrovePiã‚’å‚è€ƒã«ã—ãŸã€‚ç™ºè¡Œå‡¦ç†ã¯Elixirã§ã†ã¾ãã„ã‹ãªã„ã‚±ãƒ¼ã‚¹ãŒã‚ã£ãŸã®ã§ã¾ãšã¯Python/ErlPortã§ãŠã“ãªã£ãŸã€‚å¾Œã€…Elixirã«ç§»è¡Œã§ãã‚‹ã‚ˆã†ã«ãƒã‚¯ãƒ­ã«ã—ã¦ã‚ã‚‹ã€‚   > 5æ—¥ã»ã©ç¨¼åƒã—ã¦ã‚ã‹ã£ãŸã“ã¨ãƒ»è¦‹ç«‹ã¦ã€ä»Šå¾Œã®èª²é¡Œ5æ—¥ã»ã©ç¨¼åƒã—ã¦ã‚ã‹ã£ãŸã“ã¨ãƒ»è¦‹ç«‹ã¦ã€ä»Šå¾Œã®èª²é¡Œ  \n\n- ã‚ªãƒ•ã‚£ã‚¹ã®ç©ºæ°—æ¸…æµ„æ©Ÿã€ŒHitachi EP-LVG110ã€ã¯PMã‚’ãã¡ã‚“ã¨ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã—ã¦ã„ãŸ ãŸã ã—ã€ç©ºæ°—æ¸…æµ„æ©Ÿã¯TVOCã«ã¯åŠ¹æœãŒãªãã€ã“ã‚Œã¯Troiaæ°ã‚„åŠ è—¤æ°ãƒ»è‹…éƒ¨æ°ã®è€ƒå¯Ÿã§ã‚‚è¨€åŠã•ã‚Œã¦ã„ã‚‹ \n- ãŸã ã—ã€ç©ºæ°—æ¸…æµ„æ©Ÿã¯TVOCã«ã¯åŠ¹æœãŒãªãã€ã“ã‚Œã¯Troiaæ°ã‚„åŠ è—¤æ°ãƒ»è‹…éƒ¨æ°ã®è€ƒå¯Ÿã§ã‚‚è¨€åŠã•ã‚Œã¦ã„ã‚‹\n- äººã®å…¥ã‚ŠãŒå¤šã„æ™‚é–“å¸¯ã«ç©ºæ°—ï¼ˆTVOCã‚„CO2eï¼‰ãŒã‚ˆã”ã‚Œã‚‹ äººãŒã€Œå‡ºã‚‹ã€ã¨ãã‚ˆã‚Šã‚‚ã€Œå…¥ã‚‹ã€éš›ã«æ¿ƒåº¦ãŒã‚ãŒã‚‹ã®ã¯ã€å¤–ã®VOCãŒæœãªã©ã«ä»˜ç€ã—ã¦ã„ã‚‹ãŸã‚ã¨æ¨å¯Ÿ \n- äººãŒã€Œå‡ºã‚‹ã€ã¨ãã‚ˆã‚Šã‚‚ã€Œå…¥ã‚‹ã€éš›ã«æ¿ƒåº¦ãŒã‚ãŒã‚‹ã®ã¯ã€å¤–ã®VOCãŒæœãªã©ã«ä»˜ç€ã—ã¦ã„ã‚‹ãŸã‚ã¨æ¨å¯Ÿ\n- TVOCã‚„CO2eã¯PMã®ã†ã”ãã«é€£å‹•ã—ã¦ã„ã‚‹ï¼ˆã‹ã‚‚ï¼‰ ãƒãƒ£ãƒ¼ãƒˆä¸Šã¯EP-LVG110ãŒPMé™¤å»ã—ã¦ã„ã‚‹ãŸã‚ã‚ã‹ã‚‰ãªã„ãŒã€æ—¥æœ¬æ°—è±¡å”ä¼šã®PM2.5åˆ†å¸ƒäºˆæ¸¬ã«ç…§ã‚‰ã—ã¦ã¿ã‚‹ã¨PMæ¿ƒåº¦ãŒé«˜ã„æ—¥ã«TVOCæ¿ƒåº¦ãŒã‚ãŒã£ã¦ã„ãŸ TODO: PMãŒVOCã‚’é‹ã‚“ã§ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã®ã§ã€IQAirãªã©ã®APIã‹ã‚‰å‘¨è¾ºç’°å¢ƒã®PMãƒ‡ãƒ¼ã‚¿ã‚‚å–å¾—ã—ãŸã„ã¨ã“ã‚ \n- ãƒãƒ£ãƒ¼ãƒˆä¸Šã¯EP-LVG110ãŒPMé™¤å»ã—ã¦ã„ã‚‹ãŸã‚ã‚ã‹ã‚‰ãªã„ãŒã€æ—¥æœ¬æ°—è±¡å”ä¼šã®PM2.5åˆ†å¸ƒäºˆæ¸¬ã«ç…§ã‚‰ã—ã¦ã¿ã‚‹ã¨PMæ¿ƒåº¦ãŒé«˜ã„æ—¥ã«TVOCæ¿ƒåº¦ãŒã‚ãŒã£ã¦ã„ãŸ TODO: PMãŒVOCã‚’é‹ã‚“ã§ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã®ã§ã€IQAirãªã©ã®APIã‹ã‚‰å‘¨è¾ºç’°å¢ƒã®PMãƒ‡ãƒ¼ã‚¿ã‚‚å–å¾—ã—ãŸã„ã¨ã“ã‚ \n- TODO: PMãŒVOCã‚’é‹ã‚“ã§ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã®ã§ã€IQAirãªã©ã®APIã‹ã‚‰å‘¨è¾ºç’°å¢ƒã®PMãƒ‡ãƒ¼ã‚¿ã‚‚å–å¾—ã—ãŸã„ã¨ã“ã‚\n- TVOCã®å¤‰å‹•ãŒå¤§ãã™ãã‚‹ ãƒãƒ¼ãƒªãƒ³ã‚°ãƒ»å‡ºåŠ›ã‚’20åˆ†ã”ã¨ã‹ã‚‰ãƒãƒ¼ãƒªãƒ³ã‚°3ç§’ã”ã¨ãƒ»å‡ºåŠ›20åˆ†ã”ã¨ã«å¤‰æ›´ã—ãŸã€å‡ºåŠ›ãƒ‡ãƒ¼ã‚¿ã¯20åˆ†ã®å¹³å‡ \n- ãƒãƒ¼ãƒªãƒ³ã‚°ãƒ»å‡ºåŠ›ã‚’20åˆ†ã”ã¨ã‹ã‚‰ãƒãƒ¼ãƒªãƒ³ã‚°3ç§’ã”ã¨ãƒ»å‡ºåŠ›20åˆ†ã”ã¨ã«å¤‰æ›´ã—ãŸã€å‡ºåŠ›ãƒ‡ãƒ¼ã‚¿ã¯20åˆ†ã®å¹³å‡\n- TVOCã®ã‚¹ãƒ‘ã‚¤ã‚¯ã‚’æŠ‘ãˆãŸã„ TODO: ãƒ•ã‚¡ã‚¤ãƒˆãƒ¬ãƒ¡ãƒ‡ã‚£ã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ã«ã‚ˆã‚‹åŠ¹æœã‚’è¦‹ã¦ã„ããŸã„ã¨ã“ã‚ \n- TODO: ãƒ•ã‚¡ã‚¤ãƒˆãƒ¬ãƒ¡ãƒ‡ã‚£ã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ã«ã‚ˆã‚‹åŠ¹æœã‚’è¦‹ã¦ã„ããŸã„ã¨ã“ã‚   > WRAPUPWRAPUP \n\nElixirã¯å¥åº·ç®¡ç†ã«å‘ã„ã¦ã„ã‚‹ã€‚   txt \n\nã€Œãªã‚“ã‹ä½“èª¿ãŒã™ãã‚Œãªã„ãªã‚...ã€ ã€ŒElixirã¡ã‚‡ã†ã ã„!ã€   \n\nã¨ã„ã†æ„Ÿã˜ã€‚"},"name":"[2018-12-22]Elixirã¨Raspberry Piã§PM2.5ãªã©ã®ç’°å¢ƒãƒ‡ãƒ¼ã‚¿ã‚’å®šç‚¹è¦³å¯Ÿã—ã€ç›®ãƒ»å–‰ã®ç—›ã¿ã«å‚™ãˆã‚‹","tags":["elixir","raspberry-pi","particulates","physiology"],"childPublishedDate":{"published_on":"2018-12-22T00:00:00.000Z","published_on_unix":1545436800}}},{"node":{"number":58,"relative_category":"blog/backend","fields":{"title":"WSLï¼ˆWindows Subsystem for Linuxï¼‰ã§Dockerã‚’ã¤ã‹ã£ãŸWebã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³é–‹ç™ºã‚’ãŠã“ãªã†éš›ã®æ³¨æ„ç‚¹","excerpt":"ã“ã‚Œã¯ç„¡å®—æ•™ãªãªã³ã®  ãŒæ›¸ãDocker Advent Calendar 2017ç”¨è¨˜äº‹ã§ã™ã€‚å‰æ—¥ã¯inductorã•ã‚“ã®ã€ŒDocker Meetupã®ä¸­èº«ã¾ã¨ã‚ã€ã§ã—ãŸ  ï¼ˆå†™çœŸã¯ã‚¯ãƒªã‚¹ãƒã‚¹ã‚’æ—¥æœ¬ã«ã²ã‚ã‚ãŸæ˜æ²»å±‹ ï¼‰   > PROBLEMPROBLEM \n\n- macOSã¨Windowsã§Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³é–‹ç™ºã‚’ã™ã‚‹éš›ã« ç’°å¢ƒãŒç•°ãªã£ã¦ç®¡ç†ã—ã¥ã‚‰ã„ ãã‚Œãªã‚‰Dockerã§ ã¨æ€ã£ãŸãŒã€macOSã¯Bashã§Windowsã¯PowerShellãªã®ã‹ ã›ã‚ã¦PowerShellã§ã¯ãªãBash... ã¨ãªã‚‹ã¨ã€ã„ã¾Windowsã§Linuxç’°å¢ƒã‚’ã¤ã‹ã†ãªã‚‰WSLã‹ ãŸã ã€å®Ÿéš›ã©ã“ã¾ã§é–‹ç™ºãŒã§ãã‚‹ã‹ã‚ã‹ã‚‰ã‚“ã—ãªã‚ \n- ç’°å¢ƒãŒç•°ãªã£ã¦ç®¡ç†ã—ã¥ã‚‰ã„ ãã‚Œãªã‚‰Dockerã§ ã¨æ€ã£ãŸãŒã€macOSã¯Bashã§Windowsã¯PowerShellãªã®ã‹ ã›ã‚ã¦PowerShellã§ã¯ãªãBash... ã¨ãªã‚‹ã¨ã€ã„ã¾Windowsã§Linuxç’°å¢ƒã‚’ã¤ã‹ã†ãªã‚‰WSLã‹ ãŸã ã€å®Ÿéš›ã©ã“ã¾ã§é–‹ç™ºãŒã§ãã‚‹ã‹ã‚ã‹ã‚‰ã‚“ã—ãªã‚ \n- ãã‚Œãªã‚‰Dockerã§ ã¨æ€ã£ãŸãŒã€macOSã¯Bashã§Windowsã¯PowerShellãªã®ã‹ ã›ã‚ã¦PowerShellã§ã¯ãªãBash... ã¨ãªã‚‹ã¨ã€ã„ã¾Windowsã§Linuxç’°å¢ƒã‚’ã¤ã‹ã†ãªã‚‰WSLã‹ ãŸã ã€å®Ÿéš›ã©ã“ã¾ã§é–‹ç™ºãŒã§ãã‚‹ã‹ã‚ã‹ã‚‰ã‚“ã—ãªã‚ \n- ã¨æ€ã£ãŸãŒã€macOSã¯Bashã§Windowsã¯PowerShellãªã®ã‹ ã›ã‚ã¦PowerShellã§ã¯ãªãBash... ã¨ãªã‚‹ã¨ã€ã„ã¾Windowsã§Linuxç’°å¢ƒã‚’ã¤ã‹ã†ãªã‚‰WSLã‹ ãŸã ã€å®Ÿéš›ã©ã“ã¾ã§é–‹ç™ºãŒã§ãã‚‹ã‹ã‚ã‹ã‚‰ã‚“ã—ãªã‚ \n- ã›ã‚ã¦PowerShellã§ã¯ãªãBash... ã¨ãªã‚‹ã¨ã€ã„ã¾Windowsã§Linuxç’°å¢ƒã‚’ã¤ã‹ã†ãªã‚‰WSLã‹ ãŸã ã€å®Ÿéš›ã©ã“ã¾ã§é–‹ç™ºãŒã§ãã‚‹ã‹ã‚ã‹ã‚‰ã‚“ã—ãªã‚ \n- ã¨ãªã‚‹ã¨ã€ã„ã¾Windowsã§Linuxç’°å¢ƒã‚’ã¤ã‹ã†ãªã‚‰WSLã‹ ãŸã ã€å®Ÿéš›ã©ã“ã¾ã§é–‹ç™ºãŒã§ãã‚‹ã‹ã‚ã‹ã‚‰ã‚“ã—ãªã‚ \n- ãŸã ã€å®Ÿéš›ã©ã“ã¾ã§é–‹ç™ºãŒã§ãã‚‹ã‹ã‚ã‹ã‚‰ã‚“ã—ãªã‚   > SOLUTIONSOLUTION \n\nã¨ã„ã†ã‚ã‘ã§ã€ã“ã®è¨˜äº‹ã§ã¯macOSã¨Windowsã«ã‚ˆã‚‹Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³é–‹ç™ºã«ã¤ã„ã¦ã€ã©ã“ã¾ã§å…±æœ‰ã§ãã‚‹ã‹æ›¸ã„ã¦ã„ãã¾ã™ã€‚ \n\nå‰ææ¡ä»¶ã¨ã—ã¦ã€å½“è©²Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯macOSã¨ã„ã†ã‚ˆã‚Šã€Bash/Ubuntu14.04~ã®Linuxç’°å¢ƒã§å‹•ãã“ã¨ã‚’æƒ³å®šã—ã¦ã„ã¾ã™ã€‚macOSã¯HFS+ã‚„APFSã®Unicodeæ­£è¦åŒ–ä»¥å¤–ã¯ãŠãŠã‚ˆãLinuxç’°å¢ƒã«é©å¿œã§ãã¦ã„ã‚‹ã¨ã„ã†åˆ¤æ–­ã«ã‚ˆã‚Šã¾ã™ã€‚ \n\nè¦ã¯ã€WSLã§Dockerã‚’ã¤ã‹ã£ãŸWebã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³é–‹ç™ºãŒã§ãã‚‹ã‹ã©ã†ã‹ã¨ã„ã†ç‚¹ã«ç„¦ç‚¹ã‚’ã—ã¼ã‚Šã¾ã™ã€‚   > å¯¾è±¡ç’°å¢ƒå¯¾è±¡ç’°å¢ƒ \n\n- Windows 10 Pro 1709 16299.64 Hyper-V 10.0.16299.15 Docker for Windows 17.09.0-ce-win33 Ubuntu 16.04 (Linux 4.4.0-43-Microsoft) Docker Client 1.12.6 \n- Hyper-V 10.0.16299.15\n- Docker for Windows 17.09.0-ce-win33\n- Ubuntu 16.04 (Linux 4.4.0-43-Microsoft) Docker Client 1.12.6 \n- Docker Client 1.12.6   > Windowsã®é–‹ç™ºç’°å¢ƒã‚’æ§‹ç¯‰ã™ã‚‹Windowsã®é–‹ç™ºç’°å¢ƒã‚’æ§‹ç¯‰ã™ã‚‹ \n\nã¾ãšã€Windowsã®é–‹ç™ºç’°å¢ƒã®æ§‹ç¯‰ã§ã™ãŒã€æ—¢çŸ¥ã®æƒ…å ±ã‚’ãµã¾ãˆã¤ã¤TIPSã‚’é †æ¬¡ç´¹ä»‹ã—ã¾ã™ã€‚   > WSLã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«WSLã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« \n\n- Windows Subsystem for Linuxã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã¿ã‚ˆã†ï¼ \n\nWSLã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç®¡ç†ã¯ä¸‹è¨˜3ã¤ã‚’æŠ¼ã•ãˆã¦ãŠã‘ã°å•é¡Œãªã„ã§ã—ã‚‡ã†ã€‚ \n\n1. apt WSLã§ã¯ãƒ‡ãƒ¼ãƒ¢ãƒ³ãŒã¤ã‹ãˆãªã„ã®ã§Dockerã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’å…¥ã‚Œã¾ã—ã‚‡ã†ã€Dockerãƒ‡ãƒ¼ãƒ¢ãƒ³ã®è©³ç´°ã¯å¾Œã»ã©è¨€åŠã—ã¾ã™ \n2. WSLã§ã¯ãƒ‡ãƒ¼ãƒ¢ãƒ³ãŒã¤ã‹ãˆãªã„ã®ã§Dockerã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’å…¥ã‚Œã¾ã—ã‚‡ã†ã€Dockerãƒ‡ãƒ¼ãƒ¢ãƒ³ã®è©³ç´°ã¯å¾Œã»ã©è¨€åŠã—ã¾ã™\n3. anyenv ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã‚’ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã”ã¨ã«ã‚ã‘ã¦ä½¿ã„ãŸã„å ´åˆã¯ã“ã¡ã‚‰ã‚’ã¤ã‹ã„ã¾ã—ã‚‡ã† exenvãŒãƒ“ãƒ«ãƒ‰ã§å¤±æ•—ã™ã‚‹ãŸã‚Elixirã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ããªã„ã»ã‹ã¯ã€å„è¨€èªå•é¡Œãªããƒ“ãƒ«ãƒ‰ã§ãã¾ã™ \n4. ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã‚’ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã”ã¨ã«ã‚ã‘ã¦ä½¿ã„ãŸã„å ´åˆã¯ã“ã¡ã‚‰ã‚’ã¤ã‹ã„ã¾ã—ã‚‡ã†\n5. exenvãŒãƒ“ãƒ«ãƒ‰ã§å¤±æ•—ã™ã‚‹ãŸã‚Elixirã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ããªã„ã»ã‹ã¯ã€å„è¨€èªå•é¡Œãªããƒ“ãƒ«ãƒ‰ã§ãã¾ã™\n6. nix Elixirã‚„Haskellã®ã‚ˆã†ã«anyenvã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ããªã„ã€ã‚ã‚‹ã„ã¯ã€æ‰±ã‚ã‚Œã„ãªã„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¯nixã‚’ã¤ã‹ã„ã¾ã—ã‚‡ã† ã¾ãŸã€aptã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒå¤ã™ãã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚‚nixãŒæœ€é©ã§ã™ \n7. Elixirã‚„Haskellã®ã‚ˆã†ã«anyenvã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ããªã„ã€ã‚ã‚‹ã„ã¯ã€æ‰±ã‚ã‚Œã„ãªã„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¯nixã‚’ã¤ã‹ã„ã¾ã—ã‚‡ã†\n8. ã¾ãŸã€aptã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒå¤ã™ãã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚‚nixãŒæœ€é©ã§ã™   > ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« \n\nWSLttyã‹ConEmuã‚’ãŠã™ã™ã‚ã—ã¾ã™ã€‚å„ã€…ã®ç‰¹å¾´ã¯ä¸‹è¨˜ã®ã¨ãŠã‚Šã§ã™ãŒã€é€šå¸¸ã®Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³é–‹ç™ºã§ã‚ã‚Œã°WSLttyãŒã„ã„ã§ã—ã‚‡ã†ã€‚ \n\n- WSLtty Pros ConEmuã¨ãã‚‰ã¹ã¦ãƒ•ã‚¡ã‚¤ãƒ«ã®èª­è¾¼é€Ÿåº¦ãŒé€Ÿã„ (VMã‚ˆã‚Šã¯é…ã„) Emacsã§Ctrl-SPC set-mark ãŒæ©Ÿèƒ½ã™ã‚‹ ç”»é¢ã‚µã‚¤ã‚ºã®å¤‰æ›´ãŒæŸ”è»Ÿ Cons PowerShellãªã©ã»ã‹ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã®å‘¼ã³å‡ºã—ãŒé¢å€’ \n- Pros ConEmuã¨ãã‚‰ã¹ã¦ãƒ•ã‚¡ã‚¤ãƒ«ã®èª­è¾¼é€Ÿåº¦ãŒé€Ÿã„ (VMã‚ˆã‚Šã¯é…ã„) Emacsã§Ctrl-SPC set-mark ãŒæ©Ÿèƒ½ã™ã‚‹ ç”»é¢ã‚µã‚¤ã‚ºã®å¤‰æ›´ãŒæŸ”è»Ÿ \n- ConEmuã¨ãã‚‰ã¹ã¦ãƒ•ã‚¡ã‚¤ãƒ«ã®èª­è¾¼é€Ÿåº¦ãŒé€Ÿã„ (VMã‚ˆã‚Šã¯é…ã„)\n- Emacsã§Ctrl-SPC set-mark ãŒæ©Ÿèƒ½ã™ã‚‹\n- ç”»é¢ã‚µã‚¤ã‚ºã®å¤‰æ›´ãŒæŸ”è»Ÿ\n- Cons PowerShellãªã©ã»ã‹ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã®å‘¼ã³å‡ºã—ãŒé¢å€’ \n- PowerShellãªã©ã»ã‹ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã®å‘¼ã³å‡ºã—ãŒé¢å€’\n- ConEmu Pros PowerShellãªã©ã»ã‹ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã®å‘¼ã³å‡ºã—ãŒæ¥½ Cons ãƒ•ã‚¡ã‚¤ãƒ«ã®èª­è¾¼é€Ÿåº¦ãŒãŠãã„ Emacsã§Ctrl-SPC set-mark ãŒæ©Ÿèƒ½ã—ãªã„ ç”»é¢ã‚µã‚¤ã‚ºã®å¤‰æ›´ã«åˆ¶é™ãŒã‚ã‚‹ \n- Pros PowerShellãªã©ã»ã‹ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã®å‘¼ã³å‡ºã—ãŒæ¥½ \n- PowerShellãªã©ã»ã‹ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã®å‘¼ã³å‡ºã—ãŒæ¥½\n- Cons ãƒ•ã‚¡ã‚¤ãƒ«ã®èª­è¾¼é€Ÿåº¦ãŒãŠãã„ Emacsã§Ctrl-SPC set-mark ãŒæ©Ÿèƒ½ã—ãªã„ ç”»é¢ã‚µã‚¤ã‚ºã®å¤‰æ›´ã«åˆ¶é™ãŒã‚ã‚‹ \n- ãƒ•ã‚¡ã‚¤ãƒ«ã®èª­è¾¼é€Ÿåº¦ãŒãŠãã„\n- Emacsã§Ctrl-SPC set-mark ãŒæ©Ÿèƒ½ã—ãªã„\n- ç”»é¢ã‚µã‚¤ã‚ºã®å¤‰æ›´ã«åˆ¶é™ãŒã‚ã‚‹   > WSLttyWSLtty \n\n- mintty/wsltty \n\nWSLç”¨ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã¨ã—ã¦ã®Minttyã§ã™ã€‚æ“ä½œã¯Minttyã¨ã‹ã‚ã‚‰ãšã€å…ƒCygwinã¥ã‹ã„ã«ã¯ã†ã‚Œã—ã„æ“ä½œæ„Ÿã§ã™ã€‚ã¨ã„ã†ã‚ã‘ã§ã€ã„ã¤ã‚‚ã®ã”ã¨ãèµ·å‹•ç”¨ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã®ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‚’æº–å‚™ã—ã¾ã™ã€‚WSLã¯ chsh ãŒã¤ã‹ãˆãªã„ã®ã§ãƒ­ã‚°ã‚¤ãƒ³æ™‚ã«ã¤ã‹ã„ãŸã„ã‚·ã‚§ãƒ«ã‚’æŒ‡å®šã—ã¾ã™ã€‚ã‚‚ã—ã€ screen ã‚’ã¤ã‹ã„ãŸã„å ´åˆã¯ /run/screen ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆã—ã¦ã‹ã‚‰ã‚³ãƒãƒ³ãƒ‰æŒ‡å®šã—ã¾ã™ã€‚   bat \n\n%LOCALAPPDATA%\\wsltty\\bin\\mintty.exe --wsl -o Locale=C -o Charset=UTF-8 /bin/wslbridge -t /bin/bash -c 'sudo mkdir /run/screen && sudo chmod 775 $_ && sudo chown root:utmp $_ && SHELL=/usr/bin/zsh screen'   ConEmu \n\n- ConEmu - Handy Windows Terminal \n\nWSLä¸Šã§æ—¥æœ¬èªã‚’è¡¨ç¤ºã™ã‚‹ãŸã‚ã€ã¾ãŸã€WSLã®Linuxç’°å¢ƒã¨Windowsç’°å¢ƒã§ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’ã‚ã‘ã‚‹ãŸã‚ã€ConEmuã‚’ã¤ã‹ã„ã¾ã—ã‚‡ã†ã€‚ConEmuã‚’ã‚¹ãƒãƒ¼ãƒˆã«ã—ãŸCmderã¯WSLã¨ã®ç›¸æ€§ãŒã‚ã‚‹ã„1ã®ã§ãŠã™ã™ã‚ã—ã¾ã›ã‚“ã€‚ \n\nConEmuã®è¨­å®šã€ŒStartup-Tasksã€ã§ã¯ã€WSLç”¨ã«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã€ã‚³ãƒãƒ³ãƒ‰ã‚’ä¸‹è¨˜ã®ã‚ˆã†ã«æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚   bash \n\n# task parameters /icon \"C:\\Program Files\\WindowsApps\\CanonicalGroupLimited.UbuntuonWindows_1604.2017.922.0_x64__79rhkp1fndgsc\\images\\icon.ico\" # task command bash -c 'sudo mkdir /run/screen && sudo chmod 775 $_ && sudo chown root:utmp $_ && SHELL=/usr/bin/zsh screen' -new_console:d:%USERPROFILE%     > Docker for Windowsã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«Docker for Windowsã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« \n\n- Docker For Windows \n\nWSLã§ã¯Dockerãƒ‡ãƒ¼ãƒ¢ãƒ³ãŒã¤ã‹ãˆãªã„ã®ã§NTFS (WSLã‹ã‚‰ã¿ã‚‹ã¨drvfs) å´ã§ç”¨æ„ã—ã¾ã™ã€‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¯Dockerã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒšãƒ¼ã‚¸ã‹ã‚‰æ‰‹é †é€šã‚ŠãŠã“ãªã„ã¾ã™ã€‚ \n\næ§‹æˆã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚  \n\nDockerã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰Dockerãƒ‡ãƒ¼ãƒ¢ãƒ³ã«ã¤ãªãã«ã¯ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒªã‚¹ã‚¯ã¯ã‚ã‚Šã¾ã™ãŒã€ DOCKER_HOST ã‚’ã¤ã‹ã†ã®ãŒç°¡æ˜“çš„ã§ã™ã€‚Docker for Windowsã¨Dockerã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã€å„ã€…è¨­å®šã—ã¾ã™ã€‚ \n\n1. Docker for Windowsã‚ˆã‚ŠDockerãƒ‡ãƒ¼ãƒ¢ãƒ³ã‚’ã€ŒExpose daemon on tcp://localhost:2375 without TLSã€ã¨ã—ã¦è¨­å®š\n2. WSLä¸Šã®Dockerã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã« DOCKER_HOST=tcp://0.0.0.0:2375 ã‚’è¨­å®š \n\nWSLã«ã¯ä¸‹è¨˜ã®ã‚ˆã†ãªaliasã‚’ç”¨æ„ã—ã¦ãŠãã¨ã„ã„ã§ã—ã‚‡ã†ã€‚   bash \n\nexport DOCKER_HOST=tcp://0.0.0.0:2375 alias docker=\"DOCKER_HOST=${DOCKER_HOST} docker\" alias docker-compose=\"docker-compose -H ${DOCKER_HOST}\"     > ã•ã¦ã€WSLã‹ã‚‰Docker for Windowsã¯ã©ã®ç¨‹åº¦ã¤ã‹ãˆã‚‹ã®ã‹ã•ã¦ã€WSLã‹ã‚‰Docker for Windowsã¯ã©ã®ç¨‹åº¦ã¤ã‹ãˆã‚‹ã®ã‹ \n\nWSLãŒlxfsã€Docker for WindowsãŒNTFS (drvfs) ä¸Šã§å‹•ã„ã¦ã„ã‚‹ã“ã¨ã‹ã‚‰ã‚ã‹ã‚‹ã‚ˆã†ã«ã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ä¸Šã®åˆ¶ç´„ãŒã‚ã‚Šã¾ã™ã€‚å…·ä½“çš„ã«ã¯ä¸‹è¨˜4ç‚¹ã§ã™ã€‚ \n\n1. Docker for Windowsã¯NTFS (WSLã‹ã‚‰ã¿ã‚‹ã¨drvfs /mnt/) ä¸Šã®ãƒ•ã‚¡ã‚¤ãƒ«ã—ã‹Volumeãƒã‚¦ãƒ³ãƒˆã§ãã¾ã›ã‚“\n2. WSLã¯Linuxå½¢å¼ã®ãƒ‘ã‚¹ã—ã‹æ‰±ãˆã¾ã›ã‚“ã€C:\\Dev ã®ã‚ˆã†ãªãƒ‰ãƒ©ã‚¤ãƒ–åã«ã‚³ãƒ­ãƒ³ã‚’ã¤ã‘ãŸURIã‚¹ã‚­ãƒ¼ãƒã¯æ‰±ãˆã¾ã›ã‚“\n3. WSLä¸Šã®docker-composeã¯ãƒ‘ã‚¹ã‚’çµ¶å¯¾å‚ç…§ã—ã‹ã§ãã¾ã›ã‚“ã€ç›¸å¯¾å‚ç…§ã§ãã¾ã›ã‚“2 \n4. WSLä¸Šã®npm/yarnã«ã‚ˆã‚‹JSãƒ“ãƒ«ãƒ‰ã‚’NTFS (drvfs)ä¸Šã§ãŠã“ãªã†ã¨ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™3  \n\nã²ã¨ã¤ãšã¤è§£æ±ºæ–¹æ³•ã‚’è¦‹ã¦ã„ãã¾ã—ã‚‡ã†ã€‚   > 1. Docker for Windowsã¯NTFS (WSLã‹ã‚‰ã¿ã‚‹ã¨drvfs /mnt/) ä¸Šã®ãƒ•ã‚¡ã‚¤ãƒ«ã—ã‹Volumeãƒã‚¦ãƒ³ãƒˆã§ãã¾ã›ã‚“1. Docker for Windowsã¯NTFS (WSLã‹ã‚‰ã¿ã‚‹ã¨drvfs /mnt/) ä¸Šã®ãƒ•ã‚¡ã‚¤ãƒ«ã—ã‹Volumeãƒã‚¦ãƒ³ãƒˆã§ãã¾ã›ã‚“ \n\né–‹ç™ºç”¨ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’NTFSä¸Šã«ã¤ãã‚Šã¾ã—ã‚‡ã†ã€‚æ™®æ®µã‹ã‚‰Windowsã§é–‹ç™ºã•ã‚Œã¦ã„ã‚‹æ–¹ã¯Cãƒ‰ãƒ©ã‚¤ãƒ–ç›´ä¸‹ã«ã¤ãã£ã¦ã„ã‚‹ã¨ãŠã‚‚ã„ã¾ã™ã€‚   > 2. WSLã¯Linuxå½¢å¼ã®ãƒ‘ã‚¹ã—ã‹æ‰±ãˆã¾ã›ã‚“ã€ãƒ‰ãƒ©ã‚¤ãƒ–åã«ã‚³ãƒ­ãƒ³ã‚’ã¤ã‘ãŸURIã‚¹ã‚­ãƒ¼ãƒã¯æ‰±ãˆã¾ã›ã‚“2. WSLã¯Linuxå½¢å¼ã®ãƒ‘ã‚¹ã—ã‹æ‰±ãˆã¾ã›ã‚“ã€ãƒ‰ãƒ©ã‚¤ãƒ–åã«ã‚³ãƒ­ãƒ³ã‚’ã¤ã‘ãŸURIã‚¹ã‚­ãƒ¼ãƒã¯æ‰±ãˆã¾ã›ã‚“ \n\nNTFSã‹ã‚‰ã®ãƒ‘ã‚¹å‚ç…§ã¨WSLã‹ã‚‰ã®ãƒ‘ã‚¹å‚ç…§ã‚’å…±é€šåŒ–ã™ã‚‹ãŸã‚ã«ã€WSLã«å„ãƒ‰ãƒ©ã‚¤ãƒ–ã®ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯ã‚’ã¯ã‚Šã¾ã—ã‚‡ã†ã€‚   bash \n\n$ ln -s /mnt/c /C # é–‹ç™ºãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¯ã“ã‚“ãªæ„Ÿã˜ã§å‚ç…§ã§ãã¾ã™ $ ls -al /C/Dev total 0 drwxrwxrwx 0 root root 512 Oct 27 00:54 . drwxrwxrwx 0 root root 512 Dec 8 07:49 .. drwxrwxrwx 0 root root 512 Jul 14 03:06 app-test-1 drwxrwxrwx 0 root root 512 Oct 25 00:38 app-test-2     > 3. WSLä¸Šã®docker-composeã¯ãƒ‘ã‚¹ã‚’çµ¶å¯¾å‚ç…§ã—ã‹ã§ãã¾ã›ã‚“ã€ç›¸å¯¾å‚ç…§ã§ãã¾ã›ã‚“3. WSLä¸Šã®docker-composeã¯ãƒ‘ã‚¹ã‚’çµ¶å¯¾å‚ç…§ã—ã‹ã§ãã¾ã›ã‚“ã€ç›¸å¯¾å‚ç…§ã§ãã¾ã›ã‚“ \n\nå„OSé–“ã§ã®é•ã„ã‚’å¸åã™ã‚‹ãŸã‚ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã« PRJ_ROOT ã®ã‚ˆã†ãªç’°å¢ƒå¤‰æ•°ã‚’ç”¨æ„ã—ã¾ã—ã‚‡ã†ã€‚   yaml \n\nservices: app-front: image: 561534604247952616898.dkr.ecr.amazonaws.com/test/front volumes: - ${PRJ_ROOT}/front:/var/www/front     > 4. WSLä¸Šã®npm/yarnã«ã‚ˆã‚‹JSãƒ“ãƒ«ãƒ‰ã‚’NTFS (drvfs)ä¸Šã§ãŠã“ãªã†ã¨ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™4. WSLä¸Šã®npm/yarnã«ã‚ˆã‚‹JSãƒ“ãƒ«ãƒ‰ã‚’NTFS (drvfs)ä¸Šã§ãŠã“ãªã†ã¨ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™ \n\nã“ã¡ã‚‰ã¯Fall Creators Updateã®ãƒ‡ã‚°ãƒ¬ã§ã™ãŒã€æ›´æ–°ãƒ—ãƒ­ã‚°ãƒ©ãƒ  (KB4051963) ã§ã“ã®å•é¡ŒãŒä¿®æ­£ã•ã‚Œã¾ã—ãŸ  \n\nã‚‚ã—æ›´æ–°ãƒ—ãƒ­ã‚°ãƒ©ãƒ ãŒé©ç”¨ã§ããªã„å ´åˆã¯ã€ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯ã§NTFSä¸Šã®node_modulesãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’WSLã«ç§»ã—ã¾ã—ã‚‡ã†ã€‚   bash \n\n$ mkdir /home/foo/tmp/app-test-1/front/node_modules $ ln -s /home/foo/tmp/app-test-1/front/node_modules /C/Dev/app-test-1/front/node_modules     > WRAPUPWRAPUP \n\nã¾ã æœªæ¤œè¨¼ãªéƒ¨åˆ†ã¯ã®ã“ã£ã¦ã„ã¾ã™ãŒã€ã²ã¨ã¨ãŠã‚ŠmacOSã¨Windowsã«ã‚ˆã‚‹Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³é–‹ç™ºã¯å…±æœ‰ã§ãã‚‹ã¨ã“ã‚ã¾ã§ãã¦ã„ã‚‹ã€ã¨è¨€ãˆãã†ã§ã™ã€‚ \n\néšæ™‚ã€æ°—ã«ãªã‚‹èª²é¡ŒãŒå‡ºã¦ããŸã‚‰è¿½è¨˜ã—ã¾ã™ã€‚  \n\n1. https://github.com/cmderdev/cmder/issues/901 â†© \n2. https://github.com/docker/compose/issues/4039#issuecomment-269558432 â†© \n3. https://github.com/Microsoft/WSL/issues/2448 â†©"},"name":"[2017-12-10]WSLï¼ˆWindows Subsystem for Linuxï¼‰ã§Dockerã‚’ã¤ã‹ã£ãŸWebã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³é–‹ç™ºã‚’ãŠã“ãªã†éš›ã®æ³¨æ„ç‚¹","tags":["wsl","docker","ubuntu"],"childPublishedDate":{"published_on":"2017-12-10T00:00:00.000Z","published_on_unix":1512864000}}}]}},"pageContext":{"number":55}},"staticQueryHashes":[]}