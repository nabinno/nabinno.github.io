{"componentChunkName":"component---src-templates-post-tsx","path":"/posts/49","result":{"data":{"esaPost":{"number":49,"relative_category":"blog/backend","fields":{"title":"HydeをつかってEmacsをJekyllクライアントにする","excerpt":"Emacianとしてその殻の中に閉じこもっていたいです。だけど、世間がそれを許さず次々と無理難題を押しつけてくるのです。今回はタスク等から出てきた備忘禄をGitHub Pages（Jekyll）で管理しようと重い腰を上げました。   > PROBLEMPROBLEM \n\n- タスクメモがAsanaなどのタスク管理ツールに散在している\n- ブラウザをつかって文章を書くのがつらい\n- Gist/Yagist等でもいいのだけど編集がめんどうとか個人だとオーバースペックとか   > SOLUTIONSOLUTION \n\nというわけで、GitHub Pages（Jekyll）をEmacsで楽に管理できないかと以前から考えていたのですが、いい塩梅のライブラリを発見しました。JekyllだからHydeと言います。名前が jekyll doctor (hyde)とかぶっていますがここでは気にしません。 \n\nHydeのPros/Consは以下の通りです。 \n\nPros \n\n- gitの自動コメント\n- jekyll build、jekyll serveのショートカット \n\nCons \n\n- キーバインドが既存のものとかぶる\n- hyde-homeがカスタム変数ではない\n- add-hookが効かない   > Hydeの設定Hydeの設定 \n\nHydeの設定は基本いじることもなくJekyllを使うことが出来ます。下記記載するのはConsつぶしですが、ここはお好みです。 \n\nまず、キーバインド操作。Hyde本体がキーバインドをdefvarで割り当てているので、init.elの設定でrequire前に割り込みevalして、hyde関数にhyde-home引数をわたすことで解決します。あと、折り返し回りは別設定になっているのでadaptive-wrapやtruncate-linesを設定しています。   emacs-lisp \n\n;;; Hyde (Jekyll client) (require-package 'adaptive-wrap) (defun hyde/open-post-maybe-into-other-window (pos) \"Opens the post under cursor in the editor (POS).\" (interactive \"d\") (let ((post-file-name (nth 1 (split-string (strip-string (thing-at-point 'line)) \" : \"))) (dir (get-text-property pos 'dir))) (let ((hyde-buffer (current-buffer))) (find-file-other-window (strip-string (concat hyde-home \"/\" dir \"/\" post-file-name))) (hyde-markdown-activate-mode hyde-buffer) (adaptive-wrap-prefix-mode t) (set-default 'truncate-lines nil)))) (defun hyde/quit-wrap () \"Quits hyde.\" (interactive) (progn (delete-other-windows) (kill-buffer (current-buffer)))) (defun create-markdown-scratch () \"Create a markdown scratch buffer.\" (interactive) (switch-to-buffer (get-buffer-create \"*markdown*\")) (markdown-mode)) (defun hyde/nabinno () \"Run hyde-wrap with home parameter.\" (interactive) (progn (delete-other-windows) (create-markdown-scratch) (split-window-horizontally) (other-window 1) (hyde \"~/nabinno.github.io/\"))) (defvar hyde-mode-map (let ((hyde-mode-map (make-sparse-keymap))) (define-key hyde-mode-map (kbd \"N\") 'hyde/new-post) (define-key hyde-mode-map (kbd \"G\") 'hyde/load-posts) (define-key hyde-mode-map (kbd \"C\") 'hyde/hyde-commit-post) (define-key hyde-mode-map (kbd \"P\") 'hyde/hyde-push) (define-key hyde-mode-map (kbd \"J\") 'hyde/run-jekyll) (define-key hyde-mode-map (kbd \"S\") 'hyde/serve) (define-key hyde-mode-map (kbd \"K\") 'hyde/stop-serve) (define-key hyde-mode-map (kbd \"d\") 'hyde/deploy) (define-key hyde-mode-map (kbd \"D\") 'hyde/delete-post) (define-key hyde-mode-map (kbd \"U\") 'hyde/promote-to-post) (define-key hyde-mode-map (kbd \"X\") 'hyde/quit-wrap) (define-key hyde-mode-map (kbd \"O\") 'hyde/open-post-maybe-into-other-window) hyde-mode-map) \"Keymap for Hyde\") (global-set-key (kbd \"C-c ; j\") 'hyde/nabinno) (require-package 'hyde) (require 'hyde)   \n\n次に、ホストIPの操作。Jekyllのルートにおく.hyde.elの中身です。JekyllはWebrickを使っているので、VMなどでホストをいじっている場合はhyde/serve-commandにホストIPを0.0.0.0（jekyll s -H 0.0.0.0）に変更する必要があります。   emacs-lisp \n\n(setq hyde-deploy-dir \"_site\" hyde-posts-dir \"_posts\" hyde-drafts-dir \"_drafts\" hyde-images-dir \"images\" hyde/git/remote \"upstream\" ; The name of the remote to which we should push hyde/git/branch \"master\" ; The name of the branch on which your blog resides hyde/jekyll-command \"jekyll b\" ; Command to build hyde/serve-command \"jekyll s -H 0.0.0.0 --force_polling\" ; Command to serve hyde-custom-params '((\"category\" \"personal\") (\"tags\" \"\") (\"cover\" \"false\") (\"cover-image\" \"\")))     > WRAPUPWRAPUP \n\nHydeを介してEmacsでJekyllを操作できるのは、やはり快適です。特にorg-modeとMarkdownの相性が良く。org-modeで管理していた備忘をMarkdownに変換し、Jekyll（GitHub Pages）にパブリッシュというワークフローが引けたのが良かったです。数年間はお世話になると思います。","thumbnail":"https://img.esa.io/uploads/production/attachments/16651/2021/01/11/97367/7fa6aa49-7f81-4563-b21a-03ceef6601f9.png"},"wip":false,"body_md":"<img width=\"824\" alt=\"thumbnail\" src=\"https://img.esa.io/uploads/production/attachments/16651/2021/01/11/97367/7fa6aa49-7f81-4563-b21a-03ceef6601f9.png\">\r\n\r\nEmacianとしてその殻の中に閉じこもっていたいです。だけど、世間がそれを許さず次々と無理難題を押しつけてくるのです。今回はタスク等から出てきた備忘禄をGitHub Pages（Jekyll）で管理しようと重い腰を上げました。\r\n\r\n# PROBLEM\r\n- タスクメモがAsanaなどのタスク管理ツールに散在している\r\n- ブラウザをつかって文章を書くのがつらい\r\n- Gist/Yagist等でもいいのだけど編集がめんどうとか個人だとオーバースペックとか\r\n\r\n# SOLUTION\r\nというわけで、[GitHub Pages](https://pages.github.com/)（[Jekyll](https://jekyllrb.com/)）をEmacsで楽に管理できないかと以前から考えていたのですが、いい塩梅のライブラリを発見しました。Jekyllだから[Hyde](https://github.com/nibrahim/Hyde)と言います。名前が `jekyll doctor (hyde)`とかぶっていますがここでは気にしません。\r\n\r\nHydeのPros/Consは以下の通りです。\r\n\r\n**Pros**\r\n\r\n- `git`の自動コメント\r\n- `jekyll build`、`jekyll serve`のショートカット\r\n\r\n**Cons**\r\n\r\n- キーバインドが既存のものとかぶる\r\n- `hyde-home`がカスタム変数ではない\r\n- `add-hook`が効かない\r\n\r\n## Hydeの設定\r\nHydeの設定は基本いじることもなくJekyllを使うことが出来ます。下記記載するのはConsつぶしですが、ここはお好みです。\r\n\r\nまず、キーバインド操作。Hyde本体がキーバインドを`defvar`で割り当てているので、`init.el`の設定で`require`前に割り込みevalして、`hyde`関数に`hyde-home`引数をわたすことで解決します。あと、折り返し回りは別設定になっているので`adaptive-wrap`や`truncate-lines`を設定しています。\r\n\r\n```emacs-lisp\r\n;;; Hyde (Jekyll client)\r\n(require-package 'adaptive-wrap)\r\n(defun hyde/open-post-maybe-into-other-window (pos)\r\n  \"Opens the post under cursor in the editor (POS).\"\r\n  (interactive \"d\")\r\n  (let ((post-file-name (nth\r\n                         1\r\n                         (split-string (strip-string (thing-at-point 'line)) \" : \")))\r\n        (dir (get-text-property pos 'dir)))\r\n    (let ((hyde-buffer (current-buffer)))\r\n      (find-file-other-window\r\n       (strip-string (concat hyde-home \"/\" dir \"/\" post-file-name)))\r\n      (hyde-markdown-activate-mode hyde-buffer)\r\n      (adaptive-wrap-prefix-mode t)\r\n      (set-default 'truncate-lines nil))))\r\n(defun hyde/quit-wrap ()\r\n  \"Quits hyde.\"\r\n  (interactive)\r\n  (progn\r\n    (delete-other-windows)\r\n    (kill-buffer (current-buffer))))\r\n(defun create-markdown-scratch ()\r\n  \"Create a markdown scratch buffer.\"\r\n  (interactive)\r\n  (switch-to-buffer (get-buffer-create \"*markdown*\"))\r\n  (markdown-mode))\r\n(defun hyde/nabinno ()\r\n  \"Run hyde-wrap with home parameter.\"\r\n  (interactive)\r\n  (progn\r\n    (delete-other-windows)\r\n    (create-markdown-scratch)\r\n    (split-window-horizontally)\r\n    (other-window 1)\r\n    (hyde \"~/nabinno.github.io/\")))\r\n(defvar hyde-mode-map\r\n  (let\r\n      ((hyde-mode-map (make-sparse-keymap)))\r\n    (define-key hyde-mode-map (kbd \"N\") 'hyde/new-post)\r\n    (define-key hyde-mode-map (kbd \"G\") 'hyde/load-posts)\r\n    (define-key hyde-mode-map (kbd \"C\") 'hyde/hyde-commit-post)\r\n    (define-key hyde-mode-map (kbd \"P\") 'hyde/hyde-push)\r\n    (define-key hyde-mode-map (kbd \"J\") 'hyde/run-jekyll)\r\n    (define-key hyde-mode-map (kbd \"S\") 'hyde/serve)\r\n    (define-key hyde-mode-map (kbd \"K\") 'hyde/stop-serve)\r\n    (define-key hyde-mode-map (kbd \"d\") 'hyde/deploy)\r\n    (define-key hyde-mode-map (kbd \"D\") 'hyde/delete-post)\r\n    (define-key hyde-mode-map (kbd \"U\") 'hyde/promote-to-post)\r\n    (define-key hyde-mode-map (kbd \"X\") 'hyde/quit-wrap)\r\n    (define-key hyde-mode-map (kbd \"O\") 'hyde/open-post-maybe-into-other-window)\r\n    hyde-mode-map)\r\n  \"Keymap for Hyde\")\r\n(global-set-key (kbd \"C-c ; j\") 'hyde/nabinno)\r\n(require-package 'hyde)\r\n(require 'hyde)\r\n```\r\n\r\n次に、ホストIPの操作。Jekyllのルートにおく`.hyde.el`の中身です。JekyllはWebrickを使っているので、VMなどでホストをいじっている場合は`hyde/serve-command`にホストIPを0.0.0.0（`jekyll s -H 0.0.0.0`）に変更する必要があります。\r\n\r\n```emacs-lisp\r\n(setq hyde-deploy-dir \"_site\"\r\n      hyde-posts-dir  \"_posts\"\r\n      hyde-drafts-dir \"_drafts\"\r\n      hyde-images-dir \"images\"\r\n      hyde/git/remote \"upstream\" ; The name of the remote to which we should push\r\n      hyde/git/branch \"master\"   ; The name of the branch on which your blog resides\r\n      hyde/jekyll-command \"jekyll b\"    ; Command to build\r\n      hyde/serve-command  \"jekyll s -H 0.0.0.0 --force_polling\"    ; Command to serve\r\n      hyde-custom-params '((\"category\" \"personal\")\r\n                           (\"tags\" \"\")\r\n                           (\"cover\" \"false\")\r\n                           (\"cover-image\" \"\")))\r\n```\r\n\r\n# WRAPUP\r\nHydeを介してEmacsでJekyllを操作できるのは、やはり快適です。特にorg-modeとMarkdownの相性が良く。org-modeで管理していた備忘をMarkdownに変換し、Jekyll（GitHub Pages）にパブリッシュというワークフローが引けたのが良かったです。数年間はお世話になると思います。","body_html":"<a href=\"https://img.esa.io/uploads/production/attachments/16651/2021/01/11/97367/7fa6aa49-7f81-4563-b21a-03ceef6601f9.png\" target=\"_blank\" rel=\"noopener noreferrer\"><img width=\"824\" alt=\"thumbnail\" src=\"https://img.esa.io/uploads/production/attachments/16651/2021/01/11/97367/7fa6aa49-7f81-4563-b21a-03ceef6601f9.png\"></a>\n<p data-sourcepos=\"3:1-3:292\">Emacianとしてその殻の中に閉じこもっていたいです。だけど、世間がそれを許さず次々と無理難題を押しつけてくるのです。今回はタスク等から出てきた備忘禄をGitHub Pages（Jekyll）で管理しようと重い腰を上げました。</p>\n<h1 data-sourcepos=\"5:1-5:9\" id=\"1-0-0\" name=\"1-0-0\">\n<a class=\"anchor\" id=\"PROBLEM\" name=\"PROBLEM\" href=\"#PROBLEM\" data-position=\"1-0-0\"><i class=\"fa fa-link\"></i><span class=\"hidden\" data-text=\"PROBLEM\"> &gt; PROBLEM</span></a>PROBLEM</h1>\n<ul data-sourcepos=\"6:1-9:0\">\n<li data-sourcepos=\"6:1-6:79\">タスクメモがAsanaなどのタスク管理ツールに散在している</li>\n<li data-sourcepos=\"7:1-7:59\">ブラウザをつかって文章を書くのがつらい</li>\n<li data-sourcepos=\"8:1-9:0\">Gist/Yagist等でもいいのだけど編集がめんどうとか個人だとオーバースペックとか</li>\n</ul>\n<h1 data-sourcepos=\"10:1-10:10\" id=\"2-0-0\" name=\"2-0-0\">\n<a class=\"anchor\" id=\"SOLUTION\" name=\"SOLUTION\" href=\"#SOLUTION\" data-position=\"2-0-0\"><i class=\"fa fa-link\"></i><span class=\"hidden\" data-text=\"SOLUTION\"> &gt; SOLUTION</span></a>SOLUTION</h1>\n<p data-sourcepos=\"11:1-11:401\">というわけで、<a href=\"https://pages.github.com/\" target=\"_blank\" rel=\"noopener noreferrer\">GitHub Pages</a>（<a href=\"https://jekyllrb.com/\" target=\"_blank\" rel=\"noopener noreferrer\">Jekyll</a>）をEmacsで楽に管理できないかと以前から考えていたのですが、いい塩梅のライブラリを発見しました。Jekyllだから<a href=\"https://github.com/nibrahim/Hyde\" target=\"_blank\" rel=\"noopener noreferrer\">Hyde</a>と言います。名前が <code>jekyll doctor (hyde)</code>とかぶっていますがここでは気にしません。</p>\n<p data-sourcepos=\"13:1-13:43\">HydeのPros/Consは以下の通りです。</p>\n<p data-sourcepos=\"15:1-15:8\"><strong>Pros</strong></p>\n<ul data-sourcepos=\"17:1-19:0\">\n<li data-sourcepos=\"17:1-17:28\">\n<code>git</code>の自動コメント</li>\n<li data-sourcepos=\"18:1-19:0\">\n<code>jekyll build</code>、<code>jekyll serve</code>のショートカット</li>\n</ul>\n<p data-sourcepos=\"20:1-20:8\"><strong>Cons</strong></p>\n<ul data-sourcepos=\"22:1-25:0\">\n<li data-sourcepos=\"22:1-22:50\">キーバインドが既存のものとかぶる</li>\n<li data-sourcepos=\"23:1-23:46\">\n<code>hyde-home</code>がカスタム変数ではない</li>\n<li data-sourcepos=\"24:1-25:0\">\n<code>add-hook</code>が効かない</li>\n</ul>\n<h2 data-sourcepos=\"26:1-26:16\" id=\"2-1-0\" name=\"2-1-0\">\n<a class=\"anchor\" id=\"Hydeの設定\" name=\"Hyde%E3%81%AE%E8%A8%AD%E5%AE%9A\" href=\"#Hyde%E3%81%AE%E8%A8%AD%E5%AE%9A\" data-position=\"2-1-0\"><i class=\"fa fa-link\"></i><span class=\"hidden\" data-text=\"Hydeの設定\"> &gt; Hydeの設定</span></a>Hydeの設定</h2>\n<p data-sourcepos=\"27:1-27:161\">Hydeの設定は基本いじることもなくJekyllを使うことが出来ます。下記記載するのはConsつぶしですが、ここはお好みです。</p>\n<p data-sourcepos=\"29:1-29:367\">まず、キーバインド操作。Hyde本体がキーバインドを<code>defvar</code>で割り当てているので、<code>init.el</code>の設定で<code>require</code>前に割り込みevalして、<code>hyde</code>関数に<code>hyde-home</code>引数をわたすことで解決します。あと、折り返し回りは別設定になっているので<code>adaptive-wrap</code>や<code>truncate-lines</code>を設定しています。</p>\n<div class=\"code-block\" data-sourcepos=\"31:1-87:3\">\n<div class=\"code-filename\">\n<i class=\"fa fa-file-code-o\"></i>emacs-lisp</div>\n<div class=\"highlight\"><pre class=\"highlight emacs-lisp\"><code><span class=\"c1\">;;; Hyde (Jekyll client)</span>\n<span class=\"p\">(</span><span class=\"nv\">require-package</span> <span class=\"ss\">'adaptive-wrap</span><span class=\"p\">)</span>\n<span class=\"p\">(</span><span class=\"nb\">defun</span> <span class=\"nv\">hyde/open-post-maybe-into-other-window</span> <span class=\"p\">(</span><span class=\"nv\">pos</span><span class=\"p\">)</span>\n  <span class=\"s\">\"Opens the post under cursor in the editor (POS).\"</span>\n  <span class=\"p\">(</span><span class=\"nv\">interactive</span> <span class=\"s\">\"d\"</span><span class=\"p\">)</span>\n  <span class=\"p\">(</span><span class=\"k\">let</span> <span class=\"p\">((</span><span class=\"nv\">post-file-name</span> <span class=\"p\">(</span><span class=\"nb\">nth</span>\n                         <span class=\"mi\">1</span>\n                         <span class=\"p\">(</span><span class=\"nv\">split-string</span> <span class=\"p\">(</span><span class=\"nv\">strip-string</span> <span class=\"p\">(</span><span class=\"nv\">thing-at-point</span> <span class=\"ss\">'line</span><span class=\"p\">))</span> <span class=\"s\">\" : \"</span><span class=\"p\">)))</span>\n        <span class=\"p\">(</span><span class=\"nv\">dir</span> <span class=\"p\">(</span><span class=\"nv\">get-text-property</span> <span class=\"nv\">pos</span> <span class=\"ss\">'dir</span><span class=\"p\">)))</span>\n    <span class=\"p\">(</span><span class=\"k\">let</span> <span class=\"p\">((</span><span class=\"nv\">hyde-buffer</span> <span class=\"p\">(</span><span class=\"nv\">current-buffer</span><span class=\"p\">)))</span>\n      <span class=\"p\">(</span><span class=\"nv\">find-file-other-window</span>\n       <span class=\"p\">(</span><span class=\"nv\">strip-string</span> <span class=\"p\">(</span><span class=\"nv\">concat</span> <span class=\"nv\">hyde-home</span> <span class=\"s\">\"/\"</span> <span class=\"nv\">dir</span> <span class=\"s\">\"/\"</span> <span class=\"nv\">post-file-name</span><span class=\"p\">)))</span>\n      <span class=\"p\">(</span><span class=\"nv\">hyde-markdown-activate-mode</span> <span class=\"nv\">hyde-buffer</span><span class=\"p\">)</span>\n      <span class=\"p\">(</span><span class=\"nv\">adaptive-wrap-prefix-mode</span> <span class=\"no\">t</span><span class=\"p\">)</span>\n      <span class=\"p\">(</span><span class=\"nv\">set-default</span> <span class=\"ss\">'truncate-lines</span> <span class=\"no\">nil</span><span class=\"p\">))))</span>\n<span class=\"p\">(</span><span class=\"nb\">defun</span> <span class=\"nv\">hyde/quit-wrap</span> <span class=\"p\">()</span>\n  <span class=\"s\">\"Quits hyde.\"</span>\n  <span class=\"p\">(</span><span class=\"nv\">interactive</span><span class=\"p\">)</span>\n  <span class=\"p\">(</span><span class=\"k\">progn</span>\n    <span class=\"p\">(</span><span class=\"nv\">delete-other-windows</span><span class=\"p\">)</span>\n    <span class=\"p\">(</span><span class=\"nv\">kill-buffer</span> <span class=\"p\">(</span><span class=\"nv\">current-buffer</span><span class=\"p\">))))</span>\n<span class=\"p\">(</span><span class=\"nb\">defun</span> <span class=\"nv\">create-markdown-scratch</span> <span class=\"p\">()</span>\n  <span class=\"s\">\"Create a markdown scratch buffer.\"</span>\n  <span class=\"p\">(</span><span class=\"nv\">interactive</span><span class=\"p\">)</span>\n  <span class=\"p\">(</span><span class=\"nv\">switch-to-buffer</span> <span class=\"p\">(</span><span class=\"nv\">get-buffer-create</span> <span class=\"s\">\"*markdown*\"</span><span class=\"p\">))</span>\n  <span class=\"p\">(</span><span class=\"nv\">markdown-mode</span><span class=\"p\">))</span>\n<span class=\"p\">(</span><span class=\"nb\">defun</span> <span class=\"nv\">hyde/nabinno</span> <span class=\"p\">()</span>\n  <span class=\"s\">\"Run hyde-wrap with home parameter.\"</span>\n  <span class=\"p\">(</span><span class=\"nv\">interactive</span><span class=\"p\">)</span>\n  <span class=\"p\">(</span><span class=\"k\">progn</span>\n    <span class=\"p\">(</span><span class=\"nv\">delete-other-windows</span><span class=\"p\">)</span>\n    <span class=\"p\">(</span><span class=\"nv\">create-markdown-scratch</span><span class=\"p\">)</span>\n    <span class=\"p\">(</span><span class=\"nv\">split-window-horizontally</span><span class=\"p\">)</span>\n    <span class=\"p\">(</span><span class=\"nv\">other-window</span> <span class=\"mi\">1</span><span class=\"p\">)</span>\n    <span class=\"p\">(</span><span class=\"nv\">hyde</span> <span class=\"s\">\"~/nabinno.github.io/\"</span><span class=\"p\">)))</span>\n<span class=\"p\">(</span><span class=\"nb\">defvar</span> <span class=\"nv\">hyde-mode-map</span>\n  <span class=\"p\">(</span><span class=\"k\">let</span>\n      <span class=\"p\">((</span><span class=\"nv\">hyde-mode-map</span> <span class=\"p\">(</span><span class=\"nv\">make-sparse-keymap</span><span class=\"p\">)))</span>\n    <span class=\"p\">(</span><span class=\"nv\">define-key</span> <span class=\"nv\">hyde-mode-map</span> <span class=\"p\">(</span><span class=\"nv\">kbd</span> <span class=\"s\">\"N\"</span><span class=\"p\">)</span> <span class=\"ss\">'hyde/new-post</span><span class=\"p\">)</span>\n    <span class=\"p\">(</span><span class=\"nv\">define-key</span> <span class=\"nv\">hyde-mode-map</span> <span class=\"p\">(</span><span class=\"nv\">kbd</span> <span class=\"s\">\"G\"</span><span class=\"p\">)</span> <span class=\"ss\">'hyde/load-posts</span><span class=\"p\">)</span>\n    <span class=\"p\">(</span><span class=\"nv\">define-key</span> <span class=\"nv\">hyde-mode-map</span> <span class=\"p\">(</span><span class=\"nv\">kbd</span> <span class=\"s\">\"C\"</span><span class=\"p\">)</span> <span class=\"ss\">'hyde/hyde-commit-post</span><span class=\"p\">)</span>\n    <span class=\"p\">(</span><span class=\"nv\">define-key</span> <span class=\"nv\">hyde-mode-map</span> <span class=\"p\">(</span><span class=\"nv\">kbd</span> <span class=\"s\">\"P\"</span><span class=\"p\">)</span> <span class=\"ss\">'hyde/hyde-push</span><span class=\"p\">)</span>\n    <span class=\"p\">(</span><span class=\"nv\">define-key</span> <span class=\"nv\">hyde-mode-map</span> <span class=\"p\">(</span><span class=\"nv\">kbd</span> <span class=\"s\">\"J\"</span><span class=\"p\">)</span> <span class=\"ss\">'hyde/run-jekyll</span><span class=\"p\">)</span>\n    <span class=\"p\">(</span><span class=\"nv\">define-key</span> <span class=\"nv\">hyde-mode-map</span> <span class=\"p\">(</span><span class=\"nv\">kbd</span> <span class=\"s\">\"S\"</span><span class=\"p\">)</span> <span class=\"ss\">'hyde/serve</span><span class=\"p\">)</span>\n    <span class=\"p\">(</span><span class=\"nv\">define-key</span> <span class=\"nv\">hyde-mode-map</span> <span class=\"p\">(</span><span class=\"nv\">kbd</span> <span class=\"s\">\"K\"</span><span class=\"p\">)</span> <span class=\"ss\">'hyde/stop-serve</span><span class=\"p\">)</span>\n    <span class=\"p\">(</span><span class=\"nv\">define-key</span> <span class=\"nv\">hyde-mode-map</span> <span class=\"p\">(</span><span class=\"nv\">kbd</span> <span class=\"s\">\"d\"</span><span class=\"p\">)</span> <span class=\"ss\">'hyde/deploy</span><span class=\"p\">)</span>\n    <span class=\"p\">(</span><span class=\"nv\">define-key</span> <span class=\"nv\">hyde-mode-map</span> <span class=\"p\">(</span><span class=\"nv\">kbd</span> <span class=\"s\">\"D\"</span><span class=\"p\">)</span> <span class=\"ss\">'hyde/delete-post</span><span class=\"p\">)</span>\n    <span class=\"p\">(</span><span class=\"nv\">define-key</span> <span class=\"nv\">hyde-mode-map</span> <span class=\"p\">(</span><span class=\"nv\">kbd</span> <span class=\"s\">\"U\"</span><span class=\"p\">)</span> <span class=\"ss\">'hyde/promote-to-post</span><span class=\"p\">)</span>\n    <span class=\"p\">(</span><span class=\"nv\">define-key</span> <span class=\"nv\">hyde-mode-map</span> <span class=\"p\">(</span><span class=\"nv\">kbd</span> <span class=\"s\">\"X\"</span><span class=\"p\">)</span> <span class=\"ss\">'hyde/quit-wrap</span><span class=\"p\">)</span>\n    <span class=\"p\">(</span><span class=\"nv\">define-key</span> <span class=\"nv\">hyde-mode-map</span> <span class=\"p\">(</span><span class=\"nv\">kbd</span> <span class=\"s\">\"O\"</span><span class=\"p\">)</span> <span class=\"ss\">'hyde/open-post-maybe-into-other-window</span><span class=\"p\">)</span>\n    <span class=\"nv\">hyde-mode-map</span><span class=\"p\">)</span>\n  <span class=\"s\">\"Keymap for Hyde\"</span><span class=\"p\">)</span>\n<span class=\"p\">(</span><span class=\"nv\">global-set-key</span> <span class=\"p\">(</span><span class=\"nv\">kbd</span> <span class=\"s\">\"C-c ; j\"</span><span class=\"p\">)</span> <span class=\"ss\">'hyde/nabinno</span><span class=\"p\">)</span>\n<span class=\"p\">(</span><span class=\"nv\">require-package</span> <span class=\"ss\">'hyde</span><span class=\"p\">)</span>\n<span class=\"p\">(</span><span class=\"nb\">require</span> <span class=\"ss\">'hyde</span><span class=\"p\">)</span>\n</code></pre></div>\n</div>\n<p data-sourcepos=\"89:1-89:290\">次に、ホストIPの操作。Jekyllのルートにおく<code>.hyde.el</code>の中身です。JekyllはWebrickを使っているので、VMなどでホストをいじっている場合は<code>hyde/serve-command</code>にホストIPを0.0.0.0（<code>jekyll s -H 0.0.0.0</code>）に変更する必要があります。</p>\n<div class=\"code-block\" data-sourcepos=\"91:1-104:3\">\n<div class=\"code-filename\">\n<i class=\"fa fa-file-code-o\"></i>emacs-lisp</div>\n<div class=\"highlight\"><pre class=\"highlight emacs-lisp\"><code><span class=\"p\">(</span><span class=\"k\">setq</span> <span class=\"nv\">hyde-deploy-dir</span> <span class=\"s\">\"_site\"</span>\n      <span class=\"nv\">hyde-posts-dir</span>  <span class=\"s\">\"_posts\"</span>\n      <span class=\"nv\">hyde-drafts-dir</span> <span class=\"s\">\"_drafts\"</span>\n      <span class=\"nv\">hyde-images-dir</span> <span class=\"s\">\"images\"</span>\n      <span class=\"nv\">hyde/git/remote</span> <span class=\"s\">\"upstream\"</span> <span class=\"c1\">; The name of the remote to which we should push</span>\n      <span class=\"nv\">hyde/git/branch</span> <span class=\"s\">\"master\"</span>   <span class=\"c1\">; The name of the branch on which your blog resides</span>\n      <span class=\"nv\">hyde/jekyll-command</span> <span class=\"s\">\"jekyll b\"</span>    <span class=\"c1\">; Command to build</span>\n      <span class=\"nv\">hyde/serve-command</span>  <span class=\"s\">\"jekyll s -H 0.0.0.0 --force_polling\"</span>    <span class=\"c1\">; Command to serve</span>\n      <span class=\"nv\">hyde-custom-params</span> <span class=\"o\">'</span><span class=\"p\">((</span><span class=\"s\">\"category\"</span> <span class=\"s\">\"personal\"</span><span class=\"p\">)</span>\n                           <span class=\"p\">(</span><span class=\"s\">\"tags\"</span> <span class=\"s\">\"\"</span><span class=\"p\">)</span>\n                           <span class=\"p\">(</span><span class=\"s\">\"cover\"</span> <span class=\"s\">\"false\"</span><span class=\"p\">)</span>\n                           <span class=\"p\">(</span><span class=\"s\">\"cover-image\"</span> <span class=\"s\">\"\"</span><span class=\"p\">)))</span>\n</code></pre></div>\n</div>\n<h1 data-sourcepos=\"106:1-106:8\" id=\"3-0-0\" name=\"3-0-0\">\n<a class=\"anchor\" id=\"WRAPUP\" name=\"WRAPUP\" href=\"#WRAPUP\" data-position=\"3-0-0\"><i class=\"fa fa-link\"></i><span class=\"hidden\" data-text=\"WRAPUP\"> &gt; WRAPUP</span></a>WRAPUP</h1>\n<p data-sourcepos=\"107:1-107:347\">Hydeを介してEmacsでJekyllを操作できるのは、やはり快適です。特にorg-modeとMarkdownの相性が良く。org-modeで管理していた備忘をMarkdownに変換し、Jekyll（GitHub Pages）にパブリッシュというワークフローが引けたのが良かったです。数年間はお世話になると思います。</p>\n","tags":["emacs","jekyll","hyde","github-pages"],"updated_at":"2021-01-16T12:15:18+09:00","childPublishedDate":{"published_on":"2017-02-01T00:00:00.000Z"},"updated_by":{"name":"なびの👷","screen_name":"nabinno","icon":"https://img.esa.io/uploads/production/members/94286/icon/thumb_m_ef5f024307008aa399b91f87fa5f64e8.jpg"}},"relatedPosts":{"edges":[{"node":{"number":75,"relative_category":"blog/backend","fields":{"title":"CDKで管理する今どきのJenkins","excerpt":"先日のAWS障害で管理していたECSに多少の影響が出たので、そのタイミングで敷設していたJenkinsの構成を改めて整理しました。今回は課題解決というより、既に稼働していたシステム構成の振り返りを行いました。   > PROBLEMPROBLEM \n\n- インフラ系タスクがコード管理されていないので属人化しやすい 可能なら当該タスクはインフラ担当から手離れして欲しい 当該タスクは通常のCIワークフローとは異なるので管理する場所がない そういう意味でJenkinsの出番だけどこれはこれで管理が手間 ヘルスチェックエラーにひっかかったら自動で再起動してほしい \n- 可能なら当該タスクはインフラ担当から手離れして欲しい\n- 当該タスクは通常のCIワークフローとは異なるので管理する場所がない そういう意味でJenkinsの出番だけどこれはこれで管理が手間 ヘルスチェックエラーにひっかかったら自動で再起動してほしい \n- そういう意味でJenkinsの出番だけどこれはこれで管理が手間 ヘルスチェックエラーにひっかかったら自動で再起動してほしい \n- ヘルスチェックエラーにひっかかったら自動で再起動してほしい   > SOLUTIONSOLUTION \n\nというわけで、モダンなJenkins2系をAWS CDKで敷設してみました。   > 1. 構成1. 構成 \n\n大方の構成は「nabinno/jenkins-cdk-on-ec2」のシステム構成図をご覧下さい。元ネタはaws-sampleになりますが、今回はAWS FargateではなくAmazon ECSを採用し、CDKはTypeScriptで実装しています。 \n\n使用技術スタック \n\n- Jenkins\n- Amazon ECS（Amazon EC2）\n- Application Load Balancer\n- Amazon EFS    > 2. CDKによるJenkinsの敷設2. CDKによるJenkinsの敷設 \n\nCDKによるJenkinsの敷設はGitHubレポジトリーを見ていただくとして、ここではCDKのコード上の注意点を2点ほど共有しておきます。   > 2-a. CDKの注意点：リソース名を明示する2-a. CDKの注意点：リソース名を明示する \n\nCDKで各リソース名を明示しないとCloudFormation（CFn）独特の命名規則でリソースが敷設されます。インフラ担当が自分一人の場合は良いですが、インフラ担当を増員する際は、他のIaCツールの運用方針とバッティングする等、後で足かせになるので命名規則にのっとりリソース名を付けていくようにしましょう。 \n\n命名規則は「クラスメソッドさんの記事」を参考に決めるのが定番のようです。下記例になります。    AWSリソース 命名規則     ELB {sysname}-{env}-alb/clb   TargetGroup {sysname}-{env}-tg   EC2 {sysname}-{env}-{type}   SecurityGroup {sysname}-{env}-{type}-sg    \n\nCDKでリソース名を明示するには次のいずれかの方法で対応します。 \n\n- 各クラスのコンストラクトプロパティにある名前を記述する\n- 暗黙的生成されるリソースを明示的に作成する \n\n下記コードでは暗黙的に生成されていたSecurity Groupを明示的に作成している様子等が見て取れます。   ts \n\n// ECS: Service const serviceSecGrp = new ec2.SecurityGroup(this, \"JenkinsMasterServiceSecGrp\", { securityGroupName: \"jenkins-master-production-sg\", vpc: network.vpc, allowAllOutbound: true, }); serviceSecGrp.addIngressRule(worker.workerSecurityGroup, ec2.Port.tcp(50000), \"from JenkinsWorkerSecurityGroup 50000\"); serviceSecGrp.addIngressRule(worker.workerSecurityGroup, ec2.Port.tcp(8080), \"from JenkinsWorkerSecurityGroup 8080\"); const jenkinsMasterService = new ecs.Ec2Service(this, \"EC2MasterService\", { serviceName: 'jenkins-master-production-svc', taskDefinition: jenkinsMasterTask, cloudMapOptions: { name: \"master\", dnsRecordType: sd.DnsRecordType.A }, desiredCount: 1, minHealthyPercent: 0, maxHealthyPercent: 100, enableECSManagedTags: true, cluster: ecsCluster.cluster, securityGroups: [serviceSecGrp] });   \n\nなお、リソース名の明示化について、もちろんCDKのクラスによっては暗黙的なリソースを含んでおり当該リソースに名前を付けることが出来ないケースはあります。今回のケースで言うと、例えば、ECSクラスター（EC2）のIAM RoleやSecurity Group。その場合は、インフラのCDK運用方針としてドキュメントに残しておく等しておくと良いでしょう。   > 2-b. CDKの注意点：cdk.RemovablePolicy.RETAINをつける2-b. CDKの注意点：cdk.RemovablePolicy.RETAINをつける \n\nネットワーク、ストレージ関連のリソースを扱う場合、削除されるとリソース構成が破綻する可能性があるのでcdk.RemovablePolicy.RETAIN、CFnの言うところの \"DeletionPolicy\": \"Retain\" をつけましょう。今回はEFSがその対象になります。   ts \n\nconst efsFilesystem = new efs.CfnFileSystem(this, \"EFSBackend\"); efsFilesystem.applyRemovalPolicy(cdk.RemovalPolicy.RETAIN);   \n\n個人的にはRETAINをつけるとcdk destroy cdk deployを気軽に行えなくなるので、RETAINをつけるならCDK/CFnからはARNで参照する程度に抑えた方が良いと思っています。   > 3. Jenkinsの設定を行う3. Jenkinsの設定を行う \n\nCDKでJenkinsを敷設した終わったらJenkinsの設定を行いましょう。   > 3-a. Jenkinsでつかっているプラグイン3-a. Jenkinsでつかっているプラグイン \n\n昔と違って今のJenkinsは下記プラグインがあれば十分運用できます。 \n\n- github-oauth\n- role-strategy\n- configuration-as-code\n- blueocean \n\nざっと説明するとgithub-oauthでGitHub認証させ、role-strategyでロールごとの権限付与を行い、configuration-as-codeでそれらの管理設定をコード化します。configuration-as-codeは素晴らしく設定情報をコード化することでdockerイメージに当該設定情報を反映させることが出来ます。また、blueoceanはモダンなインターフェイスでジョブ実行します。こちらは次のセクションで詳細を説明します。 \n\nなお、プラグイン管理はIaC化でき下記のようにdockerイメージに反映できます。   sh \n\n$ cat plugins.txt role-strategy:3.1 github-oauth:0.33 thinBackup:1.10 git:4.6.0 authorize-project:1.3.0 configuration-as-code:1.47 blueocean:1.24.4 $ cat Dockerfile [...] COPY plugins.txt /usr/share/jenkins/ref/plugins.txt RUN /usr/local/bin/install-plugins.sh < /usr/share/jenkins/ref/plugins.txt [...]     > 3-b. JenkinsジョブをGitHubで管理する3-b. JenkinsジョブをGitHubで管理する \n\nいよいよJenkinsでジョブの管理設定を行います。具体的には下記手順で実施します。手順が完了すると作ったブランチ分だけJenkinsにジョブが追加されます、とても簡単です。 \n\n1. ジョブを管理させたいGitHubレポジトリでジョブ管理用のブランチを作成し、Jenkinsfile を配置\n2. 「Jenkins - Blue Ocean - New Pipeline」にて下記設定をおこなう Where do you store your code? - GitHub Which organization does the repository belong to? - 任意のuserあるいはorganization Choose a repository - 任意のレポジトリ（1で作成したレポジトリ） \n3. Where do you store your code? - GitHub\n4. Which organization does the repository belong to? - 任意のuserあるいはorganization\n5. Choose a repository - 任意のレポジトリ（1で作成したレポジトリ） \n\nJenkinsfile の作成方法は「ユーザーハンドブック」にありますが、下記例のように直感的に記述することが出来ます。環境変数は「Jenkins - {{レポジトリ}} - 認証情報 - Stores scoped to {{レポジトリ}} - global - Add credential」から追加します。   Jenkinsfile \n\n pipeline { agent any stages { stage('Show env') { steps { sh '''mysql --version ls -al bin env | sort''' } } stage('Run script') { steps { git(url: 'https://github.com/nabinno/jenkins-jobs', branch: 'master', credentialsId: 'github') sh '''git diff sync-db-from-staging-to-integration | patch -p1 -R -f bin/sync_db_from_staging_to_integration''' } } } environment { STAG_DB_DATABASE = credentials('STAG_DB_DATABASE') STAG_DB_HOSTNAME = credentials('STAG_DB_HOSTNAME') STAG_DB_PASSWORD = credentials('STAG_DB_PASSWORD') STAG_DB_USERNAME = credentials('STAG_DB_USERNAME') INTEG_DB_HOSTNAME = credentials('INTEG_DB_HOSTNAME') INTEG_DB_PASSWORD = credentials('INTEG_DB_PASSWORD') INTEG_DB_USERNAME = credentials('INTEG_DB_USERNAME') INTEG_DB_DATABASE = credentials('INTEG_DB_USERNAME') } }     > WRAPUPWRAPUP \n\n今回の振り返りで、2点気づきを得られました。CDKのリソース名の扱いに困っていたのですが、どうにか制御できそうなのでまたしばらくは付き合っていくことになりそうです。 \n\n1. CDKは意外とかゆいところに手が届く。ただ、暗黙的に生成され、CDK側で制御できないリソース名があるので、そういう前提で運用ポリシーを作ると各IaC使いの平穏に繋がる。\n2. Jenkins2は思った以上に手離れが良い。CDK、ECS、EFS、configuration-as-code、Jenkinsfileの組み合わせは保守性、可用性に大きな貢献をしている。"},"name":"CDKで管理する今どきのJenkins","tags":["aws-cdk","jenkins","amazon-ecs"],"childPublishedDate":{"published_on":"2021-02-23T09:09:19.000Z","published_on_unix":1614071359}}},{"node":{"number":68,"relative_category":"blog/organization","fields":{"title":"飲み会に参加するための機材","excerpt":"以前チーム内でリモート懇親会を画策したのですが、食材の調達や経費精算など手間が多すぎて断念しました。ただ、その言い訳は実は本質的ではなく、実際に後ろ向きにさせていたのは「しゃべりながら食べるのがつらい」ということにありました。今回はそれを解決した機材を紹介します。   > PROBLEMPROBLEM \n\n- リモート飲みがつらい 何がつらいって、ヘッドホンをしながら飯を食べるのがつらい 有線ヘッドホンだとPCの前に張り付きになりつらい 無線ヘッドホンだと音声が悪すぎて相手のメッセージが聞き取りづらい というか、有線だろうが無線だろうが直接PCにつなげると少量のノイズが乗る場合がありつらい 音声が悪すぎて相手にメッセージが伝わらない 「えっ、今なんて言ったの?」という会話を何度も繰り返す様がいたたまれない 自分の顔を相手に見せつけるのが気持ち的にいたたまれない アバターはPCリソースを消費する上、アバターに気を使うのは飲み会の意義から少しずれている 最初は楽しいがすぐ飽きる \n- 何がつらいって、ヘッドホンをしながら飯を食べるのがつらい 有線ヘッドホンだとPCの前に張り付きになりつらい 無線ヘッドホンだと音声が悪すぎて相手のメッセージが聞き取りづらい というか、有線だろうが無線だろうが直接PCにつなげると少量のノイズが乗る場合がありつらい \n- 有線ヘッドホンだとPCの前に張り付きになりつらい\n- 無線ヘッドホンだと音声が悪すぎて相手のメッセージが聞き取りづらい\n- というか、有線だろうが無線だろうが直接PCにつなげると少量のノイズが乗る場合がありつらい\n- 音声が悪すぎて相手にメッセージが伝わらない\n- 「えっ、今なんて言ったの?」という会話を何度も繰り返す様がいたたまれない\n- 自分の顔を相手に見せつけるのが気持ち的にいたたまれない アバターはPCリソースを消費する上、アバターに気を使うのは飲み会の意義から少しずれている 最初は楽しいがすぐ飽きる \n- アバターはPCリソースを消費する上、アバターに気を使うのは飲み会の意義から少しずれている 最初は楽しいがすぐ飽きる \n- 最初は楽しいがすぐ飽きる   > SOLUTIONSOLUTION \n\nというわけで、自分がこの1年試行錯誤した末に辿り着いた飲み会参加の機材スタックを共有します。   > オーディオインターフェイスオーディオインターフェイス \n\nオーディオインターフェイスはマイクやギターの音をパソコンに取り込むアナログ・デジタル変換と、取り込んだ音を再生するデジタル・アナログ変換の機能を提供します。 \n\nボイスメモ程度なら必要ないですが、フルリモートで頻繁に会議をしている機会が多いと音質とレイテンシーに多分な影響を与えます。オーディオインターフェイスがない場合、入力時にノイズが乗ったり、出力時に音質が劣化します。また、レイテンシーがひどくなったり音がゆがんだり、下手をするとPCに負荷がかかりフリーズします... \n\n会議を頻繁にする人はとりあえず手に入れたい機材。Steinberg UR22Cが人気です。 \n\n- Steinberg UR22C   > マイクマイク \n\n演説やスピーチ用にダイナミックマイクが使われていますが、オンラインミーティングで使う場合は聞き取りづらいので、何はともあれコンデンサーマイクを使うべきです。 \n\nコンデンサーマイクと言っても、いろいろあります。特にマイクの振動板（ダイアフラム）が大型か小型かで音質の印象が変わるので注意が必要です。私は下記の表のように利用シーンごとに使い分けています。    - 説明 利用シーン     スモールダイアフラム 現実主義。色のない、ニュートラルな音色を提供 ファシリテート   ラージダイアフラム 浪漫主義。音源をより大きく、愛らしいものに変換 発表、音楽活動    \n\nなお、HHKB等の打鍵音が大きいキーボードを利用している方や仕事スペースと家庭スペースとの距離が近い方は、いずれにしてもスモールダイアフラムがお薦めです。スモールダイアフラムはマイクから口元を少しでもずらすと音が入力されずらくなくなるため、期待した音質を提供することが出来ます。 \n\n製品としてはShure Beta87Aが人気です。また、購入する際はマイクスタンドとマイクスポンジもセットで検討すると良いです。マイクの位置を固定し風よけを設置した方が安定した音質に繋がります。 \n\n- Shure Beta87A   > ヘッドホンヘッドホン \n\n食事を取りながら相手の話を聞くには通常のヘッドホンだと食べ物を咀嚼するのに苦労します。口を開けたり閉めたりする際、顎とともにヘッドホンが上下に動くため相手の声が聞き取りづらくなります。 \n\n耳の穴に接しない骨伝導ヘッドホンは、食べ物を咀嚼する際の顎の動きに左右されることがないです。テレワークのヘッドホン多用が外耳炎を引き起こしているという話もあるので、そういう意味で骨伝導ヘッドホンは健康を保つ上でも重要な機材となります。 \n\nまた、使用していて分かったのですが、普段の食事の中でも使うことが出来るので、隙間時間に気軽にメディアに接しやすくなります。例えば、家族と一緒の部屋にいる中、食事を取りながらAWSのWebinarを聞くことができます。 \n\n製品としては業界を牽引しているAfterShokzのAeropexが人気です。今回はオーディオインターフェイスを利用しているので、音質をさらに高めるためにトランスリミッターと組み合わせましょう。 \n\n- AfterShokz Aeropex\n- トランスリミッター TaoTronics aptX-LL   > ビデオビデオ \n\nソーシャルメディアでよく登場するビデオ画像は、表情アップの図（ず）が前面に押し出された絵が一般的ですが、地（じ）の表現が薄く解釈余地がないものが多いです。表情が豊かな方は良いのですが、全員がそういうわけではないので地（じ）の生活の部分に焦点を当てた方が実態に合っています。 \n\n例えば、対面での会話の中では身につけている服装や持ち物等のアトリビュートに焦点が当たりますよね。「その身につけているアクセサリーは何?」「机の上に置いてあるその本、面白そうだね」という会話を思い出してください。 \n\nそういう意味で広角レンズを搭載したアクションカムは望ましい選択です。今時のアクションカムは高解像で鮮やかに表現してくれますし、外にいなくても部屋の中で十分面白い絵になります。 \n\nアクションカムは何でも良いのですが、私は普段「撮れラン」で使っているSony HDR-AS3000をミーティングの際に使っています。 \n\n- Sony HDR-AS3000   > WRAPUPWRAPUP \n\n今回紹介した機材に出会うまで紆余曲折ありましたが、揃えてみて満足しています。 \n\n飲み会でなくても良いですが、機材を揃えた方でいろいろ試してみたい方は一緒に雑談してみませんか。30分雑談会というのを開催しているので、いつでもお気軽にお声がけください。"},"name":"飲み会に参加するための機材","tags":["drinkup","team-building"],"childPublishedDate":{"published_on":"2021-01-30T03:02:00.000Z","published_on_unix":1611975720}}},{"node":{"number":66,"relative_category":"blog","fields":{"title":"On Blahfe","excerpt":"txt \n\n（小学校の作文より） ぼくは、二年の時、友達と自転車で、じゅくから帰ってくるとちゅう、トラックに足をふまれてしまいました。おほりの近くの道路でトラックが来たから、よけようとした時、ころんで足を道路にだしてしまったのです。 いたみは感じなかったのに、なぜか泣いてしまい、トラックのおじさんたちが「けがはなかったかい」と心配してくれました。それでも、ぼくが泣いてるもんだから、病院に行って、レントゲンで見てもらいました。全然いじょうはなかったそうです。 その時、ぼくはほっとして、これからは自分で安全を守ろうと、決心しました。ただ、三年になってしまうと、安全を守ろうなんていう決心は、とっくに忘れてしまいました。 三年の五月になって、お父さんと兄弟と友達で郡山ダムまでサイクリングに行きました。行くときは、よかったんだけど、帰りの時、坂で足をすべらして、自転車のスポークの中につま先をはめてしまいました。その勢いで、自転車が、一回転してしまいました。 たまたま車が通って、中の農家の人が「どうしたんだい」と、話しかけてくれました。ぼくは、足の方のいたさで、話すこともできませんでした。それから、農家の人が、心配して、家までつれていってくれました。 家に帰ると、安心して、泣いてしまいました。それから、病院に行ってレントゲンをとって見ると、お医者さんがだいじょうぶといっていました。とってもよかったです。 また、ぼくは、自分で安全を守ろうと、心に決めました。     > サイト構成サイト構成 \n\nある方曰く、痛みとは人の根源だそうで。小学校の作文ではないですが、私がいつも気にしてるテーマです。 \n\n- 退屈\n- 寂しさ\n- 肉体の痛み\n- 健康喪失の恐れ\n- 金銭ストレス\n- 虚しさ \n\nこのブログでは個人的な課題解決をPROBLEM-SOLUTIONという2つのセクションで構成しています。PROBLEMは上記テーマのどれかが当てはまります。SOLUTIONはその時たまたま私がとった手法になります。基本職業に近いものが選ばれますが、そうでない場合もあります。"},"name":"[2017-01-31]On Blahfe","tags":["blahfe"],"childPublishedDate":{"published_on":"2017-01-31T00:00:00.000Z","published_on_unix":1485820800}}}]}},"pageContext":{"number":49}},"staticQueryHashes":[]}