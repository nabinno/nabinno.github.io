{"componentChunkName":"component---src-templates-post-tsx","path":"/posts/49","result":{"data":{"esaPost":{"number":49,"relative_category":"blog/backend","fields":{"title":"Hydeã‚’ã¤ã‹ã£ã¦Emacsã‚’Jekyllã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«ã™ã‚‹","excerpt":"> PROBLEMPROBLEM \n\n- ã‚¿ã‚¹ã‚¯ãƒ¡ãƒ¢ãŒAsanaãªã©ã®ã‚¿ã‚¹ã‚¯ç®¡ç†ãƒ„ãƒ¼ãƒ«ã«æ•£åœ¨ã—ã¦ã„ã‚‹\n- ãƒ–ãƒ©ã‚¦ã‚¶ã‚’ã¤ã‹ã£ã¦æ–‡ç« ã‚’æ›¸ãã®ãŒã¤ã‚‰ã„\n- Gist/Yagistç­‰ã§ã‚‚ã„ã„ã®ã ã‘ã©ç·¨é›†ãŒã‚ã‚“ã©ã†ã¨ã‹å€‹äººã ã¨ã‚ªãƒ¼ãƒãƒ¼ã‚¹ãƒšãƒƒã‚¯ã¨ã‹   > SOLUTIONSOLUTION \n\nãã‚“ãªã‚ã‘ã§ã€Github Pagesï¼ˆJekyllï¼‰ã‚’Emacsã§æ¥½ã«ç®¡ç†ã§ããªã„ã‹ã¨ä»¥å‰ã‹ã‚‰è€ƒãˆã¦ã„ãŸã®ã ãŒã€ã„ã„å¡©æ¢…ã®ã‚½ãƒ•ãƒˆã‚’ç™ºè¦‹ã—ãŸã€‚Jekyllã ã‹ã‚‰Hydeã¨ã„ã†ã€‚jekyll doctor (hyde)ã¨ã‹ã¶ã£ã¦ã‚‹ãŒæ°—ã«ã—ãªã„ã€‚ \n\nPros \n\n- gitã®è‡ªå‹•ã‚³ãƒ¡ãƒ³ãƒˆ\n- jekyll buildã€jekyll serveã®ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ \n\nCons \n\n- ã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒ‰ãŒæ—¢å­˜ã®ã‚‚ã®ã¨ã‹ã¶ã‚‹\n- hyde-homeãŒã‚«ã‚¹ã‚¿ãƒ å¤‰æ•°ã§ã¯ãªã„\n- add-hookãŒåŠ¹ã‹ãªã„   > Hydeã®è¨­å®šHydeã®è¨­å®š \n\nä¸‹è¨˜ã¯Consã¤ã¶ã—ã€‚Hydeæœ¬ä½“ãŒã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒ‰ã‚’defvarã§å‰²ã‚Šå½“ã¦ã¦ã„ã‚‹ã®ã§ã€init.elã®è¨­å®šã§requireå‰ã«å‰²ã‚Šè¾¼ã¿evalã—ã¦ã€hydeé–¢æ•°ã«hyde-homeå¼•æ•°ã‚’ã‚ãŸã›ã°è§£æ±ºã™ã‚‹ã€‚ã‚ã¨ã€æŠ˜ã‚Šè¿”ã—å›ã‚Šã¯åˆ¥è¨­å®šã«ãªã£ã¦ã„ã‚‹ã®ã§adaptive-wrapã‚„truncate-linesã‚’è¨­å®šã¨ã‹ã€‚   emacs-lisp \n\n;;; Hyde (Jekyll client) (require-package 'adaptive-wrap) (defun hyde/open-post-maybe-into-other-window (pos) \"Opens the post under cursor in the editor (POS).\" (interactive \"d\") (let ((post-file-name (nth 1 (split-string (strip-string (thing-at-point 'line)) \" : \"))) (dir (get-text-property pos 'dir))) (let ((hyde-buffer (current-buffer))) (find-file-other-window (strip-string (concat hyde-home \"/\" dir \"/\" post-file-name))) (hyde-markdown-activate-mode hyde-buffer) (adaptive-wrap-prefix-mode t) (set-default 'truncate-lines nil)))) (defun hyde/quit-wrap () \"Quits hyde.\" (interactive) (progn (delete-other-windows) (kill-buffer (current-buffer)))) (defun create-markdown-scratch () \"Create a markdown scratch buffer.\" (interactive) (switch-to-buffer (get-buffer-create \"*markdown*\")) (markdown-mode)) (defun hyde/nabinno () \"Run hyde-wrap with home parameter.\" (interactive) (progn (delete-other-windows) (create-markdown-scratch) (split-window-horizontally) (other-window 1) (hyde \"~/nabinno.github.io/\"))) (defvar hyde-mode-map (let ((hyde-mode-map (make-sparse-keymap))) (define-key hyde-mode-map (kbd \"N\") 'hyde/new-post) (define-key hyde-mode-map (kbd \"G\") 'hyde/load-posts) (define-key hyde-mode-map (kbd \"C\") 'hyde/hyde-commit-post) (define-key hyde-mode-map (kbd \"P\") 'hyde/hyde-push) (define-key hyde-mode-map (kbd \"J\") 'hyde/run-jekyll) (define-key hyde-mode-map (kbd \"S\") 'hyde/serve) (define-key hyde-mode-map (kbd \"K\") 'hyde/stop-serve) (define-key hyde-mode-map (kbd \"d\") 'hyde/deploy) (define-key hyde-mode-map (kbd \"D\") 'hyde/delete-post) (define-key hyde-mode-map (kbd \"U\") 'hyde/promote-to-post) (define-key hyde-mode-map (kbd \"X\") 'hyde/quit-wrap) (define-key hyde-mode-map (kbd \"O\") 'hyde/open-post-maybe-into-other-window) hyde-mode-map) \"Keymap for Hyde\") (global-set-key (kbd \"C-c ; j\") 'hyde/nabinno) (require-package 'hyde) (require 'hyde)   \n\nJekyllã®ãƒ«ãƒ¼ãƒˆã«ãŠã.hyde.elã®ä¸­èº«ã¯ã“ã‚“ãªæ„Ÿã˜ã€‚Jekyllã¯Webrickã‚’ä½¿ã£ã¦ã„ã‚‹ã®ã§ã€VMãªã©ã§ãƒ›ã‚¹ãƒˆã‚’ã„ã˜ã£ã¦ã„ã‚‹å ´åˆã¯hyde/serve-commandã«ãƒ›ã‚¹ãƒˆIPã‚’0.0.0.0ï¼ˆjekyll s -H 0.0.0.0ï¼‰ã«å¤‰æ›´ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚   emacs-lisp \n\n(setq hyde-deploy-dir \"_site\" hyde-posts-dir \"_posts\" hyde-drafts-dir \"_drafts\" hyde-images-dir \"images\" hyde/git/remote \"upstream\" ; The name of the remote to which we should push hyde/git/branch \"master\" ; The name of the branch on which your blog resides hyde/jekyll-command \"jekyll b\" ; Command to build hyde/serve-command \"jekyll s -H 0.0.0.0 --force_polling\" ; Command to serve hyde-custom-params '((\"category\" \"personal\") (\"tags\" \"\") (\"cover\" \"false\") (\"cover-image\" \"\")))","thumbnail":"https://img.esa.io/uploads/production/attachments/16651/2021/01/11/97367/7fa6aa49-7f81-4563-b21a-03ceef6601f9.png"},"wip":false,"body_md":"<img width=\"824\" alt=\"thumbnail\" src=\"https://img.esa.io/uploads/production/attachments/16651/2021/01/11/97367/7fa6aa49-7f81-4563-b21a-03ceef6601f9.png\">\r\n\r\n# PROBLEM\r\n\r\n- ã‚¿ã‚¹ã‚¯ãƒ¡ãƒ¢ãŒAsanaãªã©ã®ã‚¿ã‚¹ã‚¯ç®¡ç†ãƒ„ãƒ¼ãƒ«ã«æ•£åœ¨ã—ã¦ã„ã‚‹\r\n- ãƒ–ãƒ©ã‚¦ã‚¶ã‚’ã¤ã‹ã£ã¦æ–‡ç« ã‚’æ›¸ãã®ãŒã¤ã‚‰ã„\r\n- Gist/Yagistç­‰ã§ã‚‚ã„ã„ã®ã ã‘ã©ç·¨é›†ãŒã‚ã‚“ã©ã†ã¨ã‹å€‹äººã ã¨ã‚ªãƒ¼ãƒãƒ¼ã‚¹ãƒšãƒƒã‚¯ã¨ã‹\r\n\r\n# SOLUTION\r\n\r\nãã‚“ãªã‚ã‘ã§ã€[Github Pages](https://pages.github.com/)ï¼ˆ[Jekyll](https://jekyllrb.com/)ï¼‰ã‚’Emacsã§æ¥½ã«ç®¡ç†ã§ããªã„ã‹ã¨ä»¥å‰ã‹ã‚‰è€ƒãˆã¦ã„ãŸã®ã ãŒã€ã„ã„å¡©æ¢…ã®ã‚½ãƒ•ãƒˆã‚’ç™ºè¦‹ã—ãŸã€‚Jekyllã ã‹ã‚‰[Hyde](https://github.com/nibrahim/Hyde)ã¨ã„ã†ã€‚`jekyll doctor (hyde)`ã¨ã‹ã¶ã£ã¦ã‚‹ãŒæ°—ã«ã—ãªã„ã€‚\r\n\r\n**Pros**\r\n\r\n- `git`ã®è‡ªå‹•ã‚³ãƒ¡ãƒ³ãƒˆ\r\n- `jekyll build`ã€`jekyll serve`ã®ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ\r\n\r\n**Cons**\r\n\r\n- ã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒ‰ãŒæ—¢å­˜ã®ã‚‚ã®ã¨ã‹ã¶ã‚‹\r\n- `hyde-home`ãŒã‚«ã‚¹ã‚¿ãƒ å¤‰æ•°ã§ã¯ãªã„\r\n- `add-hook`ãŒåŠ¹ã‹ãªã„\r\n\r\n## Hydeã®è¨­å®š\r\nä¸‹è¨˜ã¯Consã¤ã¶ã—ã€‚Hydeæœ¬ä½“ãŒã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒ‰ã‚’`defvar`ã§å‰²ã‚Šå½“ã¦ã¦ã„ã‚‹ã®ã§ã€`init.el`ã®è¨­å®šã§`require`å‰ã«å‰²ã‚Šè¾¼ã¿evalã—ã¦ã€`hyde`é–¢æ•°ã«`hyde-home`å¼•æ•°ã‚’ã‚ãŸã›ã°è§£æ±ºã™ã‚‹ã€‚ã‚ã¨ã€æŠ˜ã‚Šè¿”ã—å›ã‚Šã¯åˆ¥è¨­å®šã«ãªã£ã¦ã„ã‚‹ã®ã§`adaptive-wrap`ã‚„`truncate-lines`ã‚’è¨­å®šã¨ã‹ã€‚\r\n\r\n```emacs-lisp\r\n;;; Hyde (Jekyll client)\r\n(require-package 'adaptive-wrap)\r\n(defun hyde/open-post-maybe-into-other-window (pos)\r\n  \"Opens the post under cursor in the editor (POS).\"\r\n  (interactive \"d\")\r\n  (let ((post-file-name (nth\r\n                         1\r\n                         (split-string (strip-string (thing-at-point 'line)) \" : \")))\r\n        (dir (get-text-property pos 'dir)))\r\n    (let ((hyde-buffer (current-buffer)))\r\n      (find-file-other-window\r\n       (strip-string (concat hyde-home \"/\" dir \"/\" post-file-name)))\r\n      (hyde-markdown-activate-mode hyde-buffer)\r\n      (adaptive-wrap-prefix-mode t)\r\n      (set-default 'truncate-lines nil))))\r\n(defun hyde/quit-wrap ()\r\n  \"Quits hyde.\"\r\n  (interactive)\r\n  (progn\r\n    (delete-other-windows)\r\n    (kill-buffer (current-buffer))))\r\n(defun create-markdown-scratch ()\r\n  \"Create a markdown scratch buffer.\"\r\n  (interactive)\r\n  (switch-to-buffer (get-buffer-create \"*markdown*\"))\r\n  (markdown-mode))\r\n(defun hyde/nabinno ()\r\n  \"Run hyde-wrap with home parameter.\"\r\n  (interactive)\r\n  (progn\r\n    (delete-other-windows)\r\n    (create-markdown-scratch)\r\n    (split-window-horizontally)\r\n    (other-window 1)\r\n    (hyde \"~/nabinno.github.io/\")))\r\n(defvar hyde-mode-map\r\n  (let\r\n      ((hyde-mode-map (make-sparse-keymap)))\r\n    (define-key hyde-mode-map (kbd \"N\") 'hyde/new-post)\r\n    (define-key hyde-mode-map (kbd \"G\") 'hyde/load-posts)\r\n    (define-key hyde-mode-map (kbd \"C\") 'hyde/hyde-commit-post)\r\n    (define-key hyde-mode-map (kbd \"P\") 'hyde/hyde-push)\r\n    (define-key hyde-mode-map (kbd \"J\") 'hyde/run-jekyll)\r\n    (define-key hyde-mode-map (kbd \"S\") 'hyde/serve)\r\n    (define-key hyde-mode-map (kbd \"K\") 'hyde/stop-serve)\r\n    (define-key hyde-mode-map (kbd \"d\") 'hyde/deploy)\r\n    (define-key hyde-mode-map (kbd \"D\") 'hyde/delete-post)\r\n    (define-key hyde-mode-map (kbd \"U\") 'hyde/promote-to-post)\r\n    (define-key hyde-mode-map (kbd \"X\") 'hyde/quit-wrap)\r\n    (define-key hyde-mode-map (kbd \"O\") 'hyde/open-post-maybe-into-other-window)\r\n    hyde-mode-map)\r\n  \"Keymap for Hyde\")\r\n(global-set-key (kbd \"C-c ; j\") 'hyde/nabinno)\r\n(require-package 'hyde)\r\n(require 'hyde)\r\n```\r\n\r\nJekyllã®ãƒ«ãƒ¼ãƒˆã«ãŠã`.hyde.el`ã®ä¸­èº«ã¯ã“ã‚“ãªæ„Ÿã˜ã€‚Jekyllã¯Webrickã‚’ä½¿ã£ã¦ã„ã‚‹ã®ã§ã€VMãªã©ã§ãƒ›ã‚¹ãƒˆã‚’ã„ã˜ã£ã¦ã„ã‚‹å ´åˆã¯`hyde/serve-command`ã«ãƒ›ã‚¹ãƒˆIPã‚’0.0.0.0ï¼ˆ`jekyll s -H 0.0.0.0`ï¼‰ã«å¤‰æ›´ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚\r\n\r\n```emacs-lisp\r\n(setq hyde-deploy-dir \"_site\"\r\n      hyde-posts-dir  \"_posts\"\r\n      hyde-drafts-dir \"_drafts\"\r\n      hyde-images-dir \"images\"\r\n      hyde/git/remote \"upstream\" ; The name of the remote to which we should push\r\n      hyde/git/branch \"master\"   ; The name of the branch on which your blog resides\r\n      hyde/jekyll-command \"jekyll b\"    ; Command to build\r\n      hyde/serve-command  \"jekyll s -H 0.0.0.0 --force_polling\"    ; Command to serve\r\n      hyde-custom-params '((\"category\" \"personal\")\r\n                           (\"tags\" \"\")\r\n                           (\"cover\" \"false\")\r\n                           (\"cover-image\" \"\")))\r\n```\r\n\r\n","body_html":"<a href=\"https://img.esa.io/uploads/production/attachments/16651/2021/01/11/97367/7fa6aa49-7f81-4563-b21a-03ceef6601f9.png\" target=\"_blank\" rel=\"noopener noreferrer\"><img width=\"824\" alt=\"thumbnail\" src=\"https://img.esa.io/uploads/production/attachments/16651/2021/01/11/97367/7fa6aa49-7f81-4563-b21a-03ceef6601f9.png\"></a>\n<h1 data-sourcepos=\"3:1-3:9\" id=\"1-0-0\" name=\"1-0-0\">\n<a class=\"anchor\" id=\"PROBLEM\" name=\"PROBLEM\" href=\"#PROBLEM\" data-position=\"1-0-0\"><i class=\"fa fa-link\"></i><span class=\"hidden\" data-text=\"PROBLEM\"> &gt; PROBLEM</span></a>PROBLEM</h1>\n<ul data-sourcepos=\"5:1-8:0\">\n<li data-sourcepos=\"5:1-5:79\">ã‚¿ã‚¹ã‚¯ãƒ¡ãƒ¢ãŒAsanaãªã©ã®ã‚¿ã‚¹ã‚¯ç®¡ç†ãƒ„ãƒ¼ãƒ«ã«æ•£åœ¨ã—ã¦ã„ã‚‹</li>\n<li data-sourcepos=\"6:1-6:59\">ãƒ–ãƒ©ã‚¦ã‚¶ã‚’ã¤ã‹ã£ã¦æ–‡ç« ã‚’æ›¸ãã®ãŒã¤ã‚‰ã„</li>\n<li data-sourcepos=\"7:1-8:0\">Gist/Yagistç­‰ã§ã‚‚ã„ã„ã®ã ã‘ã©ç·¨é›†ãŒã‚ã‚“ã©ã†ã¨ã‹å€‹äººã ã¨ã‚ªãƒ¼ãƒãƒ¼ã‚¹ãƒšãƒƒã‚¯ã¨ã‹</li>\n</ul>\n<h1 data-sourcepos=\"9:1-9:10\" id=\"2-0-0\" name=\"2-0-0\">\n<a class=\"anchor\" id=\"SOLUTION\" name=\"SOLUTION\" href=\"#SOLUTION\" data-position=\"2-0-0\"><i class=\"fa fa-link\"></i><span class=\"hidden\" data-text=\"SOLUTION\"> &gt; SOLUTION</span></a>SOLUTION</h1>\n<p data-sourcepos=\"11:1-11:349\">ãã‚“ãªã‚ã‘ã§ã€<a href=\"https://pages.github.com/\" target=\"_blank\" rel=\"noopener noreferrer\">Github Pages</a>ï¼ˆ<a href=\"https://jekyllrb.com/\" target=\"_blank\" rel=\"noopener noreferrer\">Jekyll</a>ï¼‰ã‚’Emacsã§æ¥½ã«ç®¡ç†ã§ããªã„ã‹ã¨ä»¥å‰ã‹ã‚‰è€ƒãˆã¦ã„ãŸã®ã ãŒã€ã„ã„å¡©æ¢…ã®ã‚½ãƒ•ãƒˆã‚’ç™ºè¦‹ã—ãŸã€‚Jekyllã ã‹ã‚‰<a href=\"https://github.com/nibrahim/Hyde\" target=\"_blank\" rel=\"noopener noreferrer\">Hyde</a>ã¨ã„ã†ã€‚<code>jekyll doctor (hyde)</code>ã¨ã‹ã¶ã£ã¦ã‚‹ãŒæ°—ã«ã—ãªã„ã€‚</p>\n<p data-sourcepos=\"13:1-13:8\"><strong>Pros</strong></p>\n<ul data-sourcepos=\"15:1-17:0\">\n<li data-sourcepos=\"15:1-15:28\">\n<code>git</code>ã®è‡ªå‹•ã‚³ãƒ¡ãƒ³ãƒˆ</li>\n<li data-sourcepos=\"16:1-17:0\">\n<code>jekyll build</code>ã€<code>jekyll serve</code>ã®ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ</li>\n</ul>\n<p data-sourcepos=\"18:1-18:8\"><strong>Cons</strong></p>\n<ul data-sourcepos=\"20:1-23:0\">\n<li data-sourcepos=\"20:1-20:50\">ã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒ‰ãŒæ—¢å­˜ã®ã‚‚ã®ã¨ã‹ã¶ã‚‹</li>\n<li data-sourcepos=\"21:1-21:46\">\n<code>hyde-home</code>ãŒã‚«ã‚¹ã‚¿ãƒ å¤‰æ•°ã§ã¯ãªã„</li>\n<li data-sourcepos=\"22:1-23:0\">\n<code>add-hook</code>ãŒåŠ¹ã‹ãªã„</li>\n</ul>\n<h2 data-sourcepos=\"24:1-24:16\" id=\"2-1-0\" name=\"2-1-0\">\n<a class=\"anchor\" id=\"Hydeã®è¨­å®š\" name=\"Hyde%E3%81%AE%E8%A8%AD%E5%AE%9A\" href=\"#Hyde%E3%81%AE%E8%A8%AD%E5%AE%9A\" data-position=\"2-1-0\"><i class=\"fa fa-link\"></i><span class=\"hidden\" data-text=\"Hydeã®è¨­å®š\"> &gt; Hydeã®è¨­å®š</span></a>Hydeã®è¨­å®š</h2>\n<p data-sourcepos=\"25:1-25:338\">ä¸‹è¨˜ã¯Consã¤ã¶ã—ã€‚Hydeæœ¬ä½“ãŒã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒ‰ã‚’<code>defvar</code>ã§å‰²ã‚Šå½“ã¦ã¦ã„ã‚‹ã®ã§ã€<code>init.el</code>ã®è¨­å®šã§<code>require</code>å‰ã«å‰²ã‚Šè¾¼ã¿evalã—ã¦ã€<code>hyde</code>é–¢æ•°ã«<code>hyde-home</code>å¼•æ•°ã‚’ã‚ãŸã›ã°è§£æ±ºã™ã‚‹ã€‚ã‚ã¨ã€æŠ˜ã‚Šè¿”ã—å›ã‚Šã¯åˆ¥è¨­å®šã«ãªã£ã¦ã„ã‚‹ã®ã§<code>adaptive-wrap</code>ã‚„<code>truncate-lines</code>ã‚’è¨­å®šã¨ã‹ã€‚</p>\n<div class=\"code-block\" data-sourcepos=\"27:1-83:3\">\n<div class=\"code-filename\">\n<i class=\"fa fa-file-code-o\"></i>emacs-lisp</div>\n<div class=\"highlight\"><pre class=\"highlight emacs-lisp\"><code><span class=\"c1\">;;; Hyde (Jekyll client)</span>\n<span class=\"p\">(</span><span class=\"nv\">require-package</span> <span class=\"ss\">'adaptive-wrap</span><span class=\"p\">)</span>\n<span class=\"p\">(</span><span class=\"nb\">defun</span> <span class=\"nv\">hyde/open-post-maybe-into-other-window</span> <span class=\"p\">(</span><span class=\"nv\">pos</span><span class=\"p\">)</span>\n  <span class=\"s\">\"Opens the post under cursor in the editor (POS).\"</span>\n  <span class=\"p\">(</span><span class=\"nv\">interactive</span> <span class=\"s\">\"d\"</span><span class=\"p\">)</span>\n  <span class=\"p\">(</span><span class=\"k\">let</span> <span class=\"p\">((</span><span class=\"nv\">post-file-name</span> <span class=\"p\">(</span><span class=\"nb\">nth</span>\n                         <span class=\"mi\">1</span>\n                         <span class=\"p\">(</span><span class=\"nv\">split-string</span> <span class=\"p\">(</span><span class=\"nv\">strip-string</span> <span class=\"p\">(</span><span class=\"nv\">thing-at-point</span> <span class=\"ss\">'line</span><span class=\"p\">))</span> <span class=\"s\">\" : \"</span><span class=\"p\">)))</span>\n        <span class=\"p\">(</span><span class=\"nv\">dir</span> <span class=\"p\">(</span><span class=\"nv\">get-text-property</span> <span class=\"nv\">pos</span> <span class=\"ss\">'dir</span><span class=\"p\">)))</span>\n    <span class=\"p\">(</span><span class=\"k\">let</span> <span class=\"p\">((</span><span class=\"nv\">hyde-buffer</span> <span class=\"p\">(</span><span class=\"nv\">current-buffer</span><span class=\"p\">)))</span>\n      <span class=\"p\">(</span><span class=\"nv\">find-file-other-window</span>\n       <span class=\"p\">(</span><span class=\"nv\">strip-string</span> <span class=\"p\">(</span><span class=\"nv\">concat</span> <span class=\"nv\">hyde-home</span> <span class=\"s\">\"/\"</span> <span class=\"nv\">dir</span> <span class=\"s\">\"/\"</span> <span class=\"nv\">post-file-name</span><span class=\"p\">)))</span>\n      <span class=\"p\">(</span><span class=\"nv\">hyde-markdown-activate-mode</span> <span class=\"nv\">hyde-buffer</span><span class=\"p\">)</span>\n      <span class=\"p\">(</span><span class=\"nv\">adaptive-wrap-prefix-mode</span> <span class=\"no\">t</span><span class=\"p\">)</span>\n      <span class=\"p\">(</span><span class=\"nv\">set-default</span> <span class=\"ss\">'truncate-lines</span> <span class=\"no\">nil</span><span class=\"p\">))))</span>\n<span class=\"p\">(</span><span class=\"nb\">defun</span> <span class=\"nv\">hyde/quit-wrap</span> <span class=\"p\">()</span>\n  <span class=\"s\">\"Quits hyde.\"</span>\n  <span class=\"p\">(</span><span class=\"nv\">interactive</span><span class=\"p\">)</span>\n  <span class=\"p\">(</span><span class=\"k\">progn</span>\n    <span class=\"p\">(</span><span class=\"nv\">delete-other-windows</span><span class=\"p\">)</span>\n    <span class=\"p\">(</span><span class=\"nv\">kill-buffer</span> <span class=\"p\">(</span><span class=\"nv\">current-buffer</span><span class=\"p\">))))</span>\n<span class=\"p\">(</span><span class=\"nb\">defun</span> <span class=\"nv\">create-markdown-scratch</span> <span class=\"p\">()</span>\n  <span class=\"s\">\"Create a markdown scratch buffer.\"</span>\n  <span class=\"p\">(</span><span class=\"nv\">interactive</span><span class=\"p\">)</span>\n  <span class=\"p\">(</span><span class=\"nv\">switch-to-buffer</span> <span class=\"p\">(</span><span class=\"nv\">get-buffer-create</span> <span class=\"s\">\"*markdown*\"</span><span class=\"p\">))</span>\n  <span class=\"p\">(</span><span class=\"nv\">markdown-mode</span><span class=\"p\">))</span>\n<span class=\"p\">(</span><span class=\"nb\">defun</span> <span class=\"nv\">hyde/nabinno</span> <span class=\"p\">()</span>\n  <span class=\"s\">\"Run hyde-wrap with home parameter.\"</span>\n  <span class=\"p\">(</span><span class=\"nv\">interactive</span><span class=\"p\">)</span>\n  <span class=\"p\">(</span><span class=\"k\">progn</span>\n    <span class=\"p\">(</span><span class=\"nv\">delete-other-windows</span><span class=\"p\">)</span>\n    <span class=\"p\">(</span><span class=\"nv\">create-markdown-scratch</span><span class=\"p\">)</span>\n    <span class=\"p\">(</span><span class=\"nv\">split-window-horizontally</span><span class=\"p\">)</span>\n    <span class=\"p\">(</span><span class=\"nv\">other-window</span> <span class=\"mi\">1</span><span class=\"p\">)</span>\n    <span class=\"p\">(</span><span class=\"nv\">hyde</span> <span class=\"s\">\"~/nabinno.github.io/\"</span><span class=\"p\">)))</span>\n<span class=\"p\">(</span><span class=\"nb\">defvar</span> <span class=\"nv\">hyde-mode-map</span>\n  <span class=\"p\">(</span><span class=\"k\">let</span>\n      <span class=\"p\">((</span><span class=\"nv\">hyde-mode-map</span> <span class=\"p\">(</span><span class=\"nv\">make-sparse-keymap</span><span class=\"p\">)))</span>\n    <span class=\"p\">(</span><span class=\"nv\">define-key</span> <span class=\"nv\">hyde-mode-map</span> <span class=\"p\">(</span><span class=\"nv\">kbd</span> <span class=\"s\">\"N\"</span><span class=\"p\">)</span> <span class=\"ss\">'hyde/new-post</span><span class=\"p\">)</span>\n    <span class=\"p\">(</span><span class=\"nv\">define-key</span> <span class=\"nv\">hyde-mode-map</span> <span class=\"p\">(</span><span class=\"nv\">kbd</span> <span class=\"s\">\"G\"</span><span class=\"p\">)</span> <span class=\"ss\">'hyde/load-posts</span><span class=\"p\">)</span>\n    <span class=\"p\">(</span><span class=\"nv\">define-key</span> <span class=\"nv\">hyde-mode-map</span> <span class=\"p\">(</span><span class=\"nv\">kbd</span> <span class=\"s\">\"C\"</span><span class=\"p\">)</span> <span class=\"ss\">'hyde/hyde-commit-post</span><span class=\"p\">)</span>\n    <span class=\"p\">(</span><span class=\"nv\">define-key</span> <span class=\"nv\">hyde-mode-map</span> <span class=\"p\">(</span><span class=\"nv\">kbd</span> <span class=\"s\">\"P\"</span><span class=\"p\">)</span> <span class=\"ss\">'hyde/hyde-push</span><span class=\"p\">)</span>\n    <span class=\"p\">(</span><span class=\"nv\">define-key</span> <span class=\"nv\">hyde-mode-map</span> <span class=\"p\">(</span><span class=\"nv\">kbd</span> <span class=\"s\">\"J\"</span><span class=\"p\">)</span> <span class=\"ss\">'hyde/run-jekyll</span><span class=\"p\">)</span>\n    <span class=\"p\">(</span><span class=\"nv\">define-key</span> <span class=\"nv\">hyde-mode-map</span> <span class=\"p\">(</span><span class=\"nv\">kbd</span> <span class=\"s\">\"S\"</span><span class=\"p\">)</span> <span class=\"ss\">'hyde/serve</span><span class=\"p\">)</span>\n    <span class=\"p\">(</span><span class=\"nv\">define-key</span> <span class=\"nv\">hyde-mode-map</span> <span class=\"p\">(</span><span class=\"nv\">kbd</span> <span class=\"s\">\"K\"</span><span class=\"p\">)</span> <span class=\"ss\">'hyde/stop-serve</span><span class=\"p\">)</span>\n    <span class=\"p\">(</span><span class=\"nv\">define-key</span> <span class=\"nv\">hyde-mode-map</span> <span class=\"p\">(</span><span class=\"nv\">kbd</span> <span class=\"s\">\"d\"</span><span class=\"p\">)</span> <span class=\"ss\">'hyde/deploy</span><span class=\"p\">)</span>\n    <span class=\"p\">(</span><span class=\"nv\">define-key</span> <span class=\"nv\">hyde-mode-map</span> <span class=\"p\">(</span><span class=\"nv\">kbd</span> <span class=\"s\">\"D\"</span><span class=\"p\">)</span> <span class=\"ss\">'hyde/delete-post</span><span class=\"p\">)</span>\n    <span class=\"p\">(</span><span class=\"nv\">define-key</span> <span class=\"nv\">hyde-mode-map</span> <span class=\"p\">(</span><span class=\"nv\">kbd</span> <span class=\"s\">\"U\"</span><span class=\"p\">)</span> <span class=\"ss\">'hyde/promote-to-post</span><span class=\"p\">)</span>\n    <span class=\"p\">(</span><span class=\"nv\">define-key</span> <span class=\"nv\">hyde-mode-map</span> <span class=\"p\">(</span><span class=\"nv\">kbd</span> <span class=\"s\">\"X\"</span><span class=\"p\">)</span> <span class=\"ss\">'hyde/quit-wrap</span><span class=\"p\">)</span>\n    <span class=\"p\">(</span><span class=\"nv\">define-key</span> <span class=\"nv\">hyde-mode-map</span> <span class=\"p\">(</span><span class=\"nv\">kbd</span> <span class=\"s\">\"O\"</span><span class=\"p\">)</span> <span class=\"ss\">'hyde/open-post-maybe-into-other-window</span><span class=\"p\">)</span>\n    <span class=\"nv\">hyde-mode-map</span><span class=\"p\">)</span>\n  <span class=\"s\">\"Keymap for Hyde\"</span><span class=\"p\">)</span>\n<span class=\"p\">(</span><span class=\"nv\">global-set-key</span> <span class=\"p\">(</span><span class=\"nv\">kbd</span> <span class=\"s\">\"C-c ; j\"</span><span class=\"p\">)</span> <span class=\"ss\">'hyde/nabinno</span><span class=\"p\">)</span>\n<span class=\"p\">(</span><span class=\"nv\">require-package</span> <span class=\"ss\">'hyde</span><span class=\"p\">)</span>\n<span class=\"p\">(</span><span class=\"nb\">require</span> <span class=\"ss\">'hyde</span><span class=\"p\">)</span>\n</code></pre></div>\n</div>\n<p data-sourcepos=\"85:1-85:264\">Jekyllã®ãƒ«ãƒ¼ãƒˆã«ãŠã<code>.hyde.el</code>ã®ä¸­èº«ã¯ã“ã‚“ãªæ„Ÿã˜ã€‚Jekyllã¯Webrickã‚’ä½¿ã£ã¦ã„ã‚‹ã®ã§ã€VMãªã©ã§ãƒ›ã‚¹ãƒˆã‚’ã„ã˜ã£ã¦ã„ã‚‹å ´åˆã¯<code>hyde/serve-command</code>ã«ãƒ›ã‚¹ãƒˆIPã‚’0.0.0.0ï¼ˆ<code>jekyll s -H 0.0.0.0</code>ï¼‰ã«å¤‰æ›´ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚</p>\n<div class=\"code-block\" data-sourcepos=\"87:1-100:3\">\n<div class=\"code-filename\">\n<i class=\"fa fa-file-code-o\"></i>emacs-lisp</div>\n<div class=\"highlight\"><pre class=\"highlight emacs-lisp\"><code><span class=\"p\">(</span><span class=\"k\">setq</span> <span class=\"nv\">hyde-deploy-dir</span> <span class=\"s\">\"_site\"</span>\n      <span class=\"nv\">hyde-posts-dir</span>  <span class=\"s\">\"_posts\"</span>\n      <span class=\"nv\">hyde-drafts-dir</span> <span class=\"s\">\"_drafts\"</span>\n      <span class=\"nv\">hyde-images-dir</span> <span class=\"s\">\"images\"</span>\n      <span class=\"nv\">hyde/git/remote</span> <span class=\"s\">\"upstream\"</span> <span class=\"c1\">; The name of the remote to which we should push</span>\n      <span class=\"nv\">hyde/git/branch</span> <span class=\"s\">\"master\"</span>   <span class=\"c1\">; The name of the branch on which your blog resides</span>\n      <span class=\"nv\">hyde/jekyll-command</span> <span class=\"s\">\"jekyll b\"</span>    <span class=\"c1\">; Command to build</span>\n      <span class=\"nv\">hyde/serve-command</span>  <span class=\"s\">\"jekyll s -H 0.0.0.0 --force_polling\"</span>    <span class=\"c1\">; Command to serve</span>\n      <span class=\"nv\">hyde-custom-params</span> <span class=\"o\">'</span><span class=\"p\">((</span><span class=\"s\">\"category\"</span> <span class=\"s\">\"personal\"</span><span class=\"p\">)</span>\n                           <span class=\"p\">(</span><span class=\"s\">\"tags\"</span> <span class=\"s\">\"\"</span><span class=\"p\">)</span>\n                           <span class=\"p\">(</span><span class=\"s\">\"cover\"</span> <span class=\"s\">\"false\"</span><span class=\"p\">)</span>\n                           <span class=\"p\">(</span><span class=\"s\">\"cover-image\"</span> <span class=\"s\">\"\"</span><span class=\"p\">)))</span>\n</code></pre></div>\n</div>\n","tags":["emacs","jekyll","hyde","github-pages"],"updated_at":"2021-01-11T12:50:42+09:00","childPublishedDate":{"published_on":"2017-02-01T00:00:00.000Z"},"updated_by":{"name":"ãªã³ã®ğŸ‘·","screen_name":"nabinno","icon":"https://img.esa.io/uploads/production/members/94286/icon/thumb_m_ef5f024307008aa399b91f87fa5f64e8.jpg"}},"relatedPosts":{"edges":[{"node":{"number":67,"relative_category":"blog/backend","fields":{"title":"esaã‚’Headless CMSã¨ã—ã¦ä½¿ã†","excerpt":"// WIP"},"name":"[2021-01-18]esaã‚’Headless CMSã¨ã—ã¦ä½¿ã†","tags":[],"childPublishedDate":{"published_on":"2021-01-18T00:00:00.000Z","published_on_unix":1610928000}}},{"node":{"number":61,"relative_category":"blog/health","fields":{"title":"Elixirã¨Raspberry Piã§PM2.5ãªã©ã®ç’°å¢ƒãƒ‡ãƒ¼ã‚¿ã‚’å®šç‚¹è¦³å¯Ÿã—ã€ç›®ãƒ»å–‰ã®ç—›ã¿ã«å‚™ãˆã‚‹","excerpt":"> PROBLEMPROBLEM \n\n- ä»¥å‰ã‹ã‚‰ã‚ªãƒ•ã‚£ã‚¹ã«è¡Œãã¨ç›®ã‚„å–‰ãŒç—›ããªã‚‹ã“ã¨ãŒã‚ã£ãŸã®ã§ã€è‡ªåˆ†ã®ä½“èª¿ãªã®ã‹ç’°å¢ƒãªã®ã‹åŸå› ã‚’åˆ‡ã‚Šåˆ†ã‘ã‚‹ãŸã‚ã«æ±šæŸ“è¨ˆæ¸¬å™¨ã€ŒDienmern DM106Aã€ã‚’è³¼å…¥ ãŸã ã€DM106Aã®è¨ˆæ¸¬ã¯ãã®æ™‚ãã®æ™‚ã®ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆãªã®ã§å‚¾å‘ã‚’èª­ã¿è§£ãã¥ã‚‰ã„ã€ã¾ãŸã€éƒ½åº¦å®Ÿæ–½ã™ã‚‹æ‰‹é–“ãŒã‹ã‹ã‚‹ \n- ãŸã ã€DM106Aã®è¨ˆæ¸¬ã¯ãã®æ™‚ãã®æ™‚ã®ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆãªã®ã§å‚¾å‘ã‚’èª­ã¿è§£ãã¥ã‚‰ã„ã€ã¾ãŸã€éƒ½åº¦å®Ÿæ–½ã™ã‚‹æ‰‹é–“ãŒã‹ã‹ã‚‹   > SOLUTIONSOLUTION \n\nã¨ã„ã†ã‚ã‘ã§ã€DM106Aã®ã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’Raspberry Piã§å®šæœŸå–å¾—ã™ã‚‹ã“ã¨ã«ã—ãŸã€‚è¨­ç½®æ–¹æ³•ã®è©³ç´°ã¯GitHubãƒ¬ãƒã‚¸ãƒˆãƒªã‚’å‚ç…§ã€‚ä¸‹è¨˜ã¯å®Ÿè£…æ¦‚è¦ã€‚   > é›»å­éƒ¨å“ã®æ§‹æˆé›»å­éƒ¨å“ã®æ§‹æˆ    item description     Raspberry Pi 3 Model B+    Aosong DHT11 æ°—æ¸©ãƒ»æ¹¿åº¦ã‚»ãƒ³ã‚µãƒ¼ã€GPIO   Nova SDS021 PM2.5ãƒ»PM10ã‚»ãƒ³ã‚µãƒ¼ã€UART   ams CCS811 TVOCãƒ»CO2eã‚»ãƒ³ã‚µãƒ¼ã€I2C    \n\né›»å­å·¥ä½œã¯ç´ äººã‚†ãˆã©ã®ã‚»ãƒ³ã‚µãƒ¼ã‚’è²·ãˆã°ã„ã„ã‹ã‚ã‹ã‚‰ãªã‹ã£ãŸã®ã§DM106Aã‚’åˆ†è§£ã—ã¦å„ã‚»ãƒ³ã‚µãƒ¼ã®å‹ç•ªã‚’ã—ã‚‰ã¹ãŸã€‚DHT011ã€SDS021ã¯DM106Aã¨ãŠãªã˜ã‚»ãƒ³ã‚µãƒ¼ã€HCHOã‚»ãƒ³ã‚µãƒ¼ã¯ä¿¡é ¼æ€§ãŒã‚ã‚Šæ‰‹ã”ã‚ãªã®ãŒã†ã¾ãè¦‹ã¤ã‘ã‚‰ã‚Œãªã‹ã£ãŸã€‚TVOCã‚»ãƒ³ã‚µãƒ¼ã¯AdafruitãŒæ¨ã—ã¦ã„ã‚‹CCS811ã‚’æ¡ç”¨ã—ãŸã€‚   > ã‚³ãƒ¼ãƒ‰ã®æ§‹æˆã‚³ãƒ¼ãƒ‰ã®æ§‹æˆ    item description     AirElixir.Application ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ç®¡ç†   AirElixir.GoogleSpreadsheets ã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿è¨˜éŒ²   AirElixirSensor.Publisher ã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿ç™ºè¡Œãƒ»é€ä¿¡   AirElixirSensor.Subscriber ã‚»ãƒ³ã‚µãƒ¼ãƒ‡ãƒ¼ã‚¿è³¼èª­ãƒ»å—ä¿¡    \n\nåŸºæœ¬æ§‹æˆã¯GrovePiã‚’å‚è€ƒã«ã—ãŸã€‚ç™ºè¡Œå‡¦ç†ã¯Elixirã§ã†ã¾ãã„ã‹ãªã„ã‚±ãƒ¼ã‚¹ãŒã‚ã£ãŸã®ã§ã¾ãšã¯Python/ErlPortã§ãŠã“ãªã£ãŸã€‚å¾Œã€…Elixirã«ç§»è¡Œã§ãã‚‹ã‚ˆã†ã«ãƒã‚¯ãƒ­ã«ã—ã¦ã‚ã‚‹ã€‚   > 5æ—¥ã»ã©ç¨¼åƒã—ã¦ã‚ã‹ã£ãŸã“ã¨ãƒ»è¦‹ç«‹ã¦ã€ä»Šå¾Œã®èª²é¡Œ5æ—¥ã»ã©ç¨¼åƒã—ã¦ã‚ã‹ã£ãŸã“ã¨ãƒ»è¦‹ç«‹ã¦ã€ä»Šå¾Œã®èª²é¡Œ  \n\n- ã‚ªãƒ•ã‚£ã‚¹ã®ç©ºæ°—æ¸…æµ„æ©Ÿã€ŒHitachi EP-LVG110ã€ã¯PMã‚’ãã¡ã‚“ã¨ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã—ã¦ã„ãŸ ãŸã ã—ã€ç©ºæ°—æ¸…æµ„æ©Ÿã¯TVOCã«ã¯åŠ¹æœãŒãªãã€ã“ã‚Œã¯Troiaæ°ã‚„åŠ è—¤æ°ãƒ»è‹…éƒ¨æ°ã®è€ƒå¯Ÿã§ã‚‚è¨€åŠã•ã‚Œã¦ã„ã‚‹ \n- ãŸã ã—ã€ç©ºæ°—æ¸…æµ„æ©Ÿã¯TVOCã«ã¯åŠ¹æœãŒãªãã€ã“ã‚Œã¯Troiaæ°ã‚„åŠ è—¤æ°ãƒ»è‹…éƒ¨æ°ã®è€ƒå¯Ÿã§ã‚‚è¨€åŠã•ã‚Œã¦ã„ã‚‹\n- äººã®å…¥ã‚ŠãŒå¤šã„æ™‚é–“å¸¯ã«ç©ºæ°—ï¼ˆTVOCã‚„CO2eï¼‰ãŒã‚ˆã”ã‚Œã‚‹ äººãŒã€Œå‡ºã‚‹ã€ã¨ãã‚ˆã‚Šã‚‚ã€Œå…¥ã‚‹ã€éš›ã«æ¿ƒåº¦ãŒã‚ãŒã‚‹ã®ã¯ã€å¤–ã®VOCãŒæœãªã©ã«ä»˜ç€ã—ã¦ã„ã‚‹ãŸã‚ã¨æ¨å¯Ÿ \n- äººãŒã€Œå‡ºã‚‹ã€ã¨ãã‚ˆã‚Šã‚‚ã€Œå…¥ã‚‹ã€éš›ã«æ¿ƒåº¦ãŒã‚ãŒã‚‹ã®ã¯ã€å¤–ã®VOCãŒæœãªã©ã«ä»˜ç€ã—ã¦ã„ã‚‹ãŸã‚ã¨æ¨å¯Ÿ\n- TVOCã‚„CO2eã¯PMã®ã†ã”ãã«é€£å‹•ã—ã¦ã„ã‚‹ï¼ˆã‹ã‚‚ï¼‰ ãƒãƒ£ãƒ¼ãƒˆä¸Šã¯EP-LVG110ãŒPMé™¤å»ã—ã¦ã„ã‚‹ãŸã‚ã‚ã‹ã‚‰ãªã„ãŒã€æ—¥æœ¬æ°—è±¡å”ä¼šã®PM2.5åˆ†å¸ƒäºˆæ¸¬ã«ç…§ã‚‰ã—ã¦ã¿ã‚‹ã¨PMæ¿ƒåº¦ãŒé«˜ã„æ—¥ã«TVOCæ¿ƒåº¦ãŒã‚ãŒã£ã¦ã„ãŸ TODO: PMãŒVOCã‚’é‹ã‚“ã§ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã®ã§ã€IQAirãªã©ã®APIã‹ã‚‰å‘¨è¾ºç’°å¢ƒã®PMãƒ‡ãƒ¼ã‚¿ã‚‚å–å¾—ã—ãŸã„ã¨ã“ã‚ \n- ãƒãƒ£ãƒ¼ãƒˆä¸Šã¯EP-LVG110ãŒPMé™¤å»ã—ã¦ã„ã‚‹ãŸã‚ã‚ã‹ã‚‰ãªã„ãŒã€æ—¥æœ¬æ°—è±¡å”ä¼šã®PM2.5åˆ†å¸ƒäºˆæ¸¬ã«ç…§ã‚‰ã—ã¦ã¿ã‚‹ã¨PMæ¿ƒåº¦ãŒé«˜ã„æ—¥ã«TVOCæ¿ƒåº¦ãŒã‚ãŒã£ã¦ã„ãŸ TODO: PMãŒVOCã‚’é‹ã‚“ã§ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã®ã§ã€IQAirãªã©ã®APIã‹ã‚‰å‘¨è¾ºç’°å¢ƒã®PMãƒ‡ãƒ¼ã‚¿ã‚‚å–å¾—ã—ãŸã„ã¨ã“ã‚ \n- TODO: PMãŒVOCã‚’é‹ã‚“ã§ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã®ã§ã€IQAirãªã©ã®APIã‹ã‚‰å‘¨è¾ºç’°å¢ƒã®PMãƒ‡ãƒ¼ã‚¿ã‚‚å–å¾—ã—ãŸã„ã¨ã“ã‚\n- TVOCã®å¤‰å‹•ãŒå¤§ãã™ãã‚‹ ãƒãƒ¼ãƒªãƒ³ã‚°ãƒ»å‡ºåŠ›ã‚’20åˆ†ã”ã¨ã‹ã‚‰ãƒãƒ¼ãƒªãƒ³ã‚°3ç§’ã”ã¨ãƒ»å‡ºåŠ›20åˆ†ã”ã¨ã«å¤‰æ›´ã—ãŸã€å‡ºåŠ›ãƒ‡ãƒ¼ã‚¿ã¯20åˆ†ã®å¹³å‡ \n- ãƒãƒ¼ãƒªãƒ³ã‚°ãƒ»å‡ºåŠ›ã‚’20åˆ†ã”ã¨ã‹ã‚‰ãƒãƒ¼ãƒªãƒ³ã‚°3ç§’ã”ã¨ãƒ»å‡ºåŠ›20åˆ†ã”ã¨ã«å¤‰æ›´ã—ãŸã€å‡ºåŠ›ãƒ‡ãƒ¼ã‚¿ã¯20åˆ†ã®å¹³å‡\n- TVOCã®ã‚¹ãƒ‘ã‚¤ã‚¯ã‚’æŠ‘ãˆãŸã„ TODO: ãƒ•ã‚¡ã‚¤ãƒˆãƒ¬ãƒ¡ãƒ‡ã‚£ã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ã«ã‚ˆã‚‹åŠ¹æœã‚’è¦‹ã¦ã„ããŸã„ã¨ã“ã‚ \n- TODO: ãƒ•ã‚¡ã‚¤ãƒˆãƒ¬ãƒ¡ãƒ‡ã‚£ã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ã«ã‚ˆã‚‹åŠ¹æœã‚’è¦‹ã¦ã„ããŸã„ã¨ã“ã‚   > WRAPUPWRAPUP \n\nElixirã¯å¥åº·ç®¡ç†ã«å‘ã„ã¦ã„ã‚‹ã€‚   txt \n\nã€Œãªã‚“ã‹ä½“èª¿ãŒã™ãã‚Œãªã„ãªã‚...ã€ ã€ŒElixirã¡ã‚‡ã†ã ã„!ã€   \n\nã¨ã„ã†æ„Ÿã˜ã€‚"},"name":"[2018-12-22]Elixirã¨Raspberry Piã§PM2.5ãªã©ã®ç’°å¢ƒãƒ‡ãƒ¼ã‚¿ã‚’å®šç‚¹è¦³å¯Ÿã—ã€ç›®ãƒ»å–‰ã®ç—›ã¿ã«å‚™ãˆã‚‹","tags":["elixir","raspberry-pi","particulates","physiology"],"childPublishedDate":{"published_on":"2018-12-22T00:00:00.000Z","published_on_unix":1545436800}}},{"node":{"number":58,"relative_category":"blog/backend","fields":{"title":"WSLï¼ˆWindows Subsystem for Linuxï¼‰ã§Dockerã‚’ã¤ã‹ã£ãŸWebã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³é–‹ç™ºã‚’ãŠã“ãªã†éš›ã®æ³¨æ„ç‚¹","excerpt":"ã“ã‚Œã¯ç„¡å®—æ•™ãªãªã³ã®  ãŒæ›¸ãDocker Advent Calendar 2017ç”¨è¨˜äº‹ã§ã™ã€‚å‰æ—¥ã¯inductorã•ã‚“ã®ã€ŒDocker Meetupã®ä¸­èº«ã¾ã¨ã‚ã€ã§ã—ãŸ  ï¼ˆå†™çœŸã¯ã‚¯ãƒªã‚¹ãƒã‚¹ã‚’æ—¥æœ¬ã«ã²ã‚ã‚ãŸæ˜æ²»å±‹ ï¼‰   > PROBLEMPROBLEM \n\n- macOSã¨Windowsã§Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³é–‹ç™ºã‚’ã™ã‚‹éš›ã« ç’°å¢ƒãŒç•°ãªã£ã¦ç®¡ç†ã—ã¥ã‚‰ã„ ãã‚Œãªã‚‰Dockerã§ ã¨æ€ã£ãŸãŒã€macOSã¯Bashã§Windowsã¯PowerShellãªã®ã‹ ã›ã‚ã¦PowerShellã§ã¯ãªãBash... ã¨ãªã‚‹ã¨ã€ã„ã¾Windowsã§Linuxç’°å¢ƒã‚’ã¤ã‹ã†ãªã‚‰WSLã‹ ãŸã ã€å®Ÿéš›ã©ã“ã¾ã§é–‹ç™ºãŒã§ãã‚‹ã‹ã‚ã‹ã‚‰ã‚“ã—ãªã‚ \n- ç’°å¢ƒãŒç•°ãªã£ã¦ç®¡ç†ã—ã¥ã‚‰ã„ ãã‚Œãªã‚‰Dockerã§ ã¨æ€ã£ãŸãŒã€macOSã¯Bashã§Windowsã¯PowerShellãªã®ã‹ ã›ã‚ã¦PowerShellã§ã¯ãªãBash... ã¨ãªã‚‹ã¨ã€ã„ã¾Windowsã§Linuxç’°å¢ƒã‚’ã¤ã‹ã†ãªã‚‰WSLã‹ ãŸã ã€å®Ÿéš›ã©ã“ã¾ã§é–‹ç™ºãŒã§ãã‚‹ã‹ã‚ã‹ã‚‰ã‚“ã—ãªã‚ \n- ãã‚Œãªã‚‰Dockerã§ ã¨æ€ã£ãŸãŒã€macOSã¯Bashã§Windowsã¯PowerShellãªã®ã‹ ã›ã‚ã¦PowerShellã§ã¯ãªãBash... ã¨ãªã‚‹ã¨ã€ã„ã¾Windowsã§Linuxç’°å¢ƒã‚’ã¤ã‹ã†ãªã‚‰WSLã‹ ãŸã ã€å®Ÿéš›ã©ã“ã¾ã§é–‹ç™ºãŒã§ãã‚‹ã‹ã‚ã‹ã‚‰ã‚“ã—ãªã‚ \n- ã¨æ€ã£ãŸãŒã€macOSã¯Bashã§Windowsã¯PowerShellãªã®ã‹ ã›ã‚ã¦PowerShellã§ã¯ãªãBash... ã¨ãªã‚‹ã¨ã€ã„ã¾Windowsã§Linuxç’°å¢ƒã‚’ã¤ã‹ã†ãªã‚‰WSLã‹ ãŸã ã€å®Ÿéš›ã©ã“ã¾ã§é–‹ç™ºãŒã§ãã‚‹ã‹ã‚ã‹ã‚‰ã‚“ã—ãªã‚ \n- ã›ã‚ã¦PowerShellã§ã¯ãªãBash... ã¨ãªã‚‹ã¨ã€ã„ã¾Windowsã§Linuxç’°å¢ƒã‚’ã¤ã‹ã†ãªã‚‰WSLã‹ ãŸã ã€å®Ÿéš›ã©ã“ã¾ã§é–‹ç™ºãŒã§ãã‚‹ã‹ã‚ã‹ã‚‰ã‚“ã—ãªã‚ \n- ã¨ãªã‚‹ã¨ã€ã„ã¾Windowsã§Linuxç’°å¢ƒã‚’ã¤ã‹ã†ãªã‚‰WSLã‹ ãŸã ã€å®Ÿéš›ã©ã“ã¾ã§é–‹ç™ºãŒã§ãã‚‹ã‹ã‚ã‹ã‚‰ã‚“ã—ãªã‚ \n- ãŸã ã€å®Ÿéš›ã©ã“ã¾ã§é–‹ç™ºãŒã§ãã‚‹ã‹ã‚ã‹ã‚‰ã‚“ã—ãªã‚   > SOLUTIONSOLUTION \n\nã¨ã„ã†ã‚ã‘ã§ã€ã“ã®è¨˜äº‹ã§ã¯macOSã¨Windowsã«ã‚ˆã‚‹Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³é–‹ç™ºã«ã¤ã„ã¦ã€ã©ã“ã¾ã§å…±æœ‰ã§ãã‚‹ã‹æ›¸ã„ã¦ã„ãã¾ã™ã€‚ \n\nå‰ææ¡ä»¶ã¨ã—ã¦ã€å½“è©²Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯macOSã¨ã„ã†ã‚ˆã‚Šã€Bash/Ubuntu14.04~ã®Linuxç’°å¢ƒã§å‹•ãã“ã¨ã‚’æƒ³å®šã—ã¦ã„ã¾ã™ã€‚macOSã¯HFS+ã‚„APFSã®Unicodeæ­£è¦åŒ–ä»¥å¤–ã¯ãŠãŠã‚ˆãLinuxç’°å¢ƒã«é©å¿œã§ãã¦ã„ã‚‹ã¨ã„ã†åˆ¤æ–­ã«ã‚ˆã‚Šã¾ã™ã€‚ \n\nè¦ã¯ã€WSLã§Dockerã‚’ã¤ã‹ã£ãŸWebã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³é–‹ç™ºãŒã§ãã‚‹ã‹ã©ã†ã‹ã¨ã„ã†ç‚¹ã«ç„¦ç‚¹ã‚’ã—ã¼ã‚Šã¾ã™ã€‚   > å¯¾è±¡ç’°å¢ƒå¯¾è±¡ç’°å¢ƒ \n\n- Windows 10 Pro 1709 16299.64 Hyper-V 10.0.16299.15 Docker for Windows 17.09.0-ce-win33 Ubuntu 16.04 (Linux 4.4.0-43-Microsoft) Docker Client 1.12.6 \n- Hyper-V 10.0.16299.15\n- Docker for Windows 17.09.0-ce-win33\n- Ubuntu 16.04 (Linux 4.4.0-43-Microsoft) Docker Client 1.12.6 \n- Docker Client 1.12.6   > Windowsã®é–‹ç™ºç’°å¢ƒã‚’æ§‹ç¯‰ã™ã‚‹Windowsã®é–‹ç™ºç’°å¢ƒã‚’æ§‹ç¯‰ã™ã‚‹ \n\nã¾ãšã€Windowsã®é–‹ç™ºç’°å¢ƒã®æ§‹ç¯‰ã§ã™ãŒã€æ—¢çŸ¥ã®æƒ…å ±ã‚’ãµã¾ãˆã¤ã¤TIPSã‚’é †æ¬¡ç´¹ä»‹ã—ã¾ã™ã€‚   > WSLã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«WSLã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« \n\n- Windows Subsystem for Linuxã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã¿ã‚ˆã†ï¼ \n\nWSLã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç®¡ç†ã¯ä¸‹è¨˜3ã¤ã‚’æŠ¼ã•ãˆã¦ãŠã‘ã°å•é¡Œãªã„ã§ã—ã‚‡ã†ã€‚ \n\n1. apt WSLã§ã¯ãƒ‡ãƒ¼ãƒ¢ãƒ³ãŒã¤ã‹ãˆãªã„ã®ã§Dockerã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’å…¥ã‚Œã¾ã—ã‚‡ã†ã€Dockerãƒ‡ãƒ¼ãƒ¢ãƒ³ã®è©³ç´°ã¯å¾Œã»ã©è¨€åŠã—ã¾ã™ \n2. WSLã§ã¯ãƒ‡ãƒ¼ãƒ¢ãƒ³ãŒã¤ã‹ãˆãªã„ã®ã§Dockerã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’å…¥ã‚Œã¾ã—ã‚‡ã†ã€Dockerãƒ‡ãƒ¼ãƒ¢ãƒ³ã®è©³ç´°ã¯å¾Œã»ã©è¨€åŠã—ã¾ã™\n3. anyenv ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã‚’ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã”ã¨ã«ã‚ã‘ã¦ä½¿ã„ãŸã„å ´åˆã¯ã“ã¡ã‚‰ã‚’ã¤ã‹ã„ã¾ã—ã‚‡ã† exenvãŒãƒ“ãƒ«ãƒ‰ã§å¤±æ•—ã™ã‚‹ãŸã‚Elixirã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ããªã„ã»ã‹ã¯ã€å„è¨€èªå•é¡Œãªããƒ“ãƒ«ãƒ‰ã§ãã¾ã™ \n4. ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã‚’ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã”ã¨ã«ã‚ã‘ã¦ä½¿ã„ãŸã„å ´åˆã¯ã“ã¡ã‚‰ã‚’ã¤ã‹ã„ã¾ã—ã‚‡ã†\n5. exenvãŒãƒ“ãƒ«ãƒ‰ã§å¤±æ•—ã™ã‚‹ãŸã‚Elixirã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ããªã„ã»ã‹ã¯ã€å„è¨€èªå•é¡Œãªããƒ“ãƒ«ãƒ‰ã§ãã¾ã™\n6. nix Elixirã‚„Haskellã®ã‚ˆã†ã«anyenvã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ããªã„ã€ã‚ã‚‹ã„ã¯ã€æ‰±ã‚ã‚Œã„ãªã„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¯nixã‚’ã¤ã‹ã„ã¾ã—ã‚‡ã† ã¾ãŸã€aptã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒå¤ã™ãã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚‚nixãŒæœ€é©ã§ã™ \n7. Elixirã‚„Haskellã®ã‚ˆã†ã«anyenvã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ããªã„ã€ã‚ã‚‹ã„ã¯ã€æ‰±ã‚ã‚Œã„ãªã„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¯nixã‚’ã¤ã‹ã„ã¾ã—ã‚‡ã†\n8. ã¾ãŸã€aptã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒå¤ã™ãã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚‚nixãŒæœ€é©ã§ã™   > ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« \n\nWSLttyã‹ConEmuã‚’ãŠã™ã™ã‚ã—ã¾ã™ã€‚å„ã€…ã®ç‰¹å¾´ã¯ä¸‹è¨˜ã®ã¨ãŠã‚Šã§ã™ãŒã€é€šå¸¸ã®Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³é–‹ç™ºã§ã‚ã‚Œã°WSLttyãŒã„ã„ã§ã—ã‚‡ã†ã€‚ \n\n- WSLtty Pros ConEmuã¨ãã‚‰ã¹ã¦ãƒ•ã‚¡ã‚¤ãƒ«ã®èª­è¾¼é€Ÿåº¦ãŒé€Ÿã„ (VMã‚ˆã‚Šã¯é…ã„) Emacsã§Ctrl-SPC set-mark ãŒæ©Ÿèƒ½ã™ã‚‹ ç”»é¢ã‚µã‚¤ã‚ºã®å¤‰æ›´ãŒæŸ”è»Ÿ Cons PowerShellãªã©ã»ã‹ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã®å‘¼ã³å‡ºã—ãŒé¢å€’ \n- Pros ConEmuã¨ãã‚‰ã¹ã¦ãƒ•ã‚¡ã‚¤ãƒ«ã®èª­è¾¼é€Ÿåº¦ãŒé€Ÿã„ (VMã‚ˆã‚Šã¯é…ã„) Emacsã§Ctrl-SPC set-mark ãŒæ©Ÿèƒ½ã™ã‚‹ ç”»é¢ã‚µã‚¤ã‚ºã®å¤‰æ›´ãŒæŸ”è»Ÿ \n- ConEmuã¨ãã‚‰ã¹ã¦ãƒ•ã‚¡ã‚¤ãƒ«ã®èª­è¾¼é€Ÿåº¦ãŒé€Ÿã„ (VMã‚ˆã‚Šã¯é…ã„)\n- Emacsã§Ctrl-SPC set-mark ãŒæ©Ÿèƒ½ã™ã‚‹\n- ç”»é¢ã‚µã‚¤ã‚ºã®å¤‰æ›´ãŒæŸ”è»Ÿ\n- Cons PowerShellãªã©ã»ã‹ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã®å‘¼ã³å‡ºã—ãŒé¢å€’ \n- PowerShellãªã©ã»ã‹ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã®å‘¼ã³å‡ºã—ãŒé¢å€’\n- ConEmu Pros PowerShellãªã©ã»ã‹ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã®å‘¼ã³å‡ºã—ãŒæ¥½ Cons ãƒ•ã‚¡ã‚¤ãƒ«ã®èª­è¾¼é€Ÿåº¦ãŒãŠãã„ Emacsã§Ctrl-SPC set-mark ãŒæ©Ÿèƒ½ã—ãªã„ ç”»é¢ã‚µã‚¤ã‚ºã®å¤‰æ›´ã«åˆ¶é™ãŒã‚ã‚‹ \n- Pros PowerShellãªã©ã»ã‹ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã®å‘¼ã³å‡ºã—ãŒæ¥½ \n- PowerShellãªã©ã»ã‹ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã®å‘¼ã³å‡ºã—ãŒæ¥½\n- Cons ãƒ•ã‚¡ã‚¤ãƒ«ã®èª­è¾¼é€Ÿåº¦ãŒãŠãã„ Emacsã§Ctrl-SPC set-mark ãŒæ©Ÿèƒ½ã—ãªã„ ç”»é¢ã‚µã‚¤ã‚ºã®å¤‰æ›´ã«åˆ¶é™ãŒã‚ã‚‹ \n- ãƒ•ã‚¡ã‚¤ãƒ«ã®èª­è¾¼é€Ÿåº¦ãŒãŠãã„\n- Emacsã§Ctrl-SPC set-mark ãŒæ©Ÿèƒ½ã—ãªã„\n- ç”»é¢ã‚µã‚¤ã‚ºã®å¤‰æ›´ã«åˆ¶é™ãŒã‚ã‚‹   > WSLttyWSLtty \n\n- mintty/wsltty \n\nWSLç”¨ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã¨ã—ã¦ã®Minttyã§ã™ã€‚æ“ä½œã¯Minttyã¨ã‹ã‚ã‚‰ãšã€å…ƒCygwinã¥ã‹ã„ã«ã¯ã†ã‚Œã—ã„æ“ä½œæ„Ÿã§ã™ã€‚ã¨ã„ã†ã‚ã‘ã§ã€ã„ã¤ã‚‚ã®ã”ã¨ãèµ·å‹•ç”¨ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã®ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‚’æº–å‚™ã—ã¾ã™ã€‚WSLã¯ chsh ãŒã¤ã‹ãˆãªã„ã®ã§ãƒ­ã‚°ã‚¤ãƒ³æ™‚ã«ã¤ã‹ã„ãŸã„ã‚·ã‚§ãƒ«ã‚’æŒ‡å®šã—ã¾ã™ã€‚ã‚‚ã—ã€ screen ã‚’ã¤ã‹ã„ãŸã„å ´åˆã¯ /run/screen ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆã—ã¦ã‹ã‚‰ã‚³ãƒãƒ³ãƒ‰æŒ‡å®šã—ã¾ã™ã€‚   bat \n\n%LOCALAPPDATA%\\wsltty\\bin\\mintty.exe --wsl -o Locale=C -o Charset=UTF-8 /bin/wslbridge -t /bin/bash -c 'sudo mkdir /run/screen && sudo chmod 775 $_ && sudo chown root:utmp $_ && SHELL=/usr/bin/zsh screen'   ConEmu \n\n- ConEmu - Handy Windows Terminal \n\nWSLä¸Šã§æ—¥æœ¬èªã‚’è¡¨ç¤ºã™ã‚‹ãŸã‚ã€ã¾ãŸã€WSLã®Linuxç’°å¢ƒã¨Windowsç’°å¢ƒã§ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’ã‚ã‘ã‚‹ãŸã‚ã€ConEmuã‚’ã¤ã‹ã„ã¾ã—ã‚‡ã†ã€‚ConEmuã‚’ã‚¹ãƒãƒ¼ãƒˆã«ã—ãŸCmderã¯WSLã¨ã®ç›¸æ€§ãŒã‚ã‚‹ã„1ã®ã§ãŠã™ã™ã‚ã—ã¾ã›ã‚“ã€‚ \n\nConEmuã®è¨­å®šã€ŒStartup-Tasksã€ã§ã¯ã€WSLç”¨ã«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã€ã‚³ãƒãƒ³ãƒ‰ã‚’ä¸‹è¨˜ã®ã‚ˆã†ã«æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚   bash \n\n# task parameters /icon \"C:\\Program Files\\WindowsApps\\CanonicalGroupLimited.UbuntuonWindows_1604.2017.922.0_x64__79rhkp1fndgsc\\images\\icon.ico\" # task command bash -c 'sudo mkdir /run/screen && sudo chmod 775 $_ && sudo chown root:utmp $_ && SHELL=/usr/bin/zsh screen' -new_console:d:%USERPROFILE%     > Docker for Windowsã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«Docker for Windowsã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« \n\n- Docker For Windows \n\nWSLã§ã¯Dockerãƒ‡ãƒ¼ãƒ¢ãƒ³ãŒã¤ã‹ãˆãªã„ã®ã§NTFS (WSLã‹ã‚‰ã¿ã‚‹ã¨drvfs) å´ã§ç”¨æ„ã—ã¾ã™ã€‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¯Dockerã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒšãƒ¼ã‚¸ã‹ã‚‰æ‰‹é †é€šã‚ŠãŠã“ãªã„ã¾ã™ã€‚ \n\næ§‹æˆã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚  \n\nDockerã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰Dockerãƒ‡ãƒ¼ãƒ¢ãƒ³ã«ã¤ãªãã«ã¯ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒªã‚¹ã‚¯ã¯ã‚ã‚Šã¾ã™ãŒã€ DOCKER_HOST ã‚’ã¤ã‹ã†ã®ãŒç°¡æ˜“çš„ã§ã™ã€‚Docker for Windowsã¨Dockerã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã€å„ã€…è¨­å®šã—ã¾ã™ã€‚ \n\n1. Docker for Windowsã‚ˆã‚ŠDockerãƒ‡ãƒ¼ãƒ¢ãƒ³ã‚’ã€ŒExpose daemon on tcp://localhost:2375 without TLSã€ã¨ã—ã¦è¨­å®š\n2. WSLä¸Šã®Dockerã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã« DOCKER_HOST=tcp://0.0.0.0:2375 ã‚’è¨­å®š \n\nWSLã«ã¯ä¸‹è¨˜ã®ã‚ˆã†ãªaliasã‚’ç”¨æ„ã—ã¦ãŠãã¨ã„ã„ã§ã—ã‚‡ã†ã€‚   bash \n\nexport DOCKER_HOST=tcp://0.0.0.0:2375 alias docker=\"DOCKER_HOST=${DOCKER_HOST} docker\" alias docker-compose=\"docker-compose -H ${DOCKER_HOST}\"     > ã•ã¦ã€WSLã‹ã‚‰Docker for Windowsã¯ã©ã®ç¨‹åº¦ã¤ã‹ãˆã‚‹ã®ã‹ã•ã¦ã€WSLã‹ã‚‰Docker for Windowsã¯ã©ã®ç¨‹åº¦ã¤ã‹ãˆã‚‹ã®ã‹ \n\nWSLãŒlxfsã€Docker for WindowsãŒNTFS (drvfs) ä¸Šã§å‹•ã„ã¦ã„ã‚‹ã“ã¨ã‹ã‚‰ã‚ã‹ã‚‹ã‚ˆã†ã«ã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ä¸Šã®åˆ¶ç´„ãŒã‚ã‚Šã¾ã™ã€‚å…·ä½“çš„ã«ã¯ä¸‹è¨˜4ç‚¹ã§ã™ã€‚ \n\n1. Docker for Windowsã¯NTFS (WSLã‹ã‚‰ã¿ã‚‹ã¨drvfs /mnt/) ä¸Šã®ãƒ•ã‚¡ã‚¤ãƒ«ã—ã‹Volumeãƒã‚¦ãƒ³ãƒˆã§ãã¾ã›ã‚“\n2. WSLã¯Linuxå½¢å¼ã®ãƒ‘ã‚¹ã—ã‹æ‰±ãˆã¾ã›ã‚“ã€C:\\Dev ã®ã‚ˆã†ãªãƒ‰ãƒ©ã‚¤ãƒ–åã«ã‚³ãƒ­ãƒ³ã‚’ã¤ã‘ãŸURIã‚¹ã‚­ãƒ¼ãƒã¯æ‰±ãˆã¾ã›ã‚“\n3. WSLä¸Šã®docker-composeã¯ãƒ‘ã‚¹ã‚’çµ¶å¯¾å‚ç…§ã—ã‹ã§ãã¾ã›ã‚“ã€ç›¸å¯¾å‚ç…§ã§ãã¾ã›ã‚“2 \n4. WSLä¸Šã®npm/yarnã«ã‚ˆã‚‹JSãƒ“ãƒ«ãƒ‰ã‚’NTFS (drvfs)ä¸Šã§ãŠã“ãªã†ã¨ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™3  \n\nã²ã¨ã¤ãšã¤è§£æ±ºæ–¹æ³•ã‚’è¦‹ã¦ã„ãã¾ã—ã‚‡ã†ã€‚   > 1. Docker for Windowsã¯NTFS (WSLã‹ã‚‰ã¿ã‚‹ã¨drvfs /mnt/) ä¸Šã®ãƒ•ã‚¡ã‚¤ãƒ«ã—ã‹Volumeãƒã‚¦ãƒ³ãƒˆã§ãã¾ã›ã‚“1. Docker for Windowsã¯NTFS (WSLã‹ã‚‰ã¿ã‚‹ã¨drvfs /mnt/) ä¸Šã®ãƒ•ã‚¡ã‚¤ãƒ«ã—ã‹Volumeãƒã‚¦ãƒ³ãƒˆã§ãã¾ã›ã‚“ \n\né–‹ç™ºç”¨ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’NTFSä¸Šã«ã¤ãã‚Šã¾ã—ã‚‡ã†ã€‚æ™®æ®µã‹ã‚‰Windowsã§é–‹ç™ºã•ã‚Œã¦ã„ã‚‹æ–¹ã¯Cãƒ‰ãƒ©ã‚¤ãƒ–ç›´ä¸‹ã«ã¤ãã£ã¦ã„ã‚‹ã¨ãŠã‚‚ã„ã¾ã™ã€‚   > 2. WSLã¯Linuxå½¢å¼ã®ãƒ‘ã‚¹ã—ã‹æ‰±ãˆã¾ã›ã‚“ã€ãƒ‰ãƒ©ã‚¤ãƒ–åã«ã‚³ãƒ­ãƒ³ã‚’ã¤ã‘ãŸURIã‚¹ã‚­ãƒ¼ãƒã¯æ‰±ãˆã¾ã›ã‚“2. WSLã¯Linuxå½¢å¼ã®ãƒ‘ã‚¹ã—ã‹æ‰±ãˆã¾ã›ã‚“ã€ãƒ‰ãƒ©ã‚¤ãƒ–åã«ã‚³ãƒ­ãƒ³ã‚’ã¤ã‘ãŸURIã‚¹ã‚­ãƒ¼ãƒã¯æ‰±ãˆã¾ã›ã‚“ \n\nNTFSã‹ã‚‰ã®ãƒ‘ã‚¹å‚ç…§ã¨WSLã‹ã‚‰ã®ãƒ‘ã‚¹å‚ç…§ã‚’å…±é€šåŒ–ã™ã‚‹ãŸã‚ã«ã€WSLã«å„ãƒ‰ãƒ©ã‚¤ãƒ–ã®ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯ã‚’ã¯ã‚Šã¾ã—ã‚‡ã†ã€‚   bash \n\n$ ln -s /mnt/c /C # é–‹ç™ºãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¯ã“ã‚“ãªæ„Ÿã˜ã§å‚ç…§ã§ãã¾ã™ $ ls -al /C/Dev total 0 drwxrwxrwx 0 root root 512 Oct 27 00:54 . drwxrwxrwx 0 root root 512 Dec 8 07:49 .. drwxrwxrwx 0 root root 512 Jul 14 03:06 app-test-1 drwxrwxrwx 0 root root 512 Oct 25 00:38 app-test-2     > 3. WSLä¸Šã®docker-composeã¯ãƒ‘ã‚¹ã‚’çµ¶å¯¾å‚ç…§ã—ã‹ã§ãã¾ã›ã‚“ã€ç›¸å¯¾å‚ç…§ã§ãã¾ã›ã‚“3. WSLä¸Šã®docker-composeã¯ãƒ‘ã‚¹ã‚’çµ¶å¯¾å‚ç…§ã—ã‹ã§ãã¾ã›ã‚“ã€ç›¸å¯¾å‚ç…§ã§ãã¾ã›ã‚“ \n\nå„OSé–“ã§ã®é•ã„ã‚’å¸åã™ã‚‹ãŸã‚ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã« PRJ_ROOT ã®ã‚ˆã†ãªç’°å¢ƒå¤‰æ•°ã‚’ç”¨æ„ã—ã¾ã—ã‚‡ã†ã€‚   yaml \n\nservices: app-front: image: 561534604247952616898.dkr.ecr.amazonaws.com/test/front volumes: - ${PRJ_ROOT}/front:/var/www/front     > 4. WSLä¸Šã®npm/yarnã«ã‚ˆã‚‹JSãƒ“ãƒ«ãƒ‰ã‚’NTFS (drvfs)ä¸Šã§ãŠã“ãªã†ã¨ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™4. WSLä¸Šã®npm/yarnã«ã‚ˆã‚‹JSãƒ“ãƒ«ãƒ‰ã‚’NTFS (drvfs)ä¸Šã§ãŠã“ãªã†ã¨ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™ \n\nã“ã¡ã‚‰ã¯Fall Creators Updateã®ãƒ‡ã‚°ãƒ¬ã§ã™ãŒã€æ›´æ–°ãƒ—ãƒ­ã‚°ãƒ©ãƒ  (KB4051963) ã§ã“ã®å•é¡ŒãŒä¿®æ­£ã•ã‚Œã¾ã—ãŸ  \n\nã‚‚ã—æ›´æ–°ãƒ—ãƒ­ã‚°ãƒ©ãƒ ãŒé©ç”¨ã§ããªã„å ´åˆã¯ã€ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯ã§NTFSä¸Šã®node_modulesãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’WSLã«ç§»ã—ã¾ã—ã‚‡ã†ã€‚   bash \n\n$ mkdir /home/foo/tmp/app-test-1/front/node_modules $ ln -s /home/foo/tmp/app-test-1/front/node_modules /C/Dev/app-test-1/front/node_modules     > WRAPUPWRAPUP \n\nã¾ã æœªæ¤œè¨¼ãªéƒ¨åˆ†ã¯ã®ã“ã£ã¦ã„ã¾ã™ãŒã€ã²ã¨ã¨ãŠã‚ŠmacOSã¨Windowsã«ã‚ˆã‚‹Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³é–‹ç™ºã¯å…±æœ‰ã§ãã‚‹ã¨ã“ã‚ã¾ã§ãã¦ã„ã‚‹ã€ã¨è¨€ãˆãã†ã§ã™ã€‚ \n\néšæ™‚ã€æ°—ã«ãªã‚‹èª²é¡ŒãŒå‡ºã¦ããŸã‚‰è¿½è¨˜ã—ã¾ã™ã€‚  \n\n1. https://github.com/cmderdev/cmder/issues/901 â†© \n2. https://github.com/docker/compose/issues/4039#issuecomment-269558432 â†© \n3. https://github.com/Microsoft/WSL/issues/2448 â†©"},"name":"[2017-12-10]WSLï¼ˆWindows Subsystem for Linuxï¼‰ã§Dockerã‚’ã¤ã‹ã£ãŸWebã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³é–‹ç™ºã‚’ãŠã“ãªã†éš›ã®æ³¨æ„ç‚¹","tags":["wsl","docker","ubuntu"],"childPublishedDate":{"published_on":"2017-12-10T00:00:00.000Z","published_on_unix":1512864000}}}]}},"pageContext":{"number":49}},"staticQueryHashes":[]}