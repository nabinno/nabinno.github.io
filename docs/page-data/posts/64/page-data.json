{"componentChunkName":"component---src-templates-post-tsx","path":"/posts/64","result":{"data":{"esaPost":{"number":64,"relative_category":"blog/backend","fields":{"title":"WSL2時代のDocker開発スタイル","excerpt":"6月13日は狂喜乱舞しました、久しぶりに徹夜するくらい興奮しました。そう、WSL2が出たのですよね。先日やっと私の手元に届いたので早々に検証しました。   > PROBLEMPROBLEM \n\n- あたらしくでたWSL2によって以前書いた記事からだいぶ状況が変わった 主な変更点 WSLのアーキテクチャが2種類になり、WSLはその2つのアーキテクチャを管理する機能に変わった WSL1 Windows Subsystem for Linux上のLinux (LXCore/Lxss) WSL2 軽量Hyper-V上のLinux (Linux Kernel) /procや/sysなどの特殊ファイルもふくめた共有プロトコル「9P」が実装された Win32側の9Pクライアント 9prdr.sys WSL側の9Pクライアント /init \n- 主な変更点 WSLのアーキテクチャが2種類になり、WSLはその2つのアーキテクチャを管理する機能に変わった WSL1 Windows Subsystem for Linux上のLinux (LXCore/Lxss) WSL2 軽量Hyper-V上のLinux (Linux Kernel) /procや/sysなどの特殊ファイルもふくめた共有プロトコル「9P」が実装された Win32側の9Pクライアント 9prdr.sys WSL側の9Pクライアント /init \n- WSLのアーキテクチャが2種類になり、WSLはその2つのアーキテクチャを管理する機能に変わった WSL1 Windows Subsystem for Linux上のLinux (LXCore/Lxss) WSL2 軽量Hyper-V上のLinux (Linux Kernel) \n- WSL1 Windows Subsystem for Linux上のLinux (LXCore/Lxss)\n- WSL2 軽量Hyper-V上のLinux (Linux Kernel)\n- /procや/sysなどの特殊ファイルもふくめた共有プロトコル「9P」が実装された Win32側の9Pクライアント 9prdr.sys WSL側の9Pクライアント /init \n- Win32側の9Pクライアント 9prdr.sys \n- WSL側の9Pクライアント /init    > SOLUTIONSOLUTION \n\nというわけで、前記事で掲げていた目標「WSLでDockerをつかったWebアプリケーション開発ができるかどうか」について再確認します。   > 対象環境対象環境 \n\n- Windows 10 Pro Version 1903 OS Build 18922.1000 Windows Terminal (Preview) Version 0.2.1715.0 WSL2 Ubuntu Version 1804.2019.5210 (Linux 4.19.43-microsoft-standard) Docker version 19.03.0-rc3, build 27fcb77 WSL1 Ubuntu 18.04 LTS Version 1804.2019.522.0 (Linux 4.4.0-18922-Microsoft) \n- Windows Terminal (Preview) Version 0.2.1715.0\n- WSL2 Ubuntu Version 1804.2019.5210 (Linux 4.19.43-microsoft-standard) Docker version 19.03.0-rc3, build 27fcb77 \n- Ubuntu Version 1804.2019.5210 (Linux 4.19.43-microsoft-standard)\n- Docker version 19.03.0-rc3, build 27fcb77\n- WSL1 Ubuntu 18.04 LTS Version 1804.2019.522.0 (Linux 4.4.0-18922-Microsoft) \n- Ubuntu 18.04 LTS Version 1804.2019.522.0 (Linux 4.4.0-18922-Microsoft)   > Windowsの開発環境を構築するWindowsの開発環境を構築する \n\nまず、Windowsの開発環境の構築ですが、既知の情報をふまえつつTIPSを順次紹介します。   > WSLのインストールWSLのインストール \n\n- WSL2を使ってみる (InsiderPreview) \n\nWSLのパッケージ管理は下記2つを押さえておけば問題ないでしょう。 \n\n1. asdf/anyenv プログラミング言語をバージョンごとにわけて使いたい場合はこちらをつかいましょう 関数言語界隈ではasdfが主流になってきてるようです。 \n2. プログラミング言語をバージョンごとにわけて使いたい場合はこちらをつかいましょう\n3. 関数言語界隈ではasdfが主流になってきてるようです。\n4. nix Haskellのようにasdf/anyenvでインストールできない、あるいは、扱われいないパッケージはnixをつかいましょう また、aptのバージョンが古すぎるパッケージもnixが最適です \n5. Haskellのようにasdf/anyenvでインストールできない、あるいは、扱われいないパッケージはnixをつかいましょう\n6. また、aptのバージョンが古すぎるパッケージもnixが最適です   > ターミナルのインストールターミナルのインストール \n\nWSLttyはWSL2に対応しておらずConEmuは描画がくずれやすいため、デフォルトのターミナルかWindows Terminalが選択肢となります。 \n\nWindows TerminalとConEmuとの比較    - Windows Terminal ConEmu     透過対象 backgroundImage ConEmu自体   キーバインド制約 Alt+Shiftが効かない 特になし   WSL2の描画 特になし くずれる   管理者権限で実行 初回のみ タスク実行ごと      > DockerのインストールDockerのインストール \n\nWSL1ではDockerデーモンがつかえないのでWSL2でDockerをつかうようにしましょう。Docker CEをインストールします。 \n\nどうしてもWSL1でということであれば、Win32 (WSL1からみるとdrvfs) 側でDocker For Windowsを用意します。インストールはDockerのダウンロードページから手順通りおこないます。\n 構成等は前回の記事を参照ください。   > さて、WSL2からDockerはどの程度つかえるのかさて、WSL2からDockerはどの程度つかえるのか \n\nWSL2は軽量Hyper-V上にLinuxコンテナを動かしているので、基本Hyper-Vと同様にDockerをつかうことができます。 \n\nただし、WSL1と違いlocalhostにWSL2がバインドできません (2019-07-27追記: Build Version 18945で解決しました )。\n また、WSL1と同様にWin32・WSL間でのファイルの読み書きにパフォーマンスの差が大きく出ています。 \n\nひとつずつ解決方法を見ていきましょう。   > 1. WSL1と違いlocalhostにWSL2がバインドできません1. WSL1と違いlocalhostにWSL2がバインドできません \n\nWSL2がつかっているVirtual Switchはinternal onlyのため、Win32側からlocalhostをつかってWSL2にアクセスすることができません。現在対応中のようです (2019-07-27追記: Build Version 18945で解決しました )。 \n\n対処方法は2つあります。 \n\na. WSL1をつかう \n\nこれが一番楽ですが、WSL1は次項であげるパフォーマンス上の欠点があるので、Web系フロントエンド開発におけるライブリローディング機能をつかうケースに限定するといいでしょう。 \n\nb. Hostsファイルをつかう \n\nWin32のHostsファイルでWSL2のeth0インターフェイスのIPアドレスに適当なホスト名を割り当てます（ポートごとにホストを振り分けたい場合はWSL2側にProxyを用意するといいでしょう）。   shell \n\n# C:\\Windows\\System32\\drivers\\etc\\hosts 172.17.72.217 dashboard.local.me   \n\nWSL2のIPアドレスはコンテナを立ち上げるごとに変わるので、下記のようなコマンドレットをWin32側のPowerShell $PROFILEに用意しておくといいでしょう。WSL2だけで完結したい方はシェル上から powershell.exe -Command 'Sync-HostsToWslIp' と打つだけです。   powershell \n\n# $PROFILE function Sync-HostsToWslIp { $hosts = \"$env:SystemRoot\\System32\\drivers\\etc\\hosts\"; $pattern = \"\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\"; $wslip = bash.exe -c \"ifconfig eth0 | grep 'inet '\"; if ($wslip -match $pattern) { $wslip = $matches[0]; } else { echo \"The Script Exited, the ip address of WSL 2 cannot be found\"; exit; } cat $hosts | %{ $_ -match $pattern } $rc = cat $hosts | %{ $_ -replace $matches[0], $wslip } $rc | Out-File $hosts; }     > 2. WSL1と同様にWin32・WSL間でのファイルの読み書きにパフォーマンスの差が大きく出ています2. WSL1と同様にWin32・WSL間でのファイルの読み書きにパフォーマンスの差が大きく出ています \n\nいろんな方がベンチマークを公開してるのでそれを参考にするといいでしょう。 \n\nCf. \n\n- Pythonでファイル操作のベンチマーク\n- dd、git cloneのベンチマーク \n\nわたしは git status -sb をよくつかうので、そのコマンドで簡単なベンチマークとりました。   shell \n\n# WSLx $ cd ~/nabinno.github.io $ \\time -f %e git status -sb # Win32/WSLx $ cd ~/nabinno.github.io $ \\time -f %e powershell.exe -Command 'git status -sb' # Win32 PS> cd ~/nabinno.github.io PS> (Measure-Command { git status -sb }).TotalMilliseconds / 1000 | %{ [math]::Round($_, 2) }      Subject WSL Win32     WSL1 0.47 0.09   WSL2 0.00 0.61   Win32/WSL1 2.66 1.91   Win32/WSL2 2.81 1.79   Win32 0.51 0.12      > Docker以外でWSLの課題はないのかDocker以外でWSLの課題はないのか   > デバイスへのアクセスデバイスへのアクセス \n\n以前から要望があったものだと「デバイスアクセスができない」件があります。 \n\n9P導入前だとこれはElixirのIoTフレームワークNervesのように、WSL UtilitiesでWSLパスをWin32パスに変換してからWin32にあるデバイス関連ツールをつかうのが簡単な解決策でした。   sh \n\n$ fwup.exe -a -i $(wslpath -w -a _build/rpi0_dev/nerves/images/hello_nerves.fw) -t complete -d $(fwup.exe -D | sed 's/,.*//')   \n\nただし9Pを導入したWindows 10 Version 1903以降は、WSL1もWSL2もともにWSLパスを変換せずにWin32にあるデバイス関連ツールをつかうことができます。   sh \n\n$ fwup.exe -a -i _build/rpi0_dev/nerves/images/hello_nerves.fw -t complete -d $(fwup.exe -D | sed 's/,.*//')     > WRAPUPWRAPUP \n\nわたしの観測範囲では課題はほぼ問題ない状態になっていました。 \n\nおすすめ開発環境は下記のとおり    item content     IDE WSLx上のエディタ   Webフロントエンド開発 WSL1   Docker関連開発 WSL2   dotfiles WSLx、Win32を共有管理    \n\nWin32側のIDEをつかっているユーザーはパフォーマンス上の不満がまだあるかもしれませんが、WSLでDockerをつかったWebアプリケーション開発は十分できる、と言えそうです。つまり、Linux・macOS・WindowsによるWebアプリケーション開発は十分共有できる、と。 \n\nいい時代になりました。","thumbnail":"https://img.esa.io/uploads/production/attachments/16651/2021/01/11/97367/3f687a61-ff91-4a70-875d-d6c739416630.png"},"wip":false,"body_md":"<img width=\"1130\" alt=\"thumbnail\" src=\"https://img.esa.io/uploads/production/attachments/16651/2021/01/11/97367/3f687a61-ff91-4a70-875d-d6c739416630.png\" />\r\n6月13日は狂喜乱舞しました、久しぶりに徹夜するくらい興奮しました。そう、WSL2が出たのですよね。先日やっと私の手元に届いたので早々に検証しました。\r\n\r\n# PROBLEM\r\n- あたらしくでたWSL2によって[以前書いた記事](/posts/58)からだいぶ状況が変わった\r\n    - 主な変更点\r\n\t    - WSLのアーキテクチャが2種類になり、WSLはその2つのアーキテクチャを管理する機能に変わった\r\n            - WSL1 Windows Subsystem for Linux上のLinux (LXCore/Lxss)\r\n            - WSL2 軽量Hyper-V上のLinux (Linux Kernel)\r\n        - /procや/sysなどの特殊ファイルもふくめた共有プロトコル「9P」が実装された\r\n            - Win32側の9Pクライアント `9prdr.sys`\r\n            - WSL側の9Pクライアント `/init`\r\n\r\n# SOLUTION\r\nというわけで、前記事で掲げていた目標「WSLでDockerをつかったWebアプリケーション開発ができるかどうか」について再確認します。\r\n\r\n## 対象環境\r\n- Windows 10 Pro Version 1903 OS Build 18922.1000\r\n    - Windows Terminal (Preview) Version 0.2.1715.0\r\n    - WSL2\r\n\t    - Ubuntu Version 1804.2019.5210 (Linux 4.19.43-microsoft-standard)\r\n        - Docker version 19.03.0-rc3, build 27fcb77\r\n    - WSL1\r\n\t    - Ubuntu 18.04 LTS Version 1804.2019.522.0 (Linux 4.4.0-18922-Microsoft)\r\n\r\n## Windowsの開発環境を構築する\r\nまず、Windowsの開発環境の構築ですが、既知の情報をふまえつつTIPSを順次紹介します。\r\n\r\n### WSLのインストール\r\n- [WSL2を使ってみる (InsiderPreview)](https://qiita.com/namoshika/items/53a9ac2df7eace656870)\r\n\r\nWSLのパッケージ管理は下記2つを押さえておけば問題ないでしょう。\r\n1. [asdf](https://github.com/asdf-vm/asdf)/[anyenv](https://github.com/riywo/anyenv)\r\n    - プログラミング言語をバージョンごとにわけて使いたい場合はこちらをつかいましょう\r\n    - 関数言語界隈ではasdfが主流になってきてるようです。\r\n2. [nix](https://nixos.org/nix/)\r\n    - Haskellのようにasdf/anyenvでインストールできない、あるいは、扱われいないパッケージはnixをつかいましょう\r\n    - また、aptのバージョンが古すぎるパッケージもnixが最適です\r\n\r\n### ターミナルのインストール\r\nWSLttyはWSL2に対応しておらずConEmuは描画がくずれやすいため、デフォルトのターミナルか[Windows Terminal](https://www.microsoft.com/en-us/p/windows-terminal-preview/9n0dx20hk701?WT.mc_id=-blog-scottha&wa=wsignin1.0&activetab=pivot:overviewtab)が選択肢となります。\r\n\r\n**Windows TerminalとConEmuとの比較**\r\n\r\n| -                | Windows Terminal    | ConEmu         |\r\n| ---              | ---                 | ---            |\r\n| 透過対象         | backgroundImage     | ConEmu自体     |\r\n| キーバインド制約 | Alt+Shiftが効かない | 特になし       |\r\n| WSL2の描画       | 特になし            | くずれる       |\r\n| 管理者権限で実行 | 初回のみ            | タスク実行ごと |\r\n\r\n### Dockerのインストール\r\nWSL1ではDockerデーモンがつかえないのでWSL2でDockerをつかうようにしましょう。[Docker CE](https://docs.docker.com/install/linux/docker-ce/ubuntu/)をインストールします。\r\n\r\nどうしてもWSL1でということであれば、Win32 (WSL1からみるとdrvfs) 側で[Docker For Windows](https://www.docker.com/docker-windows)を用意します。インストールはDockerのダウンロードページから手順通りおこないます。\r\n構成等は[前回の記事](/posts/58#docker-for-windowsのインストール)を参照ください。\r\n\r\n## さて、WSL2からDockerはどの程度つかえるのか\r\nWSL2は軽量Hyper-V上にLinuxコンテナを動かしているので、基本Hyper-Vと同様にDockerをつかうことができます。\r\n\r\nただし、~~WSL1と違いlocalhostにWSL2がバインドできません~~ (2019-07-27追記: [Build Version 18945で解決しました](https://devblogs.microsoft.com/commandline/whats-new-for-wsl-in-insiders-preview-build-18945/) :tada:)。\r\nまた、WSL1と同様にWin32・WSL間でのファイルの読み書きにパフォーマンスの差が大きく出ています。\r\n\r\nひとつずつ解決方法を見ていきましょう。\r\n\r\n### 1. WSL1と違いlocalhostにWSL2がバインドできません\r\nWSL2がつかっているVirtual Switchはinternal onlyのため、Win32側からlocalhostをつかってWSL2にアクセスすることができません。[現在対応中のようです](https://docs.microsoft.com/en-us/windows/wsl/wsl2-faq#will-wsl-2-be-able-to-use-networking-applications) (2019-07-27追記: [Build Version 18945で解決しました](https://devblogs.microsoft.com/commandline/whats-new-for-wsl-in-insiders-preview-build-18945/) :tada:)。\r\n\r\n対処方法は2つあります。\r\n\r\n**a. WSL1をつかう**\r\n\r\nこれが一番楽ですが、WSL1は次項であげるパフォーマンス上の欠点があるので、Web系フロントエンド開発におけるライブリローディング機能をつかうケースに限定するといいでしょう。\r\n\r\n**b. Hostsファイルをつかう**\r\n\r\nWin32のHostsファイルでWSL2のeth0インターフェイスのIPアドレスに適当なホスト名を割り当てます（ポートごとにホストを振り分けたい場合はWSL2側にProxyを用意するといいでしょう）。\r\n\r\n```shell\r\n# C:\\Windows\\System32\\drivers\\etc\\hosts\r\n\r\n172.17.72.217 dashboard.local.me\r\n```\r\n\r\nWSL2のIPアドレスはコンテナを立ち上げるごとに変わるので、下記のようなコマンドレットをWin32側のPowerShell $PROFILEに用意しておくといいでしょう。WSL2だけで完結したい方はシェル上から `powershell.exe -Command 'Sync-HostsToWslIp'` と打つだけです。\r\n\r\n```powershell\r\n# $PROFILE\r\n\r\nfunction Sync-HostsToWslIp {\r\n  $hosts = \"$env:SystemRoot\\System32\\drivers\\etc\\hosts\";\r\n  $pattern = \"\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\";\r\n  $wslip = bash.exe -c \"ifconfig eth0 | grep 'inet '\";\r\n  if ($wslip -match $pattern) {\r\n    $wslip = $matches[0];\r\n  } else {\r\n    echo \"The Script Exited, the ip address of WSL 2 cannot be found\";\r\n    exit;\r\n  }\r\n  cat $hosts | %{ $_ -match $pattern }\r\n  $rc = cat $hosts | %{ $_ -replace $matches[0], $wslip }\r\n  $rc | Out-File $hosts;\r\n}\r\n```\r\n\r\n### 2. WSL1と同様にWin32・WSL間でのファイルの読み書きにパフォーマンスの差が大きく出ています\r\nいろんな方がベンチマークを公開してるのでそれを参考にするといいでしょう。\r\n\r\n**Cf.**\r\n\r\n- [Pythonでファイル操作のベンチマーク](https://twitter.com/ZahmbieND/status/1139921840351170560?s=20)\r\n- [dd、git cloneのベンチマーク](https://qiita.com/kunit/items/051196022763e64e91f6)\r\n\r\nわたしは `git status -sb` をよくつかうので、そのコマンドで簡単なベンチマークとりました。\r\n\r\n```shell\r\n# WSLx\r\n$ cd ~/nabinno.github.io\r\n$ \\time -f %e git status -sb \r\n\r\n# Win32/WSLx\r\n$ cd ~/nabinno.github.io\r\n$ \\time -f %e powershell.exe -Command 'git status -sb'\r\n\r\n# Win32\r\nPS> cd ~/nabinno.github.io\r\nPS> (Measure-Command { git status -sb }).TotalMilliseconds / 1000 | %{ [math]::Round($_, 2) }\r\n```\r\n\r\n| Subject    | WSL  | Win32 |\r\n| ---        | ---  | ---   |\r\n| WSL1       | 0.47 | 0.09  |\r\n| WSL2       | 0.00 | 0.61  |\r\n| Win32/WSL1 | 2.66 | 1.91  |\r\n| Win32/WSL2 | 2.81 | 1.79  |\r\n| Win32      | 0.51 | 0.12  |\r\n\r\n## Docker以外でWSLの課題はないのか\r\n### デバイスへのアクセス\r\n以前から要望があったものだと「デバイスアクセスができない」件があります。\r\n\r\n9P導入前だとこれはElixirのIoTフレームワークNervesのように、[WSL Utilities](https://github.com/wslutilities/wslu)でWSLパスをWin32パスに変換してからWin32にあるデバイス関連ツールをつかうのが簡単な解決策でした。\r\n\r\n```sh\r\n$ fwup.exe -a -i $(wslpath -w -a _build/rpi0_dev/nerves/images/hello_nerves.fw) -t complete -d $(fwup.exe -D | sed 's/,.*//')\r\n```\r\n\r\nただし9Pを導入したWindows 10 Version 1903以降は、WSL1もWSL2もともにWSLパスを変換せずにWin32にあるデバイス関連ツールをつかうことができます。\r\n\r\n```sh\r\n$ fwup.exe -a -i _build/rpi0_dev/nerves/images/hello_nerves.fw -t complete -d $(fwup.exe -D | sed 's/,.*//')\r\n```\r\n\r\n# WRAPUP\r\nわたしの観測範囲では課題はほぼ問題ない状態になっていました。\r\n\r\n**おすすめ開発環境は下記のとおり**\r\n\r\n| item                  | content               |\r\n| ---                   | ---                   |\r\n| IDE                   | WSLx上のエディタ      |\r\n| Webフロントエンド開発 | WSL1                  |\r\n| Docker関連開発        | WSL2                  |\r\n| dotfiles              | WSLx、Win32を共有管理 |\r\n\r\nWin32側のIDEをつかっているユーザーはパフォーマンス上の不満がまだあるかもしれませんが、WSLでDockerをつかったWebアプリケーション開発は十分できる、と言えそうです。つまり、Linux・macOS・WindowsによるWebアプリケーション開発は十分共有できる、と。\r\n\r\nいい時代になりました。\r\n\r\n","body_html":"<a href=\"https://img.esa.io/uploads/production/attachments/16651/2021/01/11/97367/3f687a61-ff91-4a70-875d-d6c739416630.png\" target=\"_blank\" rel=\"noopener noreferrer\"><img width=\"1130\" alt=\"thumbnail\" src=\"https://img.esa.io/uploads/production/attachments/16651/2021/01/11/97367/3f687a61-ff91-4a70-875d-d6c739416630.png\"></a>\n6月13日は狂喜乱舞しました、久しぶりに徹夜するくらい興奮しました。そう、WSL2が出たのですよね。先日やっと私の手元に届いたので早々に検証しました。\n<h1 data-sourcepos=\"4:1-4:9\" id=\"1-0-0\" name=\"1-0-0\">\n<a class=\"anchor\" id=\"PROBLEM\" name=\"PROBLEM\" href=\"#PROBLEM\" data-position=\"1-0-0\"><i class=\"fa fa-link\"></i><span class=\"hidden\" data-text=\"PROBLEM\"> &gt; PROBLEM</span></a>PROBLEM</h1>\n<ul data-sourcepos=\"5:1-13:0\">\n<li data-sourcepos=\"5:1-13:0\">あたらしくでたWSL2によって<a href=\"/posts/58\">以前書いた記事</a>からだいぶ状況が変わった\n<ul data-sourcepos=\"6:5-13:0\">\n<li data-sourcepos=\"6:5-13:0\">主な変更点\n<ul data-sourcepos=\"7:6-13:0\">\n<li data-sourcepos=\"7:6-9:58\">WSLのアーキテクチャが2種類になり、WSLはその2つのアーキテクチャを管理する機能に変わった\n<ul data-sourcepos=\"8:13-9:58\">\n<li data-sourcepos=\"8:13-8:71\">WSL1 Windows Subsystem for Linux上のLinux (LXCore/Lxss)</li>\n<li data-sourcepos=\"9:13-9:58\">WSL2 軽量Hyper-V上のLinux (Linux Kernel)</li>\n</ul>\n</li>\n<li data-sourcepos=\"10:9-13:0\">/procや/sysなどの特殊ファイルもふくめた共有プロトコル「9P」が実装された\n<ul data-sourcepos=\"11:13-13:0\">\n<li data-sourcepos=\"11:13-11:57\">Win32側の9Pクライアント <code>9prdr.sys</code>\n</li>\n<li data-sourcepos=\"12:13-13:0\">WSL側の9Pクライアント <code>/init</code>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h1 data-sourcepos=\"14:1-14:10\" id=\"2-0-0\" name=\"2-0-0\">\n<a class=\"anchor\" id=\"SOLUTION\" name=\"SOLUTION\" href=\"#SOLUTION\" data-position=\"2-0-0\"><i class=\"fa fa-link\"></i><span class=\"hidden\" data-text=\"SOLUTION\"> &gt; SOLUTION</span></a>SOLUTION</h1>\n<p data-sourcepos=\"15:1-15:177\">というわけで、前記事で掲げていた目標「WSLでDockerをつかったWebアプリケーション開発ができるかどうか」について再確認します。</p>\n<h2 data-sourcepos=\"17:1-17:15\" id=\"2-1-0\" name=\"2-1-0\">\n<a class=\"anchor\" id=\"対象環境\" name=\"%E5%AF%BE%E8%B1%A1%E7%92%B0%E5%A2%83\" href=\"#%E5%AF%BE%E8%B1%A1%E7%92%B0%E5%A2%83\" data-position=\"2-1-0\"><i class=\"fa fa-link\"></i><span class=\"hidden\" data-text=\"対象環境\"> &gt; 対象環境</span></a>対象環境</h2>\n<ul data-sourcepos=\"18:1-25:0\">\n<li data-sourcepos=\"18:1-25:0\">Windows 10 Pro Version 1903 OS Build 18922.1000\n<ul data-sourcepos=\"19:5-25:0\">\n<li data-sourcepos=\"19:5-19:51\">Windows Terminal (Preview) Version 0.2.1715.0</li>\n<li data-sourcepos=\"20:5-22:51\">WSL2\n<ul data-sourcepos=\"21:6-22:51\">\n<li data-sourcepos=\"21:6-21:71\">Ubuntu Version 1804.2019.5210 (Linux 4.19.43-microsoft-standard)</li>\n<li data-sourcepos=\"22:9-22:51\">Docker version 19.03.0-rc3, build 27fcb77</li>\n</ul>\n</li>\n<li data-sourcepos=\"23:5-25:0\">WSL1\n<ul data-sourcepos=\"24:6-25:0\">\n<li data-sourcepos=\"24:6-25:0\">Ubuntu 18.04 LTS Version 1804.2019.522.0 (Linux 4.4.0-18922-Microsoft)</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2 data-sourcepos=\"26:1-26:40\" id=\"2-2-0\" name=\"2-2-0\">\n<a class=\"anchor\" id=\"Windowsの開発環境を構築する\" name=\"Windows%E3%81%AE%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83%E3%82%92%E6%A7%8B%E7%AF%89%E3%81%99%E3%82%8B\" href=\"#Windows%E3%81%AE%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83%E3%82%92%E6%A7%8B%E7%AF%89%E3%81%99%E3%82%8B\" data-position=\"2-2-0\"><i class=\"fa fa-link\"></i><span class=\"hidden\" data-text=\"Windowsの開発環境を構築する\"> &gt; Windowsの開発環境を構築する</span></a>Windowsの開発環境を構築する</h2>\n<p data-sourcepos=\"27:1-27:116\">まず、Windowsの開発環境の構築ですが、既知の情報をふまえつつTIPSを順次紹介します。</p>\n<h3 data-sourcepos=\"29:1-29:28\" id=\"2-2-1\" name=\"2-2-1\">\n<a class=\"anchor\" id=\"WSLのインストール\" name=\"WSL%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\" href=\"#WSL%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\" data-position=\"2-2-1\"><i class=\"fa fa-link\"></i><span class=\"hidden\" data-text=\"WSLのインストール\"> &gt; WSLのインストール</span></a>WSLのインストール</h3>\n<ul data-sourcepos=\"30:1-31:0\">\n<li data-sourcepos=\"30:1-31:0\"><a href=\"https://qiita.com/namoshika/items/53a9ac2df7eace656870\" target=\"_blank\" rel=\"noopener noreferrer\">WSL2を使ってみる (InsiderPreview)</a></li>\n</ul>\n<p data-sourcepos=\"32:1-32:91\">WSLのパッケージ管理は下記2つを押さえておけば問題ないでしょう。</p>\n<ol data-sourcepos=\"33:1-39:0\">\n<li data-sourcepos=\"33:1-35:79\">\n<a href=\"https://github.com/asdf-vm/asdf\" target=\"_blank\" rel=\"noopener noreferrer\">asdf</a>/<a href=\"https://github.com/riywo/anyenv\" target=\"_blank\" rel=\"noopener noreferrer\">anyenv</a>\n<ul data-sourcepos=\"34:5-35:79\">\n<li data-sourcepos=\"34:5-34:123\">プログラミング言語をバージョンごとにわけて使いたい場合はこちらをつかいましょう</li>\n<li data-sourcepos=\"35:5-35:79\">関数言語界隈ではasdfが主流になってきてるようです。</li>\n</ul>\n</li>\n<li data-sourcepos=\"36:1-39:0\">\n<a href=\"https://nixos.org/nix/\" target=\"_blank\" rel=\"noopener noreferrer\">nix</a>\n<ul data-sourcepos=\"37:5-39:0\">\n<li data-sourcepos=\"37:5-37:150\">Haskellのようにasdf/anyenvでインストールできない、あるいは、扱われいないパッケージはnixをつかいましょう</li>\n<li data-sourcepos=\"38:5-39:0\">また、aptのバージョンが古すぎるパッケージもnixが最適です</li>\n</ul>\n</li>\n</ol>\n<h3 data-sourcepos=\"40:1-40:40\" id=\"2-2-2\" name=\"2-2-2\">\n<a class=\"anchor\" id=\"ターミナルのインストール\" name=\"%E3%82%BF%E3%83%BC%E3%83%9F%E3%83%8A%E3%83%AB%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\" href=\"#%E3%82%BF%E3%83%BC%E3%83%9F%E3%83%8A%E3%83%AB%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\" data-position=\"2-2-2\"><i class=\"fa fa-link\"></i><span class=\"hidden\" data-text=\"ターミナルのインストール\"> &gt; ターミナルのインストール</span></a>ターミナルのインストール</h3>\n<p data-sourcepos=\"41:1-41:304\">WSLttyはWSL2に対応しておらずConEmuは描画がくずれやすいため、デフォルトのターミナルか<a href=\"https://www.microsoft.com/en-us/p/windows-terminal-preview/9n0dx20hk701?WT.mc_id=-blog-scottha&amp;wa=wsignin1.0&amp;activetab=pivot:overviewtab\" target=\"_blank\" rel=\"noopener noreferrer\">Windows Terminal</a>が選択肢となります。</p>\n<p data-sourcepos=\"43:1-43:41\"><strong>Windows TerminalとConEmuとの比較</strong></p>\n<table data-sourcepos=\"45:1-50:78\">\n<thead>\n<tr data-sourcepos=\"45:1-45:59\">\n<th data-sourcepos=\"45:2-45:19\">-</th>\n<th data-sourcepos=\"45:21-45:41\">Windows Terminal</th>\n<th data-sourcepos=\"45:43-45:58\">ConEmu</th>\n</tr>\n</thead>\n<tbody>\n<tr data-sourcepos=\"47:1-47:65\">\n<td data-sourcepos=\"47:2-47:23\">透過対象</td>\n<td data-sourcepos=\"47:25-47:45\">backgroundImage</td>\n<td data-sourcepos=\"47:47-47:64\">ConEmu自体</td>\n</tr>\n<tr data-sourcepos=\"48:1-48:76\">\n<td data-sourcepos=\"48:2-48:27\">キーバインド制約</td>\n<td data-sourcepos=\"48:29-48:54\">Alt+Shiftが効かない</td>\n<td data-sourcepos=\"48:56-48:75\">特になし</td>\n</tr>\n<tr data-sourcepos=\"49:1-49:70\">\n<td data-sourcepos=\"49:2-49:22\">WSL2の描画</td>\n<td data-sourcepos=\"49:24-49:48\">特になし</td>\n<td data-sourcepos=\"49:50-49:69\">くずれる</td>\n</tr>\n<tr data-sourcepos=\"50:1-50:78\">\n<td data-sourcepos=\"50:2-50:27\">管理者権限で実行</td>\n<td data-sourcepos=\"50:29-50:53\">初回のみ</td>\n<td data-sourcepos=\"50:55-50:77\">タスク実行ごと</td>\n</tr>\n</tbody>\n</table>\n<h3 data-sourcepos=\"52:1-52:31\" id=\"2-2-3\" name=\"2-2-3\">\n<a class=\"anchor\" id=\"Dockerのインストール\" name=\"Docker%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\" href=\"#Docker%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\" data-position=\"2-2-3\"><i class=\"fa fa-link\"></i><span class=\"hidden\" data-text=\"Dockerのインストール\"> &gt; Dockerのインストール</span></a>Dockerのインストール</h3>\n<p data-sourcepos=\"53:1-53:205\">WSL1ではDockerデーモンがつかえないのでWSL2でDockerをつかうようにしましょう。<a href=\"https://docs.docker.com/install/linux/docker-ce/ubuntu/\" target=\"_blank\" rel=\"noopener noreferrer\">Docker CE</a>をインストールします。</p>\n<p data-sourcepos=\"55:1-56:104\">どうしてもWSL1でということであれば、Win32 (WSL1からみるとdrvfs) 側で<a href=\"https://www.docker.com/docker-windows\" target=\"_blank\" rel=\"noopener noreferrer\">Docker For Windows</a>を用意します。インストールはDockerのダウンロードページから手順通りおこないます。<br>\n構成等は<a href=\"/posts/58#docker-for-windows%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\">前回の記事</a>を参照ください。</p>\n<h2 data-sourcepos=\"58:1-58:61\" id=\"2-3-0\" name=\"2-3-0\">\n<a class=\"anchor\" id=\"さて、WSL2からDockerはどの程度つかえるのか\" name=\"%E3%81%95%E3%81%A6%E3%80%81WSL2%E3%81%8B%E3%82%89Docker%E3%81%AF%E3%81%A9%E3%81%AE%E7%A8%8B%E5%BA%A6%E3%81%A4%E3%81%8B%E3%81%88%E3%82%8B%E3%81%AE%E3%81%8B\" href=\"#%E3%81%95%E3%81%A6%E3%80%81WSL2%E3%81%8B%E3%82%89Docker%E3%81%AF%E3%81%A9%E3%81%AE%E7%A8%8B%E5%BA%A6%E3%81%A4%E3%81%8B%E3%81%88%E3%82%8B%E3%81%AE%E3%81%8B\" data-position=\"2-3-0\"><i class=\"fa fa-link\"></i><span class=\"hidden\" data-text=\"さて、WSL2からDockerはどの程度つかえるのか\"> &gt; さて、WSL2からDockerはどの程度つかえるのか</span></a>さて、WSL2からDockerはどの程度つかえるのか</h2>\n<p data-sourcepos=\"59:1-59:140\">WSL2は軽量Hyper-V上にLinuxコンテナを動かしているので、基本Hyper-Vと同様にDockerをつかうことができます。</p>\n<p data-sourcepos=\"61:1-62:132\">ただし、<del>WSL1と違いlocalhostにWSL2がバインドできません</del> (2019-07-27追記: <a href=\"https://devblogs.microsoft.com/commandline/whats-new-for-wsl-in-insiders-preview-build-18945/\" target=\"_blank\" rel=\"noopener noreferrer\">Build Version 18945で解決しました</a> <img class=\"emoji\" title=\":tada:\" alt=\":tada:\" src=\"https://assets.esa.io/images/emoji/unicode/1f389.png\">)。<br>\nまた、WSL1と同様にWin32・WSL間でのファイルの読み書きにパフォーマンスの差が大きく出ています。</p>\n<p data-sourcepos=\"64:1-64:57\">ひとつずつ解決方法を見ていきましょう。</p>\n<h3 data-sourcepos=\"66:1-66:66\" id=\"2-3-1\" name=\"2-3-1\">\n<a class=\"anchor\" id=\"1. WSL1と違いlocalhostにWSL2がバインドできません\" name=\"1.%20WSL1%E3%81%A8%E9%81%95%E3%81%84localhost%E3%81%ABWSL2%E3%81%8C%E3%83%90%E3%82%A4%E3%83%B3%E3%83%89%E3%81%A7%E3%81%8D%E3%81%BE%E3%81%9B%E3%82%93\" href=\"#1.%20WSL1%E3%81%A8%E9%81%95%E3%81%84localhost%E3%81%ABWSL2%E3%81%8C%E3%83%90%E3%82%A4%E3%83%B3%E3%83%89%E3%81%A7%E3%81%8D%E3%81%BE%E3%81%9B%E3%82%93\" data-position=\"2-3-1\"><i class=\"fa fa-link\"></i><span class=\"hidden\" data-text=\"1. WSL1と違いlocalhostにWSL2がバインドできません\"> &gt; 1. WSL1と違いlocalhostにWSL2がバインドできません</span></a>1. WSL1と違いlocalhostにWSL2がバインドできません</h3>\n<p data-sourcepos=\"67:1-67:462\">WSL2がつかっているVirtual Switchはinternal onlyのため、Win32側からlocalhostをつかってWSL2にアクセスすることができません。<a href=\"https://docs.microsoft.com/en-us/windows/wsl/wsl2-faq#will-wsl-2-be-able-to-use-networking-applications\" target=\"_blank\" rel=\"noopener noreferrer\">現在対応中のようです</a> (2019-07-27追記: <a href=\"https://devblogs.microsoft.com/commandline/whats-new-for-wsl-in-insiders-preview-build-18945/\" target=\"_blank\" rel=\"noopener noreferrer\">Build Version 18945で解決しました</a> <img class=\"emoji\" title=\":tada:\" alt=\":tada:\" src=\"https://assets.esa.io/images/emoji/unicode/1f389.png\">)。</p>\n<p data-sourcepos=\"69:1-69:34\">対処方法は2つあります。</p>\n<p data-sourcepos=\"71:1-71:23\"><strong>a. WSL1をつかう</strong></p>\n<p data-sourcepos=\"73:1-73:247\">これが一番楽ですが、WSL1は次項であげるパフォーマンス上の欠点があるので、Web系フロントエンド開発におけるライブリローディング機能をつかうケースに限定するといいでしょう。</p>\n<p data-sourcepos=\"75:1-75:36\"><strong>b. Hostsファイルをつかう</strong></p>\n<p data-sourcepos=\"77:1-77:242\">Win32のHostsファイルでWSL2のeth0インターフェイスのIPアドレスに適当なホスト名を割り当てます（ポートごとにホストを振り分けたい場合はWSL2側にProxyを用意するといいでしょう）。</p>\n<div class=\"code-block\" data-sourcepos=\"79:1-83:3\">\n<div class=\"code-filename\">\n<i class=\"fa fa-file-code-o\"></i>shell</div>\n<div class=\"highlight\"><pre class=\"highlight shell\"><code><span class=\"c\"># C:\\Windows\\System32\\drivers\\etc\\hosts</span>\n\n172.17.72.217 dashboard.local.me\n</code></pre></div>\n</div>\n<p data-sourcepos=\"85:1-85:321\">WSL2のIPアドレスはコンテナを立ち上げるごとに変わるので、下記のようなコマンドレットをWin32側のPowerShell $PROFILEに用意しておくといいでしょう。WSL2だけで完結したい方はシェル上から <code>powershell.exe -Command 'Sync-HostsToWslIp'</code> と打つだけです。</p>\n<div class=\"code-block\" data-sourcepos=\"87:1-104:3\">\n<div class=\"code-filename\">\n<i class=\"fa fa-file-code-o\"></i>powershell</div>\n<div class=\"highlight\"><pre class=\"highlight powershell\"><code><span class=\"c\"># $PROFILE</span><span class=\"w\">\n\n</span><span class=\"kr\">function</span><span class=\"w\"> </span><span class=\"nf\">Sync-HostsToWslIp</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"nv\">$hosts</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s2\">\"</span><span class=\"nv\">$</span><span class=\"nn\">env</span><span class=\"p\">:</span><span class=\"nv\">SystemRoot</span><span class=\"s2\">\\System32\\drivers\\etc\\hosts\"</span><span class=\"p\">;</span><span class=\"w\">\n  </span><span class=\"nv\">$pattern</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s2\">\"\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\"</span><span class=\"p\">;</span><span class=\"w\">\n  </span><span class=\"nv\">$wslip</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">bash.exe</span><span class=\"w\"> </span><span class=\"nt\">-c</span><span class=\"w\"> </span><span class=\"s2\">\"ifconfig eth0 | grep 'inet '\"</span><span class=\"p\">;</span><span class=\"w\">\n  </span><span class=\"kr\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"nv\">$wslip</span><span class=\"w\"> </span><span class=\"o\">-match</span><span class=\"w\"> </span><span class=\"nv\">$pattern</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n    </span><span class=\"nv\">$wslip</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nv\">$matches</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">];</span><span class=\"w\">\n  </span><span class=\"p\">}</span><span class=\"w\"> </span><span class=\"kr\">else</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n    </span><span class=\"n\">echo</span><span class=\"w\"> </span><span class=\"s2\">\"The Script Exited, the ip address of WSL 2 cannot be found\"</span><span class=\"p\">;</span><span class=\"w\">\n    </span><span class=\"kr\">exit</span><span class=\"p\">;</span><span class=\"w\">\n  </span><span class=\"p\">}</span><span class=\"w\">\n  </span><span class=\"n\">cat</span><span class=\"w\"> </span><span class=\"nv\">$hosts</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"o\">%</span><span class=\"p\">{</span><span class=\"w\"> </span><span class=\"bp\">$_</span><span class=\"w\"> </span><span class=\"o\">-match</span><span class=\"w\"> </span><span class=\"nv\">$pattern</span><span class=\"w\"> </span><span class=\"p\">}</span><span class=\"w\">\n  </span><span class=\"nv\">$rc</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">cat</span><span class=\"w\"> </span><span class=\"nv\">$hosts</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"o\">%</span><span class=\"p\">{</span><span class=\"w\"> </span><span class=\"bp\">$_</span><span class=\"w\"> </span><span class=\"o\">-replace</span><span class=\"w\"> </span><span class=\"nv\">$matches</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">],</span><span class=\"w\"> </span><span class=\"nv\">$wslip</span><span class=\"w\"> </span><span class=\"p\">}</span><span class=\"w\">\n  </span><span class=\"nv\">$rc</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"n\">Out-File</span><span class=\"w\"> </span><span class=\"nv\">$hosts</span><span class=\"p\">;</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></code></pre></div>\n</div>\n<h3 data-sourcepos=\"106:1-106:127\" id=\"2-3-2\" name=\"2-3-2\">\n<a class=\"anchor\" id=\"2. WSL1と同様にWin32・WSL間でのファイルの読み書きにパフォーマンスの差が大きく出ています\" name=\"2.%20WSL1%E3%81%A8%E5%90%8C%E6%A7%98%E3%81%ABWin32%E3%83%BBWSL%E9%96%93%E3%81%A7%E3%81%AE%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%AE%E8%AA%AD%E3%81%BF%E6%9B%B8%E3%81%8D%E3%81%AB%E3%83%91%E3%83%95%E3%82%A9%E3%83%BC%E3%83%9E%E3%83%B3%E3%82%B9%E3%81%AE%E5%B7%AE%E3%81%8C%E5%A4%A7%E3%81%8D%E3%81%8F%E5%87%BA%E3%81%A6%E3%81%84%E3%81%BE%E3%81%99\" href=\"#2.%20WSL1%E3%81%A8%E5%90%8C%E6%A7%98%E3%81%ABWin32%E3%83%BBWSL%E9%96%93%E3%81%A7%E3%81%AE%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%AE%E8%AA%AD%E3%81%BF%E6%9B%B8%E3%81%8D%E3%81%AB%E3%83%91%E3%83%95%E3%82%A9%E3%83%BC%E3%83%9E%E3%83%B3%E3%82%B9%E3%81%AE%E5%B7%AE%E3%81%8C%E5%A4%A7%E3%81%8D%E3%81%8F%E5%87%BA%E3%81%A6%E3%81%84%E3%81%BE%E3%81%99\" data-position=\"2-3-2\"><i class=\"fa fa-link\"></i><span class=\"hidden\" data-text=\"2. WSL1と同様にWin32・WSL間でのファイルの読み書きにパフォーマンスの差が大きく出ています\"> &gt; 2. WSL1と同様にWin32・WSL間でのファイルの読み書きにパフォーマンスの差が大きく出ています</span></a>2. WSL1と同様にWin32・WSL間でのファイルの読み書きにパフォーマンスの差が大きく出ています</h3>\n<p data-sourcepos=\"107:1-107:108\">いろんな方がベンチマークを公開してるのでそれを参考にするといいでしょう。</p>\n<p data-sourcepos=\"109:1-109:7\"><strong>Cf.</strong></p>\n<ul data-sourcepos=\"111:1-113:0\">\n<li data-sourcepos=\"111:1-111:115\"><a href=\"https://twitter.com/ZahmbieND/status/1139921840351170560?s=20\" target=\"_blank\" rel=\"noopener noreferrer\">Pythonでファイル操作のベンチマーク</a></li>\n<li data-sourcepos=\"112:1-113:0\"><a href=\"https://qiita.com/kunit/items/051196022763e64e91f6\" target=\"_blank\" rel=\"noopener noreferrer\">dd、git cloneのベンチマーク</a></li>\n</ul>\n<p data-sourcepos=\"114:1-114:123\">わたしは <code>git status -sb</code> をよくつかうので、そのコマンドで簡単なベンチマークとりました。</p>\n<div class=\"code-block\" data-sourcepos=\"116:1-128:3\">\n<div class=\"code-filename\">\n<i class=\"fa fa-file-code-o\"></i>shell</div>\n<div class=\"highlight\"><pre class=\"highlight shell\"><code><span class=\"c\"># WSLx</span>\n<span class=\"nv\">$ </span><span class=\"nb\">cd</span> ~/nabinno.github.io\n<span class=\"nv\">$ </span><span class=\"se\">\\t</span>ime <span class=\"nt\">-f</span> %e git status <span class=\"nt\">-sb</span> \n\n<span class=\"c\"># Win32/WSLx</span>\n<span class=\"nv\">$ </span><span class=\"nb\">cd</span> ~/nabinno.github.io\n<span class=\"nv\">$ </span><span class=\"se\">\\t</span>ime <span class=\"nt\">-f</span> %e powershell.exe <span class=\"nt\">-Command</span> <span class=\"s1\">'git status -sb'</span>\n\n<span class=\"c\"># Win32</span>\nPS&gt; <span class=\"nb\">cd</span> ~/nabinno.github.io\nPS&gt; <span class=\"o\">(</span>Measure-Command <span class=\"o\">{</span> git status <span class=\"nt\">-sb</span> <span class=\"o\">})</span>.TotalMilliseconds / 1000 | %<span class=\"o\">{</span> <span class=\"o\">[</span>math]::Round<span class=\"o\">(</span><span class=\"nv\">$_</span>, 2<span class=\"o\">)</span> <span class=\"o\">}</span>\n</code></pre></div>\n</div>\n<table data-sourcepos=\"130:1-136:29\">\n<thead>\n<tr data-sourcepos=\"130:1-130:29\">\n<th data-sourcepos=\"130:2-130:13\">Subject</th>\n<th data-sourcepos=\"130:15-130:20\">WSL</th>\n<th data-sourcepos=\"130:22-130:28\">Win32</th>\n</tr>\n</thead>\n<tbody>\n<tr data-sourcepos=\"132:1-132:29\">\n<td data-sourcepos=\"132:2-132:13\">WSL1</td>\n<td data-sourcepos=\"132:15-132:20\">0.47</td>\n<td data-sourcepos=\"132:22-132:28\">0.09</td>\n</tr>\n<tr data-sourcepos=\"133:1-133:29\">\n<td data-sourcepos=\"133:2-133:13\">WSL2</td>\n<td data-sourcepos=\"133:15-133:20\">0.00</td>\n<td data-sourcepos=\"133:22-133:28\">0.61</td>\n</tr>\n<tr data-sourcepos=\"134:1-134:29\">\n<td data-sourcepos=\"134:2-134:13\">Win32/WSL1</td>\n<td data-sourcepos=\"134:15-134:20\">2.66</td>\n<td data-sourcepos=\"134:22-134:28\">1.91</td>\n</tr>\n<tr data-sourcepos=\"135:1-135:29\">\n<td data-sourcepos=\"135:2-135:13\">Win32/WSL2</td>\n<td data-sourcepos=\"135:15-135:20\">2.81</td>\n<td data-sourcepos=\"135:22-135:28\">1.79</td>\n</tr>\n<tr data-sourcepos=\"136:1-136:29\">\n<td data-sourcepos=\"136:2-136:13\">Win32</td>\n<td data-sourcepos=\"136:15-136:20\">0.51</td>\n<td data-sourcepos=\"136:22-136:28\">0.12</td>\n</tr>\n</tbody>\n</table>\n<h2 data-sourcepos=\"138:1-138:45\" id=\"2-4-0\" name=\"2-4-0\">\n<a class=\"anchor\" id=\"Docker以外でWSLの課題はないのか\" name=\"Docker%E4%BB%A5%E5%A4%96%E3%81%A7WSL%E3%81%AE%E8%AA%B2%E9%A1%8C%E3%81%AF%E3%81%AA%E3%81%84%E3%81%AE%E3%81%8B\" href=\"#Docker%E4%BB%A5%E5%A4%96%E3%81%A7WSL%E3%81%AE%E8%AA%B2%E9%A1%8C%E3%81%AF%E3%81%AA%E3%81%84%E3%81%AE%E3%81%8B\" data-position=\"2-4-0\"><i class=\"fa fa-link\"></i><span class=\"hidden\" data-text=\"Docker以外でWSLの課題はないのか\"> &gt; Docker以外でWSLの課題はないのか</span></a>Docker以外でWSLの課題はないのか</h2>\n<h3 data-sourcepos=\"139:1-139:34\" id=\"2-4-1\" name=\"2-4-1\">\n<a class=\"anchor\" id=\"デバイスへのアクセス\" name=\"%E3%83%87%E3%83%90%E3%82%A4%E3%82%B9%E3%81%B8%E3%81%AE%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9\" href=\"#%E3%83%87%E3%83%90%E3%82%A4%E3%82%B9%E3%81%B8%E3%81%AE%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9\" data-position=\"2-4-1\"><i class=\"fa fa-link\"></i><span class=\"hidden\" data-text=\"デバイスへのアクセス\"> &gt; デバイスへのアクセス</span></a>デバイスへのアクセス</h3>\n<p data-sourcepos=\"140:1-140:108\">以前から要望があったものだと「デバイスアクセスができない」件があります。</p>\n<p data-sourcepos=\"142:1-142:269\">9P導入前だとこれはElixirのIoTフレームワークNervesのように、<a href=\"https://github.com/wslutilities/wslu\" target=\"_blank\" rel=\"noopener noreferrer\">WSL Utilities</a>でWSLパスをWin32パスに変換してからWin32にあるデバイス関連ツールをつかうのが簡単な解決策でした。</p>\n<div class=\"code-block\" data-sourcepos=\"144:1-146:3\">\n<div class=\"code-filename\">\n<i class=\"fa fa-file-code-o\"></i>sh</div>\n<div class=\"highlight\"><pre class=\"highlight shell\"><code><span class=\"nv\">$ </span>fwup.exe <span class=\"nt\">-a</span> <span class=\"nt\">-i</span> <span class=\"si\">$(</span>wslpath <span class=\"nt\">-w</span> <span class=\"nt\">-a</span> _build/rpi0_dev/nerves/images/hello_nerves.fw<span class=\"si\">)</span> <span class=\"nt\">-t</span> <span class=\"nb\">complete</span> <span class=\"nt\">-d</span> <span class=\"si\">$(</span>fwup.exe <span class=\"nt\">-D</span> | <span class=\"nb\">sed</span> <span class=\"s1\">'s/,.*//'</span><span class=\"si\">)</span>\n</code></pre></div>\n</div>\n<p data-sourcepos=\"148:1-148:188\">ただし9Pを導入したWindows 10 Version 1903以降は、WSL1もWSL2もともにWSLパスを変換せずにWin32にあるデバイス関連ツールをつかうことができます。</p>\n<div class=\"code-block\" data-sourcepos=\"150:1-152:3\">\n<div class=\"code-filename\">\n<i class=\"fa fa-file-code-o\"></i>sh</div>\n<div class=\"highlight\"><pre class=\"highlight shell\"><code><span class=\"nv\">$ </span>fwup.exe <span class=\"nt\">-a</span> <span class=\"nt\">-i</span> _build/rpi0_dev/nerves/images/hello_nerves.fw <span class=\"nt\">-t</span> <span class=\"nb\">complete</span> <span class=\"nt\">-d</span> <span class=\"si\">$(</span>fwup.exe <span class=\"nt\">-D</span> | <span class=\"nb\">sed</span> <span class=\"s1\">'s/,.*//'</span><span class=\"si\">)</span>\n</code></pre></div>\n</div>\n<h1 data-sourcepos=\"154:1-154:8\" id=\"3-0-0\" name=\"3-0-0\">\n<a class=\"anchor\" id=\"WRAPUP\" name=\"WRAPUP\" href=\"#WRAPUP\" data-position=\"3-0-0\"><i class=\"fa fa-link\"></i><span class=\"hidden\" data-text=\"WRAPUP\"> &gt; WRAPUP</span></a>WRAPUP</h1>\n<p data-sourcepos=\"155:1-155:90\">わたしの観測範囲では課題はほぼ問題ない状態になっていました。</p>\n<p data-sourcepos=\"157:1-157:49\"><strong>おすすめ開発環境は下記のとおり</strong></p>\n<table data-sourcepos=\"159:1-164:55\">\n<thead>\n<tr data-sourcepos=\"159:1-159:49\">\n<th data-sourcepos=\"159:2-159:24\">item</th>\n<th data-sourcepos=\"159:26-159:48\">content</th>\n</tr>\n</thead>\n<tbody>\n<tr data-sourcepos=\"161:1-161:55\">\n<td data-sourcepos=\"161:2-161:24\">IDE</td>\n<td data-sourcepos=\"161:26-161:54\">WSLx上のエディタ</td>\n</tr>\n<tr data-sourcepos=\"162:1-162:58\">\n<td data-sourcepos=\"162:2-162:33\">Webフロントエンド開発</td>\n<td data-sourcepos=\"162:35-162:57\">WSL1</td>\n</tr>\n<tr data-sourcepos=\"163:1-163:53\">\n<td data-sourcepos=\"163:2-163:28\">Docker関連開発</td>\n<td data-sourcepos=\"163:30-163:52\">WSL2</td>\n</tr>\n<tr data-sourcepos=\"164:1-164:55\">\n<td data-sourcepos=\"164:2-164:24\">dotfiles</td>\n<td data-sourcepos=\"164:26-164:54\">WSLx、Win32を共有管理</td>\n</tr>\n</tbody>\n</table>\n<p data-sourcepos=\"166:1-166:340\">Win32側のIDEをつかっているユーザーはパフォーマンス上の不満がまだあるかもしれませんが、WSLでDockerをつかったWebアプリケーション開発は十分できる、と言えそうです。つまり、Linux・macOS・WindowsによるWebアプリケーション開発は十分共有できる、と。</p>\n<p data-sourcepos=\"168:1-168:33\">いい時代になりました。</p>\n","tags":["wsl","wsl2","ubuntu"],"updated_at":"2021-01-15T21:48:15+09:00","childPublishedDate":{"published_on":"2019-07-06T00:00:00.000Z"},"updated_by":{"name":"なびの👷","screen_name":"nabinno","icon":"https://img.esa.io/uploads/production/members/94286/icon/thumb_m_7b757a0db07cde6a337af7df901ab0c5.jpg"}},"relatedPosts":{"edges":[{"node":{"number":66,"relative_category":"blog","fields":{"title":"On Blahfe","excerpt":"txt\n\n（小学校の作文より） ぼくは、二年の時、友達と自転車で、じゅくから帰ってくるとちゅう、トラックに足をふまれてしまいました。おほりの近くの道路でトラックが来たから、よけようとした時、ころんで足を道路にだしてしまったのです。 いたみは感じなかったのに、なぜか泣いてしまい、トラックのおじさんたちが「けがはなかったかい」と心配してくれました。それでも、ぼくが泣いてるもんだから、病院に行って、レントゲンで見てもらいました。全然いじょうはなかったそうです。 その時、ぼくはほっとして、これからは自分で安全を守ろうと、決心しました。ただ、三年になってしまうと、安全を守ろうなんていう決心は、とっくに忘れてしまいました。 三年の五月になって、お父さんと兄弟と友達で郡山ダムまでサイクリングに行きました。行くときは、よかったんだけど、帰りの時、坂で足をすべらして、自転車のスポークの中につま先をはめてしまいました。その勢いで、自転車が、一回転してしまいました。 たまたま車が通って、中の農家の人が「どうしたんだい」と、話しかけてくれました。ぼくは、足の方のいたさで、話すこともできませんでした。それから、農家の人が、心配して、家までつれていってくれました。 家に帰ると、安心して、泣いてしまいました。それから、病院に行ってレントゲンをとって見ると、お医者さんがだいじょうぶといっていました。とってもよかったです。 また、ぼくは、自分で安全を守ろうと、心に決めました。  \n\n※ 上記シーンは自身のテーマである「痛み」と向き合いながら、過去の出来事から学び取るエピソードとして描かれています。個人的な成長と共に、安全に対する意識も高めていく様子が見て取れます。  > サイト構成サイト構成 \n\nある方曰く、痛みとは人の根源だそうで。小学校の作文ではないですが、私がいつも気にしてるテーマです。 \n\n- 退屈\n- 寂しさ\n- 肉体の痛み\n- 健康喪失の恐れ\n- 金銭ストレス\n- 虚しさ \n\nこのブログは、PROBLEM-SOLUTIONの2つのセクションを通して、私自身の成長と向き合いながら、読者の皆さんにも共感を呼び起こすような内容を発信していきたいと考えています。PROBLEMは上記テーマのどれかが当てはまります。SOLUTIONでは、私が個人的に試してみた問題解決の手法やアプローチを紹介します。これらの方法は、私の職業や日常生活に近いものだけでなく、自分自身の成長や心の豊かさを追求するためのものも含まれています。人間の根源的な問題に直面する経験と、それに対する解決策を通して、共に成長していくことを願っています。"},"name":"[2017-01-31]On Blahfe","tags":["blahfe"],"childPublishedDate":{"published_on":"2017-01-31T00:00:00.000Z","published_on_unix":1485820800}}},{"node":{"number":44,"relative_category":"blog/organization","fields":{"title":"整理したい私はITILをかぶる、PlantUMLへの愛","excerpt":"現在、ネクイノでエンジニアリングマネージャー、バックエンドエンジニア、インフラエンジニアを担当している私は、年の瀬を迎えて振り返り記事を書くことに決めました。この記事では、PlantUMLに絞り、振り返ることで気づいた問題点とその解決策を詳細に描写します。PlantUMLは私にとって全知全能のツールではありませんが、愛しているツールであり、これまでの8ヶ月間の成長を共有したいと思います。   > PROBLEMPROBLEM \n\n振り返ることで私が気づいた主な問題点は、開発チーム全体がまだ機能していないことでした。管理規程はあるものの、業務フローが明示化されておらず、誰が何を何の目的で業務を回しているか分からない状態でした。この可視化されていないプロセスが問題になるケースが増えてきました。  > SOLUTIONSOLUTION \n\nこの問題に対して、私は入社早々PlantUML1を活用して業務フローの可視化を始めました。PlantUMLはオープンソースのUMLダイアグラム作成用のテキストベースの言語であり、シークエンス図、ユースケース図、アクティビティ図、クラス図などのダイアグラムをシンプルで直感的に書くことができます。 \n\n私がネクイノに入社してから使用し始めたのは、Emacsのorg-babelで実装された2014年頃であり、esa.ioやVS Codeなどで実装されてから爆発的に普及したと記憶しています。私がesa.ioでPlantUMLの実装を要望したのも良い思い出です。  > やったことやったこと \n\nさて、私はネクイノに入社してすぐに既存システムの運用開発と情シス（業務運用）の部長職にアサインされました。外部パートナーが入るということで、開発フローが大きく変わる節目にありました。  > 開発フローを整備する開発フローを整備する \n\n開発フローを整備するために、新しく入る外部パートナーがプロジェクトマネージャ、ブリッジエンジニア・コミュニケーター、モバイルエンジニア、バックエンドエンジニア、フロントエンジニア、品質チェックを含めて20名程の体制であることを把握しました。また、既存システムの運用開発ではプロダクトマネジャー、プロダクトオーナーが各開発者とともに企画策定を行うことが慣習として存在していました。そこで、私は企画から実装、レビュー、リリースまでの流れを整理しました。 \n\n 開発の流れ \n\nその結果、開発フローはJira上で大まかな流れとして、エピック(仕様策定)、エピック(見積)、エピック(実装)、エピック(レビュー)、エピック(リリース)という5つのステップに分かれました。このフローをPlantUMLを使って可視化しました。 \n\n  > 要望フローを整備する要望フローを整備する \n\nまた、要望フローについても同様に整備しました。機能要望、バグ報告、改善要望がSlackチャンネルに散在しており、チケット化されないケースがあったため、GoogleフォームとJira連携を行い、要望の集約とトリアージを行いました2。プロダクトマネジャーの体制が整備された後も、バグ報告や改善要望は要所要所で利用され、トリアージが定期的に活用されるようになりました。 \n\n  > デプロイフローを整備するデプロイフローを整備する \n\n開発が進んでいくと、今度は開発環境が足りなくなりました。当時はステージング環境と本番環境しかなく、かつ、ステージング環境がテスト環境兼デモ環境の役割を呈しており、ステージング環境おテストで不具合を起こすとデモに影響が出るという状態が続いておりました。また、外部パートナーが開発するに当たり繊細なステージング環境を使うのが難しいため進捗に影響が出始めておりました。 \n\n急を要する事態のためAWS CDKでステージング環境とは別に結合環境を用意し3、デプロイフローを整備しました。 \n\n  > 障害対応フローを整備する障害対応フローを整備する \n\nさて、運用開発が順調に進んでいくと、今度は障害が頻繁に起きていることに気づきました。いいえ、薄々気づいていたのですが多忙にかまけて蓋をしておりました。ここに関しては本腰を入れてAWSサポートプランをビジネスに変更し原因を突き止めました。協力いただいた各位には感謝です。 \n\nまた、今まで見過ごされていたGoogle Workspace等の業務運用のシステムも含め障害報告の体制を敷くとともに、監視体制も強化しました。 \n\n  > 業務フローを整理する業務フローを整理する \n\nまだまだあります。業務内容に関しては詳細は書けませんが、部内の業務から他部署の業務まで安全に生産性を高めるため整理を行いました。まだまだ行います。  > リモート飲みのフローを整備するリモート飲みのフローを整備する \n\nいよいよ疲れてきたのでお酒が飲みたくなりました。飲み会フローを作ってみましたが思いの外手間がかかることが分かりあまり活用できておりません。その代わり社内でオンラインシャッフルランチという制度ができました。 \n\n  > 分かったこと分かったこと \n\nはい、こうして振り返ると入社時に感じていた雑然さは業務フローが明確でない状態のことでした。開発者なら分かると思いますが、企画段階で思い描く構成図は実装する段になるとあまり意味をなさず、結局は頭の中はシークエンス図でいっぱいになります。それと同じで、登場人物、登場人物間のメッセージ、メッセージの大枠が関係者に共有されていないと、いくらリソースが投下されても不安定で生産性に伸び悩むのです。つまり、雑然とした環境を整理すると言うことはシークエンス図を書くことに他なりません。 \n\nしかしながら、当該環境一つ一つを俯瞰的に見るとITILプラクティスそのものであることにも気づきます。 \n\nITILとはITサービスマネジメントのベストプラクティスフレームワークのこと。何らかの高い技術を持っていても、投資対効果を考えていなければ赤字になりビジネスと成り立ちませんし、顧客のことを考えずに作ったものに価値はありませんし、サービスの評価を落とすことになります。このようなことを防ぐには顧客目線やビジネス的な観点が必要で、そのノウハウがまとまったものがITILです。  > 今回対応したプラクティス今回対応したプラクティス \n\n今回の振り返りでは具体的に次のプラクティスをなぞっておりました。    振り返り ITILプラクティス     開発フローを整備する 継続的サービス改善   要望フローを整備する 要求管理、問題管理   デプロイフローを整備する リリース管理及び展開管理   障害対応フローを整備する インシデント管理   業務フローを整理する CMMI   リモート飲みのフローを整備する 組織変更管理    \n\nCMMIと組織変更管理が分かりづらいの少し補足します。 \n\n- CMMIとは能力成熟度モデル統合のことで、業務フローを評価し5段階で成熟度レベルを出す手法です。現状はレベル1-2（初期段階）のものがほとんどなのでまずはPlantUMLを使い共通認識を作るところから始めました。\n- 組織変更管理とは経営学で言うところのチェンジマネジメントに当たります。ここでは各種フローを整備しメンバー全員に落とし込むことを目指します。『Fearless Change』では今回のリモート飲み以外にも多くのパターンランゲージが紹介されています。  > WRAPUPWRAPUP  > 次にすること次にすること \n\nネクストアクションですが、採用フローを考えています。 \n\n（読者の皆様はどんなシークエンス図を思い浮かべましたか?） \n\nというわけで、ネクイノはPlantUMLを愛している開発者を募集中です。  > PR__colon__ ネクイノとはPR: ネクイノとは \n\n「世界中の医療空間と体験を再定義する」をミッションに、人々と医療の間にICTのチカラで橋をかける遠隔医療ソリューションを手掛けている会社です。医療というと高齢の患者さんをイメージされるかもしれませんが、我らがターゲットとしているのは現役世代の方。病気を治療するというより、現役世代がQOLを高めるためのサポートを目的としています。 \n\nメインサービスは、女性に特化したピルのオンライン診療アプリ「スマルナ」。ピルを飲まれている人だけでなく、受診や服用に抵抗がある方にも気軽に利用していただけたらと思いサービス提供しています。診察室の手前に助産師と薬剤師を配置した相談室を設ける等、受診のハードルを下げる工夫をそこかしこに施しているのが特徴です。 \n\n様々なメディカルコミュニケーションを行っています - 専門家相談 - カスタマーサポート - ユーザーコミュニティ  \n\n妻からは「10年前にサービスがあったら良かったのに」とお墨付きをいただいており、興味をもった方は詳しくはこちらをご覧下さい。 https://smaluna.com/  \n\n1. [B! plantuml] nabinnoのブックマーク ↩ \n2. https://github.com/nabinno/google-forms-to-jira-slack ↩ \n3. CDKはaws-rails-provisionerを参考に ecs_patterns.ApplicationLoadBalancedFargateService を実装しました ↩"},"name":"[2020-12-30]整理したい私はITILをかぶる、PlantUMLへの愛","tags":["team-building"],"childPublishedDate":{"published_on":"2020-12-30T00:00:00.000Z","published_on_unix":1609286400}}},{"node":{"number":47,"relative_category":"blog/organization","fields":{"title":"マネジメントとは何か","excerpt":"組織が拡大するにつれて、私は自らの手だけでは対応できないことに気づきました。そこで、マネジメント業務をチームのメンバーに委譲する必要が生じました。これは容易なことではありません。個々のタスク指示はうまくいくかもしれませんが、「よしなにやって」と言っても、周辺の整理も含めてタスクを円滑に進めるための調整を伝えるのは一言では不可能です。同じマネジメント職同士なら問題ないのですが、私がまだマネジメントの世界に入りたてのメンバーと連携する場合、どうすれば良いのかわかりませんでした。  > PROBLEMPROBLEM \n\n- チームメンバーにマネジメントを理解して欲しい けれど、マネジメントに関する書籍が多く、一言でこれを読めと伝えるのが難しい 一方、一言では言い表せないが、一目でなら表せるものが自分の中に出来上がっている 昔手にした書籍をヒントにマネジメントの枠組みというのを自分の頭に構築していた ただ、そのことについて書かれた書籍を見たことがない \n- けれど、マネジメントに関する書籍が多く、一言でこれを読めと伝えるのが難しい\n- 一方、一言では言い表せないが、一目でなら表せるものが自分の中に出来上がっている 昔手にした書籍をヒントにマネジメントの枠組みというのを自分の頭に構築していた ただ、そのことについて書かれた書籍を見たことがない \n- 昔手にした書籍をヒントにマネジメントの枠組みというのを自分の頭に構築していた ただ、そのことについて書かれた書籍を見たことがない \n- ただ、そのことについて書かれた書籍を見たことがない  > SOLUTIONSOLUTION \n\nそこで、私は自分の頭の中に構築したマネジメントの枠組みを整理することにしました。 \n\n私はそのフレームワークを「GRPR（グルーパー）マネジメントサイクル」と呼んでいます。GRPRはゴール（G）、リソース（R）、プロセス（P）、ルール（R）の頭文字の組み合わせです。私はこのGRPRを grouper（熱帯や温帯の海域に分布する魚のハタの意）の略字に見立てることで、マネジメントサイクルをハタの形に重ねて覚えています。下記がそのサイクルです。どうです、ハタに見えませんか? \n\n \n\nこのフレームワークは、どの職種にも応用できます。私はこれまでいくつかの職種でマネジメントを行ってきましたが、どれも無理なく実施できました。また、このフレームワークはマネジメント関連の書籍を整理する際にも役立ちます。 \n\nさて、それでは各要素を具体的に見ていきましょう。  > ゴールゴール \n\n計画と意思決定を行います。これはSMARTの原則に従って戦略的かつ具体的かつ測定可能で達成可能な目標を設定することが重要です。以下は分かりやすい例です。 \n\n目標例 \n\n- デザインコーディネーション 組織パターン \n- 組織パターン\n- サービスカタログ  > 変化前のリソースとプロセス変化前のリソースとプロセス \n\nゴールを決めた後にその方向に動き出すための現状把握を行います。対象にはリソースとプロセスがありますが、それらは人も含みます。まずリソースについて、人の場合は意志の状態と価値観の確認を行い、人以外の場合は当該リソースのステータスを確認します。 \n\n- マインドフルネス、アンガーマネジメント、心理的安全性\n- キャリアアンカー \n\nプロセスについては各業務フロー、システムフローを確認します。 \n\n- CMMI  > 変化後のリソースとプロセス変化後のリソースとプロセス \n\n現状を把握した後に目指すべきリソースとプロセスが決まったらそちらに変更を促します。所謂 指示と動機付けを元にした「変更管理」を行います。これはリーダーシップという切り口で語られることが多いマネジメント領域です。  > ルールルール \n\n最後にリソースやプロセスの現状や変化を観察し評価します。この評価によってルールを定め、次のゴールへと段階を上げていきます。なお、ルールはリソースやプロセスに制限をかけるものではありますが、長期的に見た際に安全に業務を回すためのガードレールの役割を果たします。 \n\n例えば、ルールには下記のようなものがあります。 \n\n- 業務運用方針\n- 各パブリッククラウドのIAM設定・運用の方針\n- AWS Control Tower  > WRAPUPWRAPUP \n\nまとめると、これが私が考えたマネジメントのフレームワークです。まだ未完成ではありますが、今後はメンバーからのフィードバックを受けながらさらに洗練していきたいと思っています。"},"name":"[2021-04-01]マネジメントとは何か","tags":["team-building"],"childPublishedDate":{"published_on":"2021-04-01T00:00:00.000Z","published_on_unix":1617235200}}}]}},"pageContext":{"number":64}},"staticQueryHashes":[]}